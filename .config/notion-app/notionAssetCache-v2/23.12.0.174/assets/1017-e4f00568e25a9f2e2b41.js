"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[1017],{46978:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(77094),d=o.n(n),i=o(67294),r=o(24405);const a=o(85).C_1,s=o(85).L97;function l(e,t){let{isSelected:o}=e;window.__c={n:"RadioButtonIcon"};const{radioButtonStyle:n,dotStyle:l}=(0,r.yK)((e=>({radioButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,borderRadius:16,marginRight:8,background:o?e.blueColor:e[s],border:o?"none":`1px solid ${e.radioButtonBorder}`,transition:"background 100ms ease-out"},dotStyle:{width:6,height:6,borderRadius:6,background:e[a],transition:"opacity 100ms ease-out",opacity:o?1:0}})),[o]);return i.createElement("div",{ref:t,style:n},d()("div",{style:l}))}const u=i.forwardRef(l)},10644:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(77094),d=o.n(n),i=(o(67294),o(83355)),r=o(5366),a=o(64369),s=o(27386);const l=o(85).nx5,u=o(85).jkI;class c extends i.Z{renderComponent(){return d()(s.Z,{},void 0,d()(a.Z,{isSmall:!0,style:{textAlign:u}},void 0,d()(r.FormattedMessage,{id:"spaceSubscriptionPlans.offlineMessage",[l]:"Please go online to manage your plan."})))}}c.displayName="SpaceSubscriptionPlansOfflineMessage";const p=c},16116:(e,t,o)=>{o.d(t,{F:()=>a});var n=o(77094),d=o.n(n),i=o(86664),r=o(67294);function a(e){window.__c={n:"AddressElementWrapper"};const{address:t,updateAddress:o}=e,n=(0,r.useCallback)((e=>{const{name:t,address:n}=e.value;o({name:t,addressLine1:n.line1,addressLine2:n.line2??void 0,city:n.city,state:n.state,zipCode:n.postal_code,country:n.country})}),[o]);return d()(i.AddressElement,{options:{mode:"billing",defaultValues:{name:null==t?void 0:t.name,address:{line1:null==t?void 0:t.addressLine1,line2:null==t?void 0:t.addressLine2,city:null==t?void 0:t.city,state:null==t?void 0:t.state,postal_code:null==t?void 0:t.zipCode,country:null==t?void 0:t.country}}},onChange:n})}},37030:(e,t,o)=>{o.d(t,{k:()=>T});var n=o(77094),d=o.n(n),i=o(86664),r=o(67294),a=o(81954),s=o(97880),l=o(62216),u=o(79315),c=o(27242),p=o(16116),m=o(24405),y=o(8848),v=o(3909),b=o(82990),g=o(5366);const f=o(85).nx5,C=o(85).LCb,h=o(85).lUP,S=o(85).zrY,w=o(85).L_E;function F(e){window.__c={n:"CardElementWrapper"};const{paymentMethods:t,[C]:o,payButtonState:n}=e,r=(0,m.yK)((e=>({[w]:{backgroundColor:e[S],borderWidth:1,borderStyle:"solid",borderColor:e.groupedFormBorder,borderRadius:3,padding:"5px 5px 5px 10px"},header:{display:"flex",alignItems:"center",marginBottom:6,fontSize:12,fontWeight:b.Z.fontWeight.semibold,color:e.mediumTextColor,justifyContent:"space-between",paddingTop:20},iconWrapper:{display:"flex",gap:5},[h]:{width:23},stripeBase:{iconColor:e.blueColor,color:e.regularTextColor,fontFamily:b.Z.baseFontFamily.sans,fontSmoothing:"antialiased",fontSize:"14px","::placeholder":{color:e.lightTextColor},lineHeight:"2em"},stripeComplete:{iconColor:e.blueColor},stripeInvalid:{color:y.ZP.red,iconColor:y.ZP.red}})),[]);if("credit_card"!==o)return null;const a=1===t.length&&"credit_card"===t[0];return d()("div",{},void 0,d()("label",{style:r.header},void 0,d()(g.FormattedMessage,{id:"spaceSubscriptionPaymentForm.paymentInformation.header",[f]:"Payment details"}),a?d()("div",{style:r.iconWrapper},void 0,d()("div",{},void 0,v.Z.visa(r[h])),d()("div",{},void 0,v.Z.mastercard(r[h])),d()("div",{},void 0,v.Z.amex(r[h])),d()("div",{},void 0,v.Z.dinersclub(r[h]))):null),d()("div",{style:r[w]},void 0,d()(i.CardElement,{options:{disabled:"disabled"===n,hidePostalCode:!0,style:{base:r.stripeBase,complete:r.stripeComplete,invalid:r.stripeInvalid}}})))}var Z=o(502);const x=o(85).Dd5,A=o(85).KOz,_=o(85).D7I,k=o(85).gGi,B=o(85)._V5,P=o(85).rps,I=o(85).$bT,z=o(85).LCb,E=o(85).JRG;function K(){c.Z.update((e=>{if(!e.open)return e;const{paymentData:t,...o}=e;return o}))}function T(e){window.__c={n:"CheckoutPaymentField"};const{paymentMethods:t,[E]:o,[z]:n,address:c,updateAddress:m}=e,[y,v]=(0,a.VK)((()=>{var e;return[l.getSubscriptionElementsGroup(),null===(e=u.default.state.currentUserStore)||void 0===e?void 0:e.getEmail()]}),[]);if("control"===y)return d()(F,{paymentMethods:t,[E]:o,[z]:n});if("payment_and_address"===y){const e={};return v&&(e.defaultValues={email:v}),d()("div",{style:{display:"flex",[I]:P,gap:24}},void 0,d()(Z.w,{title:"Billed to"},void 0,c&&m?r[_](r.Fragment,null,d()(p.F,{address:c,updateAddress:m}),d()("div",{style:{[B]:8,width:k}})):null,d()(i.LinkAuthenticationElement,{[A]:e})),d()(Z.w,{title:"Payment details"},void 0,d()(i.PaymentElement,{[x]:()=>K()})))}if("payment"===y){const e={};return v&&(e.defaultValues={email:v}),d()("div",{style:{display:"flex",[I]:P,gap:24}},void 0,d()(Z.w,{title:"Billed to"},void 0,d()(i.LinkAuthenticationElement,{[A]:e})),d()(Z.w,{title:"Payment details"},void 0,d()(i.PaymentElement,{[x]:()=>K()})))}(0,s.unreachable)(y)}},48209:(e,t,o)=>{o.d(t,{n:()=>k});var n=o(97464),d=o.n(n),i=o(77094),r=o.n(i),a=o(67294),s=o(24405),l=o(82990),u=o(5366),c=o(80676),p=o(74194),m=o(58032);const y=o(85).Joh,v=o(85).D7I,b=o(85).cZW,g=o(85).Yzm,f=o(85).ESK,C=o(85).nx5,h=o(85).Dd5,S=o(85).pkR,w=o(85).NLk,F=o(85).AEv,Z=o(85).wuN,x=o(85).g7N,A=o(85).zrY,_=o(85).L_E;function k(e){window.__c={n:"CheckoutVATCodeInput"};const{temporaryVatCode:t,vatApplicable:o,[S]:n,tooltip:i,[h]:k}=e,B=(0,s.yK)((e=>({[_]:{backgroundColor:e[A],borderWidth:1,borderStyle:"solid",borderColor:e.groupedFormBorder,borderRadius:3,borderBottom:"none"},header:{display:"flex",alignItems:"center",[x]:6,fontSize:12,fontWeight:l.Z.fontWeight.semibold,color:e[Z],justifyContent:"space-between",paddingTop:20},input:{background:"none",boxShadow:"none",padding:8},[F]:{color:e[Z],fontSize:l.Z.fontSize.UISmall.desktop,marginTop:5,[x]:10},[w]:{[x]:20}})),[]),P=(0,u.useIntl)(),I=(0,a.useCallback)((e=>{k(e.target.value)}),[k]);return o?r()("div",{},void 0,r()("label",{style:B.header},void 0,r()(u.FormattedMessage,{id:"spaceSubscriptionPaymentForm.vatCountryCode.header",[C]:"VAT (optional)"})),r()(m.Z,{placement:m.Z[f].Top,alignment:m.Z.Alignment.End,render:e=>a[v]("div",d()({},e,{style:B[_]}),r()(c.c,{},void 0,r()(p.Z,{value:t,style:B.input,[S]:n,[b]:P[g]({id:"spaceSubscriptionPaymentForm.vatCountryCode.placeholder",[C]:"VAT/GST number"}),[h]:I}))),disableTooltip:!i,[y]:()=>i}),r()("div",{style:B[F]},void 0,r()(u.FormattedMessage,{id:"spaceSubscriptionBilling.vatCountryCode.subtitle",[C]:"Please include your country code"}))):r()("div",{"data-testid":"empty-div",style:B[w]})}},94699:(e,t,o)=>{o.d(t,{J:()=>O});var n=o(77094),d=o.n(n),i=o(67294),r=o(81954),a=o(97880),s=o(62216),l=o(16116),u=o(480),c=o(24405),p=o(5366),m=o(50906),y=o(80676),v=o(74194),b=o(97464),g=o.n(b),f=o(58573),C=o(87279),h=o(52275),S=o(78140),w=o(32163),F=o(44532),Z=o(72495);const x=o(85).ccq,A=o(85).j7K,_=o(85).y79,k=o(85).cZW,B=o(85).nx5,P=o(85).Yzm,I=o(85).ESK,z=o(85)._lc,E=o(85).D7I;function K(e){window.__c={n:"CheckoutCountryDropdown"};const{availableCountries:t,address:o,updateAddress:n}=e,r=(0,c.yK)((()=>({input:{background:"none",boxShadow:"none",padding:8,fontSize:14}})),[]),a=(0,u.O7)(),s=(0,p.useIntl)(),[l,b]=(0,i.useState)(!1),[K,T]=i.useState(""),L=(0,f.ZP)(K,t,(e=>e.name)).map(((e,t)=>({key:t,render:t=>i[E](h.Z,g()({},t,{title:e.name})),action:()=>{e.countryCode!==o.country&&n({addressLine1:"",addressLine2:"",zipCode:"",city:"",state:"",country:e.countryCode}),T(e.name),b(!1),m.trackSubscriptionUpgradeModalAddressFormUpdated(a,{addressType:"country",addressUpdate:e.name})}})));return d()(y.c,{},void 0,d()(F.ZP,{popupType:F.ZP[z].Popup,alignmentToOrigin:F.ZP.Alignment.End,[x]:F.ZP[I].Right,originGap:0,open:l,origin:d()(v.Z,{value:K,focus:l,[k]:s[P]({id:"spaceSubscriptionPaymentForm.billingInformation.country",[B]:"Country or region"}),style:r.input,onChange:e=>{T(e.target.value),n({country:void 0})},onFocus:()=>{b(!0)}}),onDismiss:()=>{b(!1)},render:()=>d()(S.Z,{menuType:C.og.Popup,width:"100%"},void 0,d()(w.Z,{type:w.i[_],[A]:K.length>0?0:void 0,sections:[{key:0,showNoResultMessage:!0,render:e=>i[E](Z.Z,g()({},e,{title:d()(p.FormattedMessage,{id:"spaceSubscriptionBillingInfoForm.countryDropdown.title",[B]:"Select a country or region"})})),items:L}]}))}))}const T=o(85).D7I,L=o(85).BQ6,R=o(85).QmD,W=o(85).cZW,M=o(85).nx5,V=o(85).Yzm,D=o(85).L_E;function N(){return(0,c.yK)((e=>({[D]:(0,y.s)(e),cityZipRow:{display:"flex"},verticalDivider:{display:"flex",borderLeft:"1px solid",borderLeftColor:e.groupedFormBorder},zipRow:{display:"flex",flex:2},stateRow:{display:"flex",flex:3},input:{background:"none",boxShadow:"none",padding:8,fontSize:14}})),[])}function G(e){window.__c={n:"CheckoutNotionAddressForm"};const{address:t,availableCountries:o,shouldShowBusinessName:n,updateAddress:r}=e,a=N(),s=(0,p.useIntl)();return d()("div",{[L]:a[D]},void 0,d()(U,{[W]:s[V]({id:"spaceSubscriptionPaymentForm.billingInformation.fullName",[M]:"Full name"}),address:t,updateAddress:r,addressKey:"name"}),n&&d()(U,{[W]:s[V]({id:"spaceSubscriptionPaymentForm.billingInformation.businessName",[M]:"Business name (optional)"}),address:t,updateAddress:r,addressKey:"businessName"}),o?d()(K,{availableCountries:o,updateAddress:r,address:t}):null,t?i[T](i.Fragment,null,d()(U,{[W]:s[V]({id:"spaceSubscriptionPaymentForm.billingInformation.address",[M]:"Address"}),address:t,addressKey:"addressLine1",updateAddress:r}),d()(U,{[W]:s[V]({id:"spaceSubscriptionPaymentForm.billingInformation.city",[M]:"City"}),addressKey:"city",address:t,updateAddress:r}),d()("div",{[L]:a.cityZipRow},void 0,d()("div",{[L]:a.stateRow},void 0,d()(U,{[W]:s[V]({id:"spaceSubscriptionPaymentForm.billingInformation.state",[M]:"State / Province"}),address:t,addressKey:R,updateAddress:r})),d()("div",{[L]:a.verticalDivider}),d()("div",{[L]:a.zipRow},void 0,d()(U,{[W]:s[V]({id:"spaceSubscriptionPaymentForm.billingInformation.zipCode",[M]:"Zip code"}),address:t,addressKey:"zipCode",updateAddress:e.updateAddress})))):null)}function U(e){window.__c={n:"AddressInputField"};const{address:t,updateAddress:o,addressKey:n,[W]:r}=e,a=(0,u.O7)(),s=N(),l=(0,i.useCallback)((e=>{m.trackSubscriptionUpgradeModalAddressFormUpdated(a,{addressType:n,addressUpdate:e.target.value}),o({[n]:e.target.value})}),[n,o,a]);return d()(y.c,{},void 0,d()(v.Z,{value:t[n],[L]:s.input,[W]:r,onBlur:l,onChange:e=>o({[n]:e.target.value})}))}function O(e){window.__c={n:"SpaceSubscriptionAddressForm"};const{address:t,availableCountries:o,updateAddress:n,shouldShowBusinessName:i}=e,u=(0,r.VK)((()=>s.getSubscriptionElementsGroup()),[]);return"payment"===u||"payment_and_address"===u?d()(l.F,{address:t,updateAddress:n}):"control"===u?d()("div",{style:{marginTop:20}},void 0,d()(G,{address:t,availableCountries:o,shouldShowBusinessName:i,updateAddress:n})):void(0,a.unreachable)(u)}},502:(e,t,o)=>{o.d(t,{C:()=>S,w:()=>w});var n=o(77094),d=o.n(n),i=o(96486),r=o(67294),a=o(480),s=o(81954),l=o(24405),u=o(65544),c=o(62216),p=o(8323),m=o(38479),y=o(27242),v=o(37030),b=o(48209),g=o(94699);const f=o(85).num,C=o(85).JRG,h=o(85).LCb;function S(e){window.__c={n:"SpaceSubscriptionBillingInfoForm"};const{paymentMethods:t}=e,o=(0,a.O7)(),n=(0,m.y)(),l=(0,r.useMemo)((()=>(0,i.debounce)((async()=>{await u.W_(o)}),3e3)),[o]),[S,w,F,Z,x,A,_]=(0,s.VK)((()=>{let e,t,o,n,d=!1;const{state:i}=y.Z;return i.open&&(e=i.temporaryAddress,t=i[h],o=i[C],n=i.temporaryVatCode,d=i[f]),[(0,p.isPlusTierOrAbove)(),e,t,n,o,d,c.getSubscriptionElementsGroup()]}),[]),k=(0,r.useCallback)((async e=>{if(y.Z.state.open&&(y.Z.setAddressField(e),await l(),n)){const t=n.find((t=>t.countryCode===(null==e?void 0:e.country)));t&&y.Z.update((e=>({...e,[f]:Boolean(t[f])})))}}),[n,l]),B=(0,r.useCallback)((async e=>{y.Z.update((t=>({...t,temporaryVatCode:e}))),await l()}),[l]);return w&&F&&x?d()("div",{},void 0,d()(v.k,{paymentMethods:t,[h]:F,[C]:x,address:w,updateAddress:k}),"control"===_?d()(g.J,{address:w,availableCountries:n,shouldShowBusinessName:S,updateAddress:k}):null,d()(b.n,{onChange:B,temporaryVatCode:Z,[f]:A})):null}function w(e){window.__c={n:"BillingSection"};const t=(0,l.yK)((()=>({text:{color:"var(--text-secondary-dark, #7F7F7F)",fontSize:12,fontWeight:500,marginBottom:12}})),[]);return d()("div",{},void 0,d()("div",{style:t.text},void 0,e.title),e.children)}},80676:(e,t,o)=>{o.d(t,{s:()=>r,c:()=>a});var n=o(77094),d=o.n(n),i=(o(67294),o(24405));function r(e){return{backgroundColor:e.groupedFormBackground,borderWidth:1,borderStyle:"solid",borderColor:e.groupedFormBorder,borderRadius:3,borderBottomWidth:0}}function a(e){window.__c={n:"FormGroup"};const t=(0,i.yK)((t=>({group:{display:"flex",borderBottomColor:t.groupedFormBorder,borderBottomWidth:1,borderBottomStyle:"solid",alignItems:"center",flex:1,...e.style}})),[e.style]);return d()("div",{style:t.group},void 0,e.children)}},38479:(e,t,o)=>{o.d(t,{y:()=>a});var n=o(480),d=o(59054),i=o(97880),r=o(54642);function a(){const e=(0,n.O7)(),[t]=(0,d.r5)((async()=>{const t=await r.getAvailableCountries(e,{});return"success"===t.type?t.data.countries:"failed"===t.type?[]:void(0,i.unreachable)(t)}),[e]);return t.value}}}]);