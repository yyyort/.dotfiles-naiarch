"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4843],{34947:(t,e,o)=>{o.r(e),o.d(e,{FeatureIntroPopup:()=>J,default:()=>X});var i=o(77094),n=o.n(i),r=o(67294),a=o(81954),d=o(24405),l=o(8848),s=o(66673),u=o(3909),g=o(5366),c=o(82990),m=o(79315),p=o(42922),h=o(73063),v=o(28451),y=o(89728),B=o(44532);const x=o(85).Exd,f=o(85).AEv;const b=function(t){window.__c={n:"FeatureIntroContent"};const{imageSrc:e,imageStyles:o,title:i,[f]:a}=t,l=(0,d.yK)((t=>({content:{padding:"0 24px",height:90},title:{[x]:c.Z[x].UIRegular.desktop,fontWeight:c.Z.fontWeight.semibold,marginBottom:5,marginTop:16},[f]:{[x]:c.Z[x].UIRegular.desktop,color:t.mediumTextColor},image:{display:"flex",margin:"auto"},imageWrapper:{borderBottom:`1px solid ${t.lightDividerColor}`,display:"flex"}})),[]);return r.createElement(r.Fragment,null,n()("div",{style:l.imageWrapper},void 0,n()("img",{style:{...l.image,...o},src:e},e)),n()("div",{style:l.content},void 0,n()("div",{style:l.title},void 0,i),n()("div",{style:l[f]},void 0,a)))},I=o(85).bey,k=o(85).zDZ,F=o(85).RJH,C=o(85).jkI,w=o(85).UPJ;const P=function(t){window.__c={n:"FeatureIntroInitialContent"};const e=(0,d.yK)((t=>({headerContainer:{display:"flex",marginTop:12,marginBottom:8,[w]:C},headerText:{fontWeight:c.Z.fontWeight.medium},[F]:{display:"flex",[w]:C},icon:{width:24,height:24,fill:t.mediumIconColor,marginTop:4},[k]:{fontSize:14,color:t.mediumTextColor,marginBottom:16,textAlign:C}})),[]);return r.createElement(r.Fragment,null,t.icon&&n()("div",{style:e[F]},void 0,t.icon(t[I]?t[I]:e.icon)),n()("div",{style:e.headerContainer},void 0,n()("div",{style:e.headerText},void 0,t.header)),n()("div",{style:e[k]},void 0,t[k]))},S=o(85).gdQ,Z=o(85).Yzm,T=o(85).TtP,M=o(85).PG2,E=o(85).BQ6,D=o(85).nx5,W=o(85).D7I,_=o(85).XNW,N=o(85).ChN,L=o(85).PXg,U=o(85).PdN,G=o(85).yzD,R=o(85).lWm,z=o(85).jkI,A=o(85).EMU,K=o(85).sM5,O=o(85).FOQ,j=o(85).sEd,H=o(85).ccq,Q=o(85).N8$;function J(t){window.__c={n:Q};const{children:e,initialPromo:o,steps:i,isUserEligible:x=!0,[H]:f,alignmentToOrigin:I,seenFeatureUserSetting:k,userSettingsStore:F,allowExternalMouseEvents:C,onDismiss:w,onTryFeatureClick:J,onPopupSeen:X,onLearnMore:$,ctaMessage:q,calloutId:V}=t,Y=(0,g.useIntl)(),tt=(0,d.yK)((t=>({[j]:{background:"light"===t.mode?t.contentBackground:t.sidebarBackground,borderRadius:8,width:320,padding:"20px 20px 16px",boxShadow:t.mediumBoxShadow},[O]:{[K]:A,alignItems:z,justifyContent:z},dismissButton:{marginTop:10},closeButton:{position:"absolute",top:10,right:10,padding:0,borderRadius:"50%",height:24,width:24,background:t[R]},closeButtonHoveredStyle:{backgroundColor:t[G]},[U]:{width:14,height:14,fill:"light"===t.mode?l.FN.light.gray[400]:l.FN.dark.translucentGray[600]},backButton:{[L]:8,[N]:c.Z[N].medium},nextButton:{[N]:c.Z[N].medium},inactiveDot:{fill:t.lightIconColor},dot:{width:6,height:6,[L]:8},footer:{[_]:24,[L]:24,marginBottom:16,marginTop:8,alignItems:z,height:28,[K]:A}})),[]),[et,ot]=(0,r.useState)(0),it=(0,r.useCallback)((()=>{const t=null==F?void 0:F.getSettings();return!t||Boolean(!0===t[k])}),[k,F]),nt=(0,a.VK)((()=>!it()&&x&&m.default.state.inAppCalloutStore.canShow(V)||Boolean(t.forceShow)),[V,it,x,t.forceShow]),rt=(0,r.useCallback)((()=>{ot(et+1),null==$||$()}),[et,$]),at=(0,s.D9)(nt);return(0,r.useEffect)((()=>{nt&&!at&&(null==X||X())}),[nt,X,at]),n()(B.ZP,{popupType:B.ZP.PopupType.Popup,open:nt,origin:e,[H]:f,alignmentToOrigin:I,originGap:15,disableMouseCapture:C,render:()=>{const t=0===et,e=t?r[W](P,o):r[W](b,i[et-1]),a=t?r[W](r.Fragment,null,n()(p.Z,{[E]:tt[O],[M]:rt,isLarge:!0},void 0,q||n()(g.FormattedMessage,{id:"FeatureIntroPopup.learnMore.text",[D]:"Learn more"})),n()(y.Z,{[M]:w,isLightGray:!0,[E]:{...tt[O],...tt.dismissButton}},void 0,n()(g.FormattedMessage,{id:"FeatureIntroPopup.dismissButton.text",[D]:"Dismiss"}))):n()("div",{[E]:tt.footer},void 0,n()("div",{[E]:{[K]:A}},void 0,[...Array(i[T])].map(((t,e)=>{let o=tt.dot;return o=e===et-1?{...o}:{...o,...tt.inactiveDot},e===i[T]&&(o={...o,[L]:0}),u.Z.dot(o)}))),n()("div",{[E]:{...tt[O],[_]:"auto"}},void 0,et>1&&n()(y.Z,{[M]:()=>ot(et-1),[E]:tt.backButton,isGray:!0},void 0,n()(g.FormattedMessage,{id:"FeatureIntroPopup.backButton",[D]:"Back"})),et<i[T]&&n()(y.Z,{[M]:()=>ot(et+1),[E]:tt.nextButton,isBlue:!0},void 0,n()(g.FormattedMessage,{id:"FeatureIntroPopup.nextButton",[D]:"Next"})),et===i[T]&&n()(p.Z,{[M]:J},void 0,n()(g.FormattedMessage,{id:"FeatureIntroPopup.tryItOut.button",[D]:"Try it out"}))));return n()(v.P,{calloutId:V},void 0,e,n()(h.Z,{icon:u.Z.closeSmall,[E]:tt.closeButton,[S]:tt.closeButtonHoveredStyle,iconStyle:tt[U],disableBackground:!0,[M]:w,ariaLabel:Y[Z]({id:"FeatureIntroPopup.closeButton.ariaLabel",[D]:"Close"})}),a)},[E]:0===et?tt[j]:{...tt[j],padding:void 0}})}const X=J}}]);