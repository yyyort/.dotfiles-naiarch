"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4931],{64453:(t,e,n)=>{n.d(e,{P:()=>I});var i=n(77094),o=n.n(i),a=n(67294),r=n(81954),s=n(24405),l=n(15070),d=n(5366),g=n(82990),c=n(71669),p=n(64369);const u=n(85).SFi,m=n(85).HFH,h=n(85).ChN,f=n(85).s9u,b=n(85).Gpy,M=n(85).nx5,C=n(85).piI;function I(t){window.__c={n:"ConnectIntegrationHeader"};const{integrationModel:e,integrationConfig:n,spaceStore:i}=t,I=(0,s.yK)((t=>({integrationIcon:{width:40,height:40,borderRadius:6,overflow:"hidden"},title:{marginTop:4,fontSize:17,[h]:590,lineHeight:"22px"},subTitle:{[h]:g.Z[h].regular,fontSize:g.Z.fontSize.UISmall.desktop,color:t.lightTextColor,lineHeight:"17px",marginTop:6.5}})),[]),v=(0,r.VK)((()=>e.getInfo().developer_name||"Unknown"),[e]),y=(0,r.VK)((()=>e.getCapabilities()),[e]),w=function(t){const e=[];t.read_content&&e.push(o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationCapabilities.readContent",[M]:"view content"}));t.read_comment&&e.push(o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationCapabilities.readComment",[M]:"view comments"}));t.update_content&&e.push(o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationCapabilities.updateContent",[M]:"edit content"}));t[m]&&e.push(o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationCapabilities.updateComment",[M]:"edit comments"}));t.insert_content&&e.push(o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationCapabilities.insertContent",[M]:"create content"}));t[m]&&e.push(o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationCapabilities.insertComment",[M]:"create comments"}));return o()(d.FormattedList,{value:e,type:u})}(y),S=(0,r.VK)((()=>i.getName()),[i]);let x;return(0,l.ms)(y)&&y.webhooks?x=o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationDescriptionDlp",[M]:"Connect to {integrationName} for real-time monitoring and protection of sensitive content.",[b]:{[C]:v}}):y.webhooks&&(x=o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationDescriptionSiem",[M]:"Connect to {integrationName} for real-time monitoring, alerting, and analysis of your workspace event logs.",[b]:{[C]:v}})),a.createElement(a.Fragment,null,o()("div",{style:I.integrationIcon},void 0,o()(c.Z,{style:I.integrationIcon,src:n.info.icon})),o()(p.Z,{style:I.title},void 0,o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationName",[M]:"Connect {integrationName} to Notion",[b]:{[C]:v}})),o()(p.Z,{style:I.subTitle,isMultiline:!0},void 0,x),o()(p.Z,{style:I.subTitle,isMultiline:!0},void 0,y.webhooks&&o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationScope.webhooks",[M]:"{integrationName} will be authorized to receive event logs on all activity in {spaceName}.",[b]:{[C]:v,[f]:S}})," ",(0,l.ms)(y)&&o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationScope.contentCapabilities",[M]:"{hasWebhooks, select, true {For <b>all</b> pages, {integrationName} will also able to {formattedCapabilities}} other {For <b>all</b> pages, {integrationName} will able to {formattedCapabilities}}}.",[b]:{hasWebhooks:y.webhooks,b:t=>o()("span",{style:{[h]:g.Z[h].semibold}},void 0,t),[C]:v,formattedCapabilities:w}})))}},18153:(t,e,n)=>{n.r(e),n.d(e,{ConnectOAuthIntegrationModal:()=>G,useConnectIntegrationModalStyles:()=>Y});var i=n(97464),o=n.n(i),a=n(77094),r=n.n(a),s=n(67294),l=n(480),d=n(81954),g=n(24405),c=n(3909),p=n(5366),u=n(9844),m=n(9038),h=n(50906),f=n(77719),b=n(33929),M=n(79315),C=n(17549),I=n(39098),v=n(64453),y=n(42922),w=n(73063),S=n(58032),x=n(92660);const Z=n(85).lWm,k=n(85).yzD,F=n(85).H1U,N=n(85).NF1,_=n(85).jkI,T=n(85).Joh,K=n(85).pkR,A=n(85).F9A,O=n(85).OJ4,z=n(85).D7I,B=n(85).yCe,D=n(85).piI,L=n(85).ESK,P=n(85).Wqi,V=n(85).gdQ,W=n(85).BQ6,H=n(85).PG2,R=n(85).Yzm,Q=n(85).v8Q,U=n(85).MQR,J=n(85).yor,j=n(85).yVA,q=n(85).nx5,E=(0,p.defineMessages)({createButton:{id:"integrations.connectOAuthIntegrationModal.submitButton.create",[q]:"Connect to {integrationName}"},waiting:{id:"integrations.connectOAuthIntegrationModal.submitButton.waiting",[q]:"Waiting for changes in {integrationName}"},waitingTooltip:{id:"integrations.connectOAuthIntegrationModal.submitButton.waitingTooltip",[q]:"You need to complete some steps in {integrationName} to continue"},[j]:{id:"integrations.connectOAuthIntegrationModal.closeButtonLabel",[q]:"Close integration installation modal"}});function G(){window.__c={n:J};const t=(0,l.O7)(),e=Y(),n=(0,d.VK)((()=>C.Z.state.open?C.Z.state.integrationId:void 0),[]),i=(0,d.VK)((()=>M.default.state.currentSpaceStore),[]),a=n&&i?I.y2.createChildStore(i,{id:n,table:u.K2}):void 0,[g,Z]=s.useState(!1),k=(0,d.VK)((()=>{if(a)return a.getModel()}),[a]),F=(0,d.VK)((()=>null==k?void 0:k.getInfo()),[k]),N=(0,m.RW)(n);if(!(k&&F&&N&&i&&n))return null;const _=async()=>{g||(Z(!0),await f.$$({environment:t,integration:k,spaceId:i.id,from:"compliance_connected_apps_settings"}),h.trackSecurityAndComplianceIntegrationInstall(t,{integration_id:n,configuration_type:"oauth"}),q())},q=()=>{C.Z.setState({open:!1}),Z(!1)};return r()(x.Z,{innerStyle:e.modal,requireOnline:!0,modalStore:C.Z,onDismiss:q,render:()=>r()("div",{[W]:e.mobileModal},void 0,r()("div",{[W]:e.innerModal},void 0,r()(w.Z,{icon:c.Z.closeSmall,[H]:q,[W]:e[U],[V]:e[Q],ariaLabel:b.default[R](E[j])}),r()(v.P,{integrationModel:k,integrationConfig:N,[P]:i}),r()(S.Z,{placement:S.Z[L].Top,[T]:()=>s[z](p.FormattedMessage,o()({},E.waitingTooltip,{values:{[D]:F[B]}})),disableTooltip:!g,render:t=>s[z](y.Z,o()({[W]:e[O],[H]:_,[K]:g},t),g?r()("span",{},void 0,b.default[R](E.waiting,{[D]:F[B]})):r()("span",{[W]:e.createButton},void 0,b.default[R](E.createButton,{[D]:F[B]}),c.Z[A](e.redirectIcon)))})))})}function Y(){return(0,g.yK)((t=>({modal:{maxWidth:400,padding:"40px 20px 24px",fontSize:14,textAlign:_,[N]:10},[O]:{marginTop:40,padding:"0px 12px",width:360,height:32},innerStyle:{[N]:10},mobileModal:{fontSize:14,textAlign:_},innerModal:{display:"flex",flexDirection:"column",[F]:_},[Q]:{background:t[k]},[U]:{position:"absolute",top:"10px",right:"10px",background:t[Z],[N]:"100%",width:20,height:20,display:"flex",[F]:_,justifyContent:_,zIndex:10},createButton:{display:"flex",[F]:_},redirectIcon:{width:14,height:14,marginLeft:8}})),[])}},92660:(t,e,n)=>{n.d(e,{Z:()=>c});var i=n(77094),o=n.n(i),a=(n(67294),n(83355)),r=n(53953),s=n(44532);const l=n(85).sI1,d=n(85).wJk,g=n(85).P0R;class c extends a.Z{renderComponent(){const{render:t}=this[g],{device:e}=this.environment,n=this[g].modalStore.state;return e.isMobile?o()(s.ZP,{ariaLabel:this[g].ariaLabel,open:n.open,popupType:s.ZP.PopupType.SlideUp,origin:this[g].origin,[d]:this[g][d],render:t,style:this[g].style}):o()(r.Z,{ariaLabel:this[g].ariaLabel,open:n.open,preventHideChildrenWhileOpening:!0,render:t,[d]:this[g][d],style:this[g].style,[l]:this[g][l]})}}c.displayName="DefaultPopupOrModal"},17549:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(49085);class o extends i.default{getInitialState(){return{open:!1}}}const a=new o}}]);