"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[1471],{96375:(e,t,i)=>{i.r(t),i.d(t,{default:()=>dh});var r=i(97464),o=i.n(r),a=i(77094),s=i.n(a),n=i(67294),d=i(83355),c=i(40902),l=i(15145),u=i(41432),h=i(39068),v=i(55061),p=i(89101),m=i(21202),g=i(6287),b=i(13493),y=i(70279),A=i(33709),f=i(90468),S=i(99108),w=i(97880),k=i(5366),M=i(39098),I=i(480),C=i(81954),P=i(24405),B=i(58129),R=i(29369),_=i(19889),Z=i(82990),x=i(4708),O=i(33929),T=i(53150),K=i(49085),F=i(8848),D=i(3909),V=i(17659),L=i(52801),G=i(12359),U=i(43250),E=i(12534),N=i(16402),W=i(4761),z=i(73063),H=i(86176),q=i(58032),Y=i(70301),X=i(45653),j=i(67706),Q=i(62967),$=i(19719),J=i(87279),ee=i(98742),te=i(9919),ie=i(57538),re=i(10161),oe=i(48019),ae=i(31945),se=i(78140),ne=i(72495),de=i(64369);const ce=i(85).ccq,le=i(85).Hww,ue=i(85).Yzm,he=i(85).I7L,ve=i(85).BCA,pe=i(85).j7K,me=i(85).nQ3,ge=i(85).X5t,be=i(85).Lhq,ye=i(85).PlO,Ae=i(85).TNQ,fe=i(85).rpY,Se=i(85).Joh,we=i(85).PG2,ke=i(85).D7I,Me=i(85).nx5,Ie=i(85).Ixx,Ce=i(85).bey,Pe=i(85).dLQ,Be=i(85).FOQ,Re=i(85).L_E,_e=i(85).WAx,Ze=i(85).JJj,xe=i(85).Gm5,Oe=i(85).wgE,Te=i(85).eu,Ke=i(85).p61;function Fe(e){window.__c={n:"InboxActionsMenu"};const{[Ke]:t,rootStore:i,onArchiveClicked:r,onMarkAsReadClicked:a,onMarkAsUnreadClicked:d}=e,c=(0,I.O7)(),l=(0,I.Fy)(),u=(0,k.useIntl)(),h=(0,C.VK)((()=>(0,x.isUnsubscribeFromInboxEnabled)()),[]),p=(0,C.VK)((()=>(0,x.isGetNotifiedMenuCopyChangesEnabled)()),[]),g=(0,C.VK)((()=>!!t&&(0,v.$2)(t.type)),[t]),b=(0,C.VK)((()=>{const e=null==t?void 0:t.navigable_block_id;if(e)return M.G.createChildStore(i,{table:m.iU,id:e})}),[i,t]),y=(0,C.VK)((()=>null==b?void 0:b.getFollowSettingsKey()),[b]),A=(0,C.VK)((()=>{if(!y)return[];if(!b)return[];const e="inbox";return re.default.checkGate(Te)?te.CA({followSettingsKey:y,[Oe]:c,blockStore:b,from:e,useCopyChanges:p}):te.Zk({followSettingsKey:y,[Oe]:c,blockStore:b,from:e})}),[y,c,b,p]),f=(0,C.VK)((()=>h&&g&&A.length>0),[h,g,A]),S=(0,n.useCallback)((e=>{t&&(0,E.ZP)({event:e,[xe]:E.Af.NotificationClick,callback:()=>{r(),G[Ze]({userAction:"InboxActionsMenu.handleArchive",[Oe]:c,perform:e=>{V.aZ({[Ke]:t,rootStore:i,transaction:e})}})}})}),[c,t,r,i]),w=(0,n.useCallback)((e=>{t&&(0,E.ZP)({event:e,[xe]:E.Af.NotificationClick,callback:()=>{t.read?d():a(),G[Ze]({userAction:"InboxActionsMenu.toggleNotificationReadStatus",[Oe]:c,perform:e=>{V.$h({[Ke]:t,rootStore:i,transaction:e,read:!t.read})}})}})}),[c,t,a,d,i]),B=(0,n.useCallback)((()=>{y&&b&&t&&$[_e]({[Oe]:c,notificationId:t.id,pageId:b.pointer.id,isCurrentlyFollowing:(0,ie.Z)(y).following,from:"inbox"})}),[c,b,y,t]),R=(0,P.yK)((e=>({[Re]:{display:"flex",height:"min-content",background:e.buttonGroupBackground,boxShadow:e.lightBoxShadow,borderRadius:4,padding:2},[Be]:{height:l[Pe]?30:26,width:l[Pe]?30:26},[Ce]:{fill:e.mediumIconColor,padding:2},readIcon:{width:l[Pe]?21:19,height:l[Pe]?22:20},archiveIcon:{width:l[Pe]?24:23,height:l[Pe]?24:23},ellipsisIcon:{width:l[Pe]?24:23,height:l[Pe]?24:23},headerLabel:{paddingLeft:16,paddingRight:16,paddingTop:10,fontWeight:Z.Z.fontWeight.semibold},footerLabel:{padding:12,backgroundColor:e[Ie],boxShadow:`0 -1px 0 ${e.regularDividerColor}`,marginTop:1}})),[l]);return t?s()("div",{style:R[Re]},void 0,s()(q.Z,{[Se]:()=>t.read?s()(k.FormattedMessage,{[Me]:"Mark this notification as unread",id:"inboxActionsMenu.markNotificationAsUnread.tooltipMessage"}):s()(k.FormattedMessage,{[Me]:"Mark this notification as read",id:"inboxActionsMenu.markNotificationAsRead.tooltipMessage"}),[fe]:e=>n[ke](z.Z,o()({style:R[Be],icon:t.read?D.Z.notificationUnread:D.Z.notificationRead,[Ce]:{...R[Ce],...R.readIcon},[we]:w},e))}),s()(q.Z,{[Se]:()=>s()(k.FormattedMessage,{[Me]:"Archive this notification",id:"inboxActionsMenu.handleArchive.tooltipMessage"}),[fe]:e=>n[ke](z.Z,o()({style:R[Be],icon:D.Z.archive,[Ce]:{...R[Ce],...R.archiveIcon},[we]:S},e))}),f&&s()(q.Z,{[Se]:()=>n[ke](k.FormattedMessage,De[Ae]),[fe]:e=>s()(ae.ZP,{popupType:l[Pe]?ae.Z4.SlideUp:ae.Z4.Popup,alignmentToOrigin:ae.vR.Start,[ce]:ae.pO.Bottom,[fe]:e=>s()(se.Z,{menuType:J.og.Popup,minWidth:290,[he]:"50vh",maxWidth:l[Pe]?"100vw":void 0,header:s()(de.Z,{style:R.headerLabel,isSmall:!0,isSecondaryColor:!0},void 0,s()(k.FormattedMessage,p?{id:"UpdateSidebarTabUpdatesHeader.pageNotificationSettings.label",[Me]:"Page notification settings"}:{id:"UpdateSidebarTabUpdatesHeader.getNotifiedButton.label",[Me]:"Get notified for"}))},void 0,s()(oe.Z,{[xe]:{blocks:[],[Oe]:c,[ye]:void 0},[me]:[(0,Q.$J)({key:"in-app-notifications-section",[fe]:e=>n[ke](ne.Z,e),[be]:A.map((e=>e[ge]))})],[pe]:void 0,[ve]:()=>e.close()})),renderOrigin:t=>n[ke](z.Z,o()({ariaLabel:u[ue](De[Ae]),style:R[Be],icon:D.Z[le],[Ce]:{...R[Ce],...R.archiveIcon}},e,(0,ee.Z)(t,{[we]:()=>B()})))})})):null}const De=(0,k.defineMessages)({[Ae]:{[Me]:"Change page notification settings",id:"inboxActionsMenu.notificationSettings.tooltipMessage"}}),Ve=n.memo(Fe);var Le=i(32469),Ge=i(93963);const Ue=i(85).OtN,Ee=i(85).TEz,Ne=i(85).$Vg,We=i(85).XNW,ze=i(85).D7I,He=i(85).sI1,qe=i(85).lzS,Ye=i(85).g7N,Xe=i(85).nLZ,je=i(85).EMU,Qe=i(85).sM5,$e=i(85).xoW,Je=i(85).y0c,et=i(85).PG2,tt=i(85).$XE,it=i(85).lGm,rt=i(85).BQ6,ot=i(85).PXg,at=i(85).AEP,st=i(85).XCs,nt=i(85).Xte,dt=i(85).E0z,ct=i(85).dLQ,lt=i(85).YDv,ut=i(85).Mm1,ht=i(85).dU4,vt=i(85).Vy4,pt=i(85).rGB,mt=i(85).A6W,gt=i(85).T9w,bt=i(85).B1C,yt=i(85).hDW,At=i(85).TLr,ft=i(85).Dy6,St=i(85).QmD,wt=i(85).LCr,kt=i(85).nxU,Mt=i(85).wgE,It=i(85).Drs,Ct=i(85).JJj,Pt=i(85).P0R,Bt=i(85).xa7,Rt=i(85).p61,_t=i(85).T4J,Zt=i(85).Gnd,xt=i(85).Wp_,Ot=i(85).UIj,Tt=i(85).cSY,Kt=i(85).wfR,Ft=i(85).v8Q;class Dt extends d.Z{constructor(){super(...arguments),this.titleAriaId=(0,T.Z)(),this.storeTypes={[Ft]:K.default[Kt](!1),[Tt]:K.default[Kt](!1)},this[Ot]=()=>{this[Zt][Ft][xt](!0)},this[_t]=()=>{this[Zt][Ft][xt](!1)},this.handleMouseEnterInboxActions=()=>{this[Zt][Tt][xt](!0)},this.handleMouseLeaveInboxActions=()=>{this[Zt][Tt][xt](!1)},this.handleArchive=()=>{const{[Rt]:e,[Bt]:t,onArchiveClicked:i}=this[Pt];i(),e&&G[Ct]({[It]:"ActivitySection.handleArchive",[Mt]:this[Mt],[kt]:i=>{V.aZ({[Rt]:e,[Bt]:t,[wt]:i})}})},this.handleMarkAsRead=e=>{const{[Rt]:t,[Bt]:i,onNotificationFrameClicked:r}=this[Pt];t&&!t.read&&(this[Zt][Tt][St]||(0,E.ZP)({event:e,context:E.Af.NotificationClick,callback:()=>{r(),G[Ct]({[It]:"ActivitySection.handleMarkAsRead",[Mt]:this[Mt],[kt]:e=>{V.$h({[Rt]:t,[Bt]:i,[wt]:e,read:!0})}})}}))},this.handleOpenSnapshot=()=>{if(this[Pt][ft]){const e=M.G[At](this[Pt][Bt],{table:m.iU,id:this[Pt][ft]});L.openHistoryModal({[Mt]:this[Mt],[yt]:e,[bt]:this[Pt][gt].toString(),from:mt})}}}renderComponent(){const{[pt]:e}=this[Pt],t="mentions"===W.ZP[St][vt];return s()("article",{onMouseOver:this[Ot],onMouseLeave:this[_t],[et]:this.handleMarkAsRead,[Je]:this.titleAriaId,tabIndex:0},void 0,this.renderInboxActions(),s()("div",{[rt]:{...Dt[ht],[ut]:e?12:8,[lt]:this[Mt][dt][ct]?this[Mt][nt][St].paddingLeftCSS:0,[st]:this[Mt][dt][ct]?this[Mt][nt][St].paddingRightCSS:0,...this.shouldShowReadNotificationStyle()&&{[at]:.7}}},void 0,s()("div",{[rt]:this.getHeaderAndAvatarStyle()},void 0,s()("div",{[it]:U.activitySectionIcon,[rt]:this.avatarAndStatusDotStyle()},void 0,s()("div",{[rt]:{[ot]:4}},void 0,t&&s()("div",{[rt]:{[ot]:this[Mt][dt][ct]?3:2}},void 0,this.renderStatusDot({[at]:1}))),this[Pt].icon),this.renderHeader(),this.renderSnapshotButton(),this.renderPrivate()),e&&this.renderChildren()),this[tt]())}[tt](){const{isLast:e}=this[Pt];if(!e)return s()("div",{[rt]:this.getBorderBottomStyle()})}renderHeader(){const{[gt]:e,header:t}=this[Pt],i=(0,N.IS)(e),r=(0,N.uy)(e);return s()("div",{[rt]:Dt[$e]},void 0,s()("div",{id:this.titleAriaId,[it]:U.activitySectionHeader},void 0,t),s()("div",{[rt]:{[Qe]:je,[Xe]:4,[Ye]:this[Pt][pt]?8:4}},void 0,s()("div",{[rt]:this.getTimeStyle(),[it]:U.activitySectionTime},void 0,s()(j.Z,{text:i,tooltipText:r,icon:D.Z[qe]})),this[Pt][ft]&&this[Pt][Bt]&&s()(H.Z,{isLink:!0,[He]:this.getPathStyle(),store:M.G[At](this[Pt][Bt],{table:m.iU,id:this[Pt][ft]}),left:s()("div",{[rt]:this.getSeparatorDotStyle()},void 0,"Â·"),[et]:this[Pt].onBacklinkClicked})))}renderSnapshotButton(){if(!this[Pt].showSnapshotButton)return;if(this[Pt][gt]<new Date("2018-10-26").getTime())return;const e=O.default.getIntl().formatMessage({defaultMessage:"View version for this update",id:"activitySection.viewVersionForUpdate.tooltip"});return this[Pt][ft]?s()(q.Z,{renderTooltip:()=>e,render:t=>n[ze](z.Z,o()({ariaLabel:e,[et]:this.handleOpenSnapshot,icon:D.Z.versionHistoryThick},t))}):void 0}renderInboxActions(){const{[Rt]:e,[Bt]:t,onArchiveClicked:i,onMarkAsReadClicked:r,onMarkAsUnreadClicked:o}=this[Pt],{[vt]:a}=W.ZP[St];if("mentions"===a&&e&&!e.visited)return s()("div",{[rt]:this.getStatusLabelContainerStyle(),onMouseEnter:this.handleMouseEnterInboxActions,onMouseLeave:this.handleMouseLeaveInboxActions},void 0,s()("div",{[rt]:this.getInboxActionsStyle()},void 0,s()(Ve,{[Rt]:e,[Bt]:t,onArchiveClicked:i,onMarkAsReadClicked:r,onMarkAsUnreadClicked:o})))}renderStatusDot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!this.isSeen()&&s()(Ge.z,{[rt]:{...this.getStatusDotStyle(),...e}})}renderPrivate(){if(this[Pt].isPrivate&&!this[Pt][Rt])return s()(Le.Z,{[rt]:{[Xe]:1,[Ye]:4,[We]:8}})}renderChildren(){return s()("div",{[it]:U.activitySectionChildren},void 0,this[Pt][pt])}isSeen(){const{[Rt]:e}=this[Pt];return!e||e.read}shouldShowReadNotificationStyle(){const{[vt]:e}=W.ZP[St];return this.isSeen()&&"mentions"===e&&!this[Pt].showSnapshotButton&&this[Pt][Rt]}avatarAndStatusDotStyle(){return{[Qe]:je,alignItems:Ne,position:"relative"}}getHeaderAndAvatarStyle(){const e="mentions"!==W.ZP[St][vt]||this[Pt].showSnapshotButton?0:69;return{[Qe]:je,[lt]:16,[st]:16+e}}getBorderBottomStyle(){return{borderBottom:`1px solid ${this.theme.regularDividerColor}`}}getPathStyle(){return{fontSize:12,color:this.theme[Ee]}}getTimeStyle(){return{fontSize:12,color:this.theme[Ee],whiteSpace:"nowrap"}}getSeparatorDotStyle(){return{fontSize:12,color:this.theme[Ee],[We]:4,[ot]:4}}getStatusLabelContainerStyle(){return{[Qe]:je,alignItems:Ne,[Xe]:1,[Ye]:4,position:"relative",[We]:this[Mt][dt][ct]?23:8}}getStatusDotStyle(){return{position:"absolute",[at]:this[Zt][Ft][St]?0:1,left:-7,top:10}}getInboxActionsStyle(){const{[ct]:e}=this[Mt][dt];return{transition:"opacity 100ms ease-out",[at]:e||this[Zt][Ft][St]?1:0,position:"absolute",right:16,top:12,zIndex:1}}}Dt.displayName="ActivitySection",Dt[ht]={paddingTop:12},Dt[$e]={fontSize:14,lineHeight:1.4,flexGrow:1,minWidth:0};const Vt={[Xe]:2,[ot]:8,flexShrink:0};function Lt(e){let{actor:t,[Mt]:i}=e;const r=i.currentUser.id===t.id;return Number(t.isBot())+Number(r)}function Gt(e){window.__c={n:"AuthorIcon"};const{authors:t}=e,i=(0,I.O7)(),r=t.sort(((e,t)=>Lt({actor:e,[Mt]:i})-Lt({actor:t,[Mt]:i})))[0];return r?r.isBot()?s()(Y.Z,{botValue:r,[rt]:Vt,size:24}):r.isUser()?s()(X.Z,{userValue:r,[rt]:Vt,size:24,avatarShouldShowShadow:!0}):r.isAgent()?null:void(0,w.unreachable)(r):null}function Ut(){return s()("div",{[rt]:{[Qe]:je,[Ue]:F.ZP.red,height:28,width:28,borderRadius:"100%",...Vt}},void 0,D.Z.alarmClock({height:16,width:16,fill:F.ZP.white,[We]:6,[Xe]:5}))}function Et(){return s()("div",{[rt]:{height:25,width:25,...Vt}},void 0,D.Z.typesVerification({height:25,width:25}))}const Nt=Dt,Wt=i(85).D7I,zt=i(85).B1C,Ht=i(85).TLr,qt=i(85).lzS,Yt=i(85).TEz,Xt=i(85).y0c,jt=i(85).PG2,Qt=i(85).lGm,$t=i(85).BQ6,Jt=i(85).GGR,ei=i(85).XNW,ti=i(85).g7N,ii=i(85).nLZ,ri=i(85).PXg,oi=i(85).$Vg,ai=i(85).H1U,si=i(85).YDv,ni=i(85).L_E,di=i(85).Xte,ci=i(85).dLQ,li=i(85).qpZ,ui=i(85).T9w,hi=i(85).Dy6,vi=i(85).xa7,pi=i(85).p61;function mi(e){window.__c={n:"ActivitySectionRedesignedIA"};const[t,i]=(0,n.useState)(!1),[r,o]=(0,n.useState)(!1),{[pi]:a,prominentTitleLink:d,children:c,[vi]:l,icon:u,isPrivate:h,isLast:v,onBacklinkClicked:p,onArchiveClicked:m,onNotificationFrameClicked:g,onMarkAsReadClicked:b,onMarkAsUnreadClicked:y,showRecordPath:A,[hi]:f,showSnapshotButton:S,[ui]:w,[li]:k}=e,M=(0,I.O7)(),B=(0,C.VK)((()=>"mentions"===W.ZP.state.currentTab),[]),R=!a||a.read,_=M.device[ci],Z=Boolean(R&&B&&!S&&a),x=(0,C.VK)((()=>{const e=M[di].state;return{left:e.paddingLeftCSS,right:e.paddingRightCSS}}),[M[di]]),O=(0,P.yK)((e=>({[ni]:{paddingTop:12,paddingBottom:c?12:8,[si]:_?x.left:0,paddingRight:_?x.right:0,...Z&&{opacity:.7}},headerAndAvatar:{display:"flex",[si]:16,paddingRight:16},avatarAndStatusDot:{display:"flex",[ai]:oi,position:"relative"},statusDot:{position:"absolute",opacity:1,left:-7,top:10},statusDotWrapper:{[ri]:_?3:2},privatePageBadge:{[ii]:1,[ti]:4,[ei]:8},divider:{borderBottom:`1px solid ${e.regularDividerColor}`}})),[c,x,_,Z]),K=(0,n.useCallback)((e=>{a&&!a.read&&(r||(0,E.ZP)({event:e,context:E.Af.NotificationClick,callback:()=>{g(),G.createAndCommit({userAction:"ActivitySectionRedesignedIA.handleMarkAsRead",environment:M,perform:e=>{V.$h({[pi]:a,[vi]:l,transaction:e,read:!0})}})}}))}),[M,r,a,g,l]),F=(0,n.useCallback)((()=>i(!0)),[]),D=(0,n.useCallback)((()=>i(!1)),[]),L=(0,T.C)();return s()("article",{onMouseOver:F,onMouseLeave:D,[jt]:K,[Xt]:L,tabIndex:0},void 0,s()(gi,{[pi]:a,[vi]:l,[ci]:_,isHovered:t,isMentionsTab:B,[Jt]:()=>o(!0),onMouseLeave:()=>o(!1),onArchiveClicked:m,onMarkAsReadClicked:b,onMarkAsUnreadClicked:y}),s()("div",{[$t]:O[ni]},void 0,s()("div",{[$t]:O.headerAndAvatar},void 0,s()("div",{[Qt]:U.activitySectionIcon,[$t]:O.avatarAndStatusDot},void 0,s()("div",{[$t]:{[ri]:4}},void 0,B&&s()("div",{[$t]:O.statusDotWrapper},void 0,!R&&s()(Ge.z,{[$t]:O.statusDot}))),u),s()(bi,{[ui]:w,[li]:k,prominentTitleLink:d,hasChildren:Boolean(c),[hi]:f,[vi]:l,onBacklinkClick:p,showRecordPath:A,titleAriaId:L}),S&&f&&s()(yi,{[ui]:w,[hi]:f,[vi]:l}),h&&!a&&s()(Le.Z,{[$t]:O.privatePageBadge})),c&&s()("div",{[Qt]:U.activitySectionChildren},void 0,c)),!v&&s()("div",{[$t]:O.divider}))}function gi(e){window.__c={n:"InboxActions"};const{[pi]:t,[vi]:i,[ci]:r,isHovered:o,isMentionsTab:a,onArchiveClicked:n,onMarkAsReadClicked:d,onMarkAsUnreadClicked:c,[Jt]:l,onMouseLeave:u}=e,h=(0,P.yK)((()=>({[ni]:{display:"flex",[ai]:oi,[ii]:1,[ti]:4,position:"relative",[ei]:r?23:8},body:{transition:"opacity 100ms ease-out",opacity:r||o?1:0,position:"absolute",right:16,top:12,zIndex:1}})),[r,o]);return a&&t?t.visited?null:s()("div",{[$t]:h[ni],[Jt]:l,onMouseLeave:u},void 0,s()("div",{[$t]:h.body},void 0,s()(Ve,{[pi]:t,[vi]:i,onArchiveClicked:n,onMarkAsReadClicked:d,onMarkAsUnreadClicked:c}))):null}function bi(e){window.__c={n:"Header"};const{[ui]:t,prominentTitleLink:i,[li]:r,hasChildren:o,[hi]:a,[vi]:n,showRecordPath:d,onBacklinkClick:c,titleAriaId:l}=e,u=(0,N.IS)(t,{useCompactFormat:!0}),h=(0,I.O7)().device[ci],v=(0,N.uy)(t),p=(0,P.yK)((e=>({[ni]:{width:"100%"},[li]:{width:h?"calc(100% - 98px)":"calc(100% - 90px)",fontSize:14,lineHeight:1.4,minWidth:0,minHeight:h?28:void 0,display:"flex",[ai]:"baseline"},title:{fontSize:14,[ii]:4,[ti]:o?8:4},time:{fontSize:12,color:e[Yt],whiteSpace:"nowrap",display:"inline",[si]:6},path:{[ii]:4,[ti]:4},separatorDot:{fontSize:12,color:e[Yt],[ei]:4,[ri]:4}})),[o,h]);return s()("div",{[$t]:p[ni]},void 0,s()("div",{[$t]:p[li]},void 0,s()("div",{[Qt]:U.activitySectionHeader},void 0,s()("span",{id:l},void 0,r),s()("div",{[$t]:p.time,[Qt]:U.activitySectionTime},void 0,s()(j.Z,{text:u,tooltipText:v,icon:D.Z[qt]})))),d&&a&&n&&s()("div",{[$t]:p.path},void 0,s()(H.Z,{isLink:!0,store:M.G[Ht](n,{table:m.iU,id:a}),[jt]:c})),i&&s()("div",{[$t]:p.title},void 0,i))}function yi(e){window.__c={n:"SnapshotButton"};const{[ui]:t,[hi]:i,[vi]:r}=e,a=(0,I.O7)();if(t<new Date("2018-10-26").getTime())return null;const d=O.default.getIntl().formatMessage({defaultMessage:"View version for this update",id:"activitySection.viewVersionForUpdate.tooltip"}),c=()=>{const e=M.G[Ht](r,{table:m.iU,id:i});L.openHistoryModal({environment:a,blockStore:e,[zt]:t.toString(),from:"activity"})};return s()(q.Z,{renderTooltip:()=>d,render:e=>n[Wt](z.Z,o()({ariaLabel:d,[jt]:c,icon:D.Z.versionHistoryThick},e))})}const Ai=n.memo(mi);var fi=i(96486),Si=i.n(fi),wi=i(66897),ki=i(7057),Mi=i(24211),Ii=i(77420),Ci=i(48298),Pi=i(50906),Bi=i(91376),Ri=i(64404),_i=i(90097),Zi=i(61519),xi=i(62385);const Oi=i(85).xa7,Ti=i(85).nSw,Ki=i(85).D7I,Fi=i(85).Wqi,Di=i(85).Iwv,Vi=i(85).Ddh,Li=i(85).wgE,Gi=i(85).XCs,Ui=i(85).YDv,Ei=i(85).X_m,Ni=i(85).GC5,Wi=i(85).PG2,zi=i(85).nx5,Hi=i(85).od_,qi=i(85).xLB,Yi=i(85).zUL,Xi=i(85).zGM,ji=i(85).G3i,Qi=i(85).P0R,$i=i(85).f5o,Ji=i(85).wfR;class er extends d.Z{constructor(){super(...arguments),this.storeTypes={role:K.default[Ji](void 0)}}renderComponent(){const{[$i]:e}=this[Qi];if(e[ji]()){if(e.isResolvedSpaceMembershipRequest())return this.renderResolvedSpaceMembershipRequest();if(this[Xi]())return s()("div",{style:{display:"flex",alignItems:"center"}},void 0,s()(xi.Z,{[Wi]:()=>this[Yi](qi),style:this[Hi](!1)},void 0,s()(k.FormattedMessage,{[zi]:"Approve",id:"approveSpaceMembershipActivityAction.approveButton.label"})),s()(xi.Z,{[Wi]:()=>this[Yi](Ni),style:{[Ei]:26,[Ui]:8,[Gi]:8}},void 0,s()(k.FormattedMessage,{[zi]:"Decline",id:"approveSpaceMembershipActivityAction.declineButton.label"})),!this[Li].device.isMobile&&n[Ki](n.Fragment,null,s()(Zi.Z,{size:1,vertical:!0,style:{[Ei]:26,[Ui]:8,[Gi]:8}}),s()(xi.Z,{[Wi]:()=>{Pi.trackClickViewAllRequests(this[Li],{[Vi]:this[Qi][Fi][Di]()}),this.handleOpenSettingsMembersRequests()},style:{[Ei]:26,[Ui]:8,[Gi]:8}},void 0,s()(k.FormattedMessage,{[zi]:"View all requests",id:"approveSpaceMembershipActivityAction.viewAllRequests.label"}))))}}renderResolvedSpaceMembershipRequest(){const{[$i]:e,[Fi]:t}=this[Qi];if(!e[ji]())return;const i=e.getResolvedByPointer(t.id),r=e.isResolvedSpaceMembershipRequest()&&i&&this.renderActor(i);return n[Ki](n.Fragment,null,s()(de.Z,{isSecondaryColor:!0},void 0,"approved"===e.getStatus()?s()(k.FormattedMessage,{[zi]:"Approved by {grantedBy}",id:"approveSpaceMembershipActivityAction.requestApproved.title",values:{grantedBy:r}}):s()(k.FormattedMessage,{[zi]:"Declined by {grantedBy}",id:"approveSpaceMembershipActivityAction.requestDeclined.title",values:{grantedBy:r}})),s()(de.Z,{isSmall:!0,isSecondaryColor:!0},void 0,(0,ki.Yx)(Math.min(e.getResolvedTime()??1/0,Date.now()),"medium_with_time",(0,Mi.E2)(this[Qi].intl))))}handleOpenSettingsMembersRequests(){Bi.openSettings({currentTab:"members",subtab:Ri.Q.Requests})}[Xi](){return this[Qi][Fi].canEditMembership()}renderActor(e){const{table:t,id:i}=e,r=Si().compact([this.getActor(t,i)]);return(0,_i.XW)(r)}getActor(e,t){if(e===_.KJ){const i=this[Oi][Ti]({table:e,id:t});if(i)return(0,wi.dp)(i)}if(e===Ii.cZ){const i=this[Oi][Ti]({table:e,id:t});if(i)return(0,wi.D$)(i)}}get[Oi](){return this[Qi][$i]}async[Yi](e){if(!this[Xi]())return;const t=this[Li],{[Fi]:i,[$i]:r}=this[Qi];if(!r[ji]())return;const o=this.getActor(_.KJ,r.getForActorId());o&&o.table===_.KJ&&await Ci[Yi]({[Li]:t,store:i,[$i]:r,forActor:o.__UNSAFE__getValue(),status:e,from:"notification"})}[Hi](e){const t={[Ei]:26,[Ui]:8,[Gi]:8,boxShadow:this.theme.plainButtonBoxShadow,fontSize:12,marginRight:10};return e?t:{...t,color:this.theme.regularTextColor,fontWeight:500}}}er.displayName="ApproveSpaceMembershipActivityAction";const tr=(0,k.injectIntl)(er);var ir=i(13991),rr=i(27006),or=i(54368),ar=i(76464),sr=i(9953),nr=i(21115),dr=i(78291),cr=i(7567);const lr=i(85).nSw,ur=i(85).XCs,hr=i(85).YDv,vr=i(85).D7I,pr=i(85).ELX,mr=i(85).ONn,gr=i(85).od_,br=i(85).J7v,yr=i(85).vhD,Ar=i(85).QSf,fr=i(85).nx5,Sr=i(85).g7N,wr=i(85).g3k,kr=i(85).nj3,Mr=i(85).TTZ,Ir=i(85).Zqs,Cr=i(85).xa7,Pr=i(85).p61,Br=i(85).Gnd,Rr=i(85).hEm,_r=i(85).int,Zr=i(85).sbn,xr=i(85).xLB,Or=i(85).ydp,Tr=i(85).MCc,Kr=i(85).lX9,Fr=i(85).EuB,Dr=i(85).ZA4,Vr=i(85).Uil,Lr=i(85).vwy,Gr=i(85).e3f,Ur=i(85).LCr,Er=i(85).i3J,Nr=i(85).nxU,Wr=i(85).Drs,zr=i(85).JJj,Hr=i(85).W2G,qr=i(85).Jaf,Yr=i(85).Tb$,Xr=i(85).pPv,jr=i(85).H6e,Qr=i(85).wgE,$r=i(85).g65,Jr=i(85).P0R,eo=i(85).f5o,to=i(85).wfR;class io extends d.Z{constructor(){super(...arguments),this.storeTypes={role:K.default[to](void 0)},this.handleApproveMembershipRequest=async()=>{},this.handleGrantPageAccess=async()=>{const{targetBlockStore:e,[eo]:t}=this[Jr],i=this.getInviteTargetWithNewPermissionItem();if(!("permissionItem"in i))return;const r=this[Qr][$r].id;if(!r)return;if("type"in i){let t;if("existingUser"===i.type){t=(await ar[jr]({[Qr]:this[Qr],store:e,[jr]:[i],[Xr]:i[Yr].role,[qr]:!1,invite:{inviteOrigin:"page_request_access"}}))[Hr]}else if("bot"===i.type){t=(await ar[jr]({[Qr]:this[Qr],store:e,[jr]:[i],[Xr]:void 0,[qr]:!1,invite:{inviteOrigin:"page_request_access"}}))[Hr]}else(0,w.unreachable)(i);if(!t)return}G[zr]({[Wr]:"GrantPageAccessActivityAction.handleGrantPageAccess",[Qr]:this[Qr],[Nr]:o=>{"type"in i||ar[Er]({[Qr]:this[Qr],[Ur]:o,store:e,[Gr]:[i[Yr]]}),sr[Lr]({store:t,[Ur]:o,data:{[Vr]:Date.now(),[Dr]:_.KJ,[Fr]:r,[Kr]:Date.now(),[Tr]:_.KJ,[Or]:r,status:xr}})}});const o=t[Zr](),a=o&&o[_r]&&o[Vr]?o[Vr]-o[_r]:void 0;Pi.trackGrantAccess(this[Qr],{requestId:o&&o.id,timeElapsedSinceRequest:a,newAccessLevel:i[Yr].role,...this[Rr]()})},this.handleRoleChange=e=>{const t=this[Jr][eo].id,i=this[Br].role.state;this[Br].role.setState(e),Pi.trackChangeGrantAccessLevel(this[Qr],{requestId:t,previousAccessLevel:i,newAccessLevel:e,...this[Rr]()})},this.handleArchive=()=>{const{[Pr]:e}=this[Jr];e&&(G[zr]({[Wr]:"GrantPageAccessActivityAction.handleArchive",[Qr]:this[Qr],[Nr]:t=>{V.aZ({[Pr]:e,[Cr]:this[Jr][eo],[Ur]:t})}}),Pi.trackIgnoreAccessRequest(this[Qr],this[Rr]()))}}renderComponent(){const e=this[Jr][eo][Zr]();if(!e)return;if((0,B.Kc)(e))return this.renderGrantedAccessRequest(e);if(!this.canGrantAccess())return;const t=e.parent_table===f.bx,i=this[Ir]();if(i&&!t){const t=this.renderActor(e[Mr],e[kr]),r=i.role===this[wr]();return n[vr](n.Fragment,null,s()(de.Z,{isSecondaryColor:!0,style:{[Sr]:6}},void 0,s()(k.FormattedMessage,{[fr]:"{requestingUser} already has access.",id:"grantPageAccessActivityAction.alreadyHasAccess.label",values:{requestingUser:t}})),s()(cr.ZP,{upgradeButtonName:"user_permission_item",role:this[wr](),table:m.iU,[mr]:this[Jr].targetBlockStore[Ar](),type:e[Mr]===_.KJ?yr:br,onChange:this.handleRoleChange,isInvite:!0,[pr]:this[gr](!0)}),s()(xi.Z,{onClick:this.handleGrantPageAccess,style:this[gr](r)},void 0,s()(k.FormattedMessage,{[fr]:"Change",id:"grantPageAccessActivityAction.changePermissionButton.label"})),this.renderArchiveButton())}return n[vr](n.Fragment,null,s()(cr.ZP,{upgradeButtonName:"user_permission_item",role:this[wr](),table:m.iU,[mr]:this[Jr].targetBlockStore[Ar](),type:e[Mr]===_.KJ?yr:br,onChange:this.handleRoleChange,isInvite:!0,[pr]:this[gr](!1)}),s()(xi.Z,{onClick:this.handleGrantPageAccess,style:this[gr](!1)},void 0,s()(k.FormattedMessage,{[fr]:"Grant access",id:"grantPageAccessActivityAction.grantAccessButton.label"})),this.renderArchiveButton())}renderGrantedAccessRequest(e){const t=this.renderActor(e[Dr],e[Fr]),i=(0,ki.$b)(Math.min(e[Vr],Date.now()),ir.SP,O.default.getIntl());return n[vr](n.Fragment,null,s()(de.Z,{isSecondaryColor:!0},void 0,s()(k.FormattedMessage,{[fr]:"Approved by {grantedBy}",id:"grantPageAccessActivityAction.accessGranted.title",values:{grantedBy:t,time:i}})),s()(de.Z,{isSmall:!0,isSecondaryColor:!0},void 0,i))}renderArchiveButton(){const{[Pr]:e}=this[Jr];if(e&&!e.visited)return s()(xi.Z,{onClick:this.handleArchive,style:{height:26,[hr]:8,[ur]:8}},void 0,s()(k.FormattedMessage,{[fr]:"Ignore",id:"grantPageAccessActivityAction.ignoreButton.label"}))}[wr](){const e=this[Ir](),t=e&&e.role;return this[Br].role.state||t||this[Jr].initialRole}getNewPermissionItem(){const e=this[Jr][eo][Zr]();if(e)return e[Mr]===_.KJ?{type:yr,user_id:e[kr],role:this[wr]()}:e[Mr]===Ii.cZ?{type:br,bot_id:e[kr],role:this[wr]()}:void(e[Mr]!==or.y&&(0,w.unreachable)(e[Mr]))}getInviteTargetWithNewPermissionItem(){const e=this.getNewPermissionItem();if(!e)return{};if(this[Ir]())return{[Yr]:e};const{data:t}=dr.default.state;if("user_permission"===e.type){const i=this[Cr][lr]({table:_.KJ,id:e.user_id}),r=t?nr.getVisibleUsers(t):[],o=r&&r.some((t=>t.userId===e.user_id));return i&&!o?{type:"existingUser",value:i,[Yr]:e}:{[Yr]:e}}if("bot_permission"===e.type){const i=this[Cr][lr]({table:Ii.cZ,id:e.bot_id}),r=(t?nr.getSpaceBots(t):[]).some((t=>t.botId===e.bot_id));return i&&!r?{type:"bot",value:i,[Yr]:e}:{[Yr]:e}}(0,w.unreachable)(e)}[Ir](){const e=this[Jr][eo][Zr]();if(!e)return;const t=this[Jr].targetBlockStore.getPermissionItems();for(const i of t){if(e[Mr]===_.KJ&&(0,rr.isUserPermission)(i)&&i.user_id===e[kr])return i;if(e[Mr]===Ii.cZ&&(0,rr.isBotPermission)(i)&&i.bot_id===e[kr])return i}}canGrantAccess(){return this[Jr].targetBlockStore.canAdmin()}renderActor(e,t){const i=Si().compact([this.getActor(e,t)]);return(0,_i.XW)(i)}getActor(e,t){if(e===_.KJ){const i=this[Cr][lr]({table:e,id:t});if(i)return(0,wi.dp)(i)}if(e===Ii.cZ){const i=this[Cr][lr]({table:e,id:t});if(i)return(0,wi.D$)(i)}}get[Cr](){return this[Jr][eo]}[gr](e){const t={height:26,[hr]:8,[ur]:8,boxShadow:this.theme.plainButtonBoxShadow,fontSize:12,marginRight:10};return e?t:{...t,color:this.theme.regularTextColor,fontWeight:500}}[Rr](){const{[Pr]:e}=this[Jr];return{tab:$.getCurrentUpdatesTab(),activityId:null==e?void 0:e.activity_id,notificationId:null==e?void 0:e.id}}}io.displayName="GrantPageAccessActivityAction";const ro=io;var oo=i(18698);const ao=i(85).GC5,so=i(85).PG2,no=i(85).nx5,co=i(85).xLB,lo=i(85).L_E,uo=i(85).f5o;const ho=function(e){window.__c={n:"ApproveTeamMembershipActivityButton"};const{[uo]:t,teamStore:i}=e,r=(0,I.O7)(),o=(0,k.useIntl)(),{isRequestResolved:a,resolvedStatus:n,resolvedTime:d}=(0,C.VK)((()=>({isRequestResolved:t.isResolvedTeamMembershipRequest(),resolvedStatus:t.getStatus(),resolvedTime:t.getResolvedTime()})),[t]),c=(0,C.VK)((()=>{const e=t.getResolvedById();if(!e)return;const i=M.U6.createChildStore(t,{table:_.KJ,id:e});return i?i.getDisplayName(o):void 0}),[t,o]),l=async e=>{await oo.ow({environment:r,teamStore:i,[uo]:t,status:e})},u=(0,P.yK)((e=>({[lo]:{display:"flex",alignItems:"center"},approveButton:{height:26,paddingLeft:8,paddingRight:8,fontSize:12,marginRight:10,fontWeight:500,boxShadow:e.plainButtonBoxShadow},declineButton:{height:26,paddingLeft:8,paddingRight:8}})),[]);return s()("div",{style:u[lo]},void 0,a?s()("div",{},void 0,s()(de.Z,{isSecondaryColor:!0},void 0,s()(k.FormattedMessage,"approved"===n?{[no]:"Approved by {grantedBy}",id:"approveTeamMembershipActivityButton.requestApproved.title",values:{grantedBy:c}}:{[no]:"Declined by {grantedBy}",id:"approveTeamMembershipActivityButton.requestDeclined.title",values:{grantedBy:c}})),s()(de.Z,{isSmall:!0,isSecondaryColor:!0},void 0,(0,ki.Yx)(Math.min(d??0,Date.now()),"medium_with_time",(0,Mi.E2)(o)))):s()("div",{},void 0,s()(xi.Z,{style:u.approveButton,[so]:()=>l(co)},void 0,s()(k.FormattedMessage,{[no]:"Approve",id:"approveTeamMembershipActivityButton.approveButton.label"})),s()(xi.Z,{style:u.declineButton,[so]:()=>l(ao)},void 0,s()(k.FormattedMessage,{[no]:"Decline",id:"approveTeamMembershipActivityButton.declineButton.label"}))))};var vo=i(17022),po=i(22649);const mo=i(85).nx5,go=i(85).wGD,bo=i(85).wDs,yo=i(85).L_E,Ao=i(85).p61,fo=i(85).A6W,So=i(85).xa7,wo=i(85).wgE;function ko(e){var t;window.__c={n:"NotificationActions"};const{isMobile:i,[wo]:r,[So]:o,[fo]:a,tabArgs:n}=e,{source:d}=n,c=Boolean(null===(t=n[Ao])||void 0===t?void 0:t.visited),l=(0,P.yK)((e=>({[yo]:{paddingLeft:(0,po.c3)({source:d,isMobile:i})-8,paddingTop:4}})),[i,d]);return c?s()("div",{style:l[yo]},void 0,s()(Mo,{tabArgs:n,[wo]:r,[So]:o,[fo]:a})):null}function Mo(e){window.__c={n:"UnarchiveButton"};const{tabArgs:t,[wo]:i,[So]:r,[fo]:o}=e,{[Ao]:a,tab:n}=t,d=(0,P.yK)((e=>({[bo]:(0,po._W)(e)})),[]);return Boolean(null==a?void 0:a.visited)?s()(xi.Z,{onClick:()=>{a&&(G.createAndCommit({userAction:"Activity.handleUnarchive",[wo]:i,perform:e=>{V.E1({[go]:a.id,visited:!1,[So]:r,transaction:e})}}),$.trackUnarchiveNotification({[wo]:i,[fo]:o,tab:n,[go]:a.id,alreadyRead:a.read}))},style:d[bo]},void 0,s()(k.FormattedMessage,{[mo]:"Unarchive",id:"activity.actions.unarchiveButton.label"})):null}var Io=i(78976);const Co=i(85).ELX,Po=i(85).W57,Bo=i(85).QS3,Ro=i(85).Atg,_o=i(85).ChN,Zo=(i(85).BeR,i(85).voC),xo=i(85).wYZ,Oo=i(85).kS8,To=i(85).dVG,Ko=i(85).AfO,Fo=i(85).D7I,Do=i(85).f5o,Vo=i(85).BQ6,Lo=i(85).Gpy,Go=i(85).nx5,Uo=i(85).wgE,Eo=i(85)._4y,No=i(85).uOz,Wo=i(85).CtD,zo=i(85).TLr,Ho=i(85).SPm,qo=i(85).E0z,Yo=i(85).dLQ,Xo=i(85).p61,jo=i(85).xa7,Qo=i(85).A6W;function $o(e){let{[Qo]:t,[jo]:i,tabArgs:r,isLast:a,useRedesignedIA:d}=e;window.__c={n:"AccessRequestedActivity"};const{[Xo]:c,tab:l,source:u}=r,h=(0,n.useMemo)((()=>t.edits??[]),[t]),v=h[0],p=(0,I.O7)(),m=p[qo][Yo],g=(0,P.yK)((()=>({[Ho]:{paddingLeft:(0,po.c3)({source:u,[Yo]:m}),paddingRight:16,marginTop:8,marginBottom:8},messageLabel:{whiteSpace:"pre-wrap"}})),[u,m]),b=M.oK[zo](i,{table:B.J8,id:t.access_request_id}),y=(0,C.VK)((()=>b.getModel()),[b]),A=(0,C.VK)((()=>(null==y?void 0:y[Wo]())===f.bx&&!(0,x.enableRequestMembership)()),[y]),S=y&&s()(Jo,{[Qo]:t,[No]:y,[jo]:i,tabArgs:r}),w=v[Ho],R=(0,C.VK)((()=>(0,_i.P6)({edits:h,[jo]:i})),[h,i]),_=(0,C.VK)((()=>(0,_i.XW)(R)),[R]);return A||!S?null:d?n[Fo](Ai,o()({timestamp:parseInt(t[Eo]),header:s()("span",{},void 0,S),isLast:a,isPrivate:!1,[jo]:i,showRecordPath:!1,[Xo]:c,icon:s()(Gt,{authors:R}),showSnapshotButton:!1},(0,vo.h9)({[Xo]:c,[Qo]:t,[Uo]:p,tab:l})),w&&s()("div",{[Vo]:g[Ho]},void 0,s()(de.Z,{isSmall:!0},void 0,s()(k.FormattedMessage,{id:"activity.accessRequested.messageLabel",[Go]:"Message from {author}",[Lo]:{author:_}})),s()(de.Z,{isMultiline:!0,[Vo]:g.messageLabel},void 0,w)),s()(ra,{[Qo]:t,[Do]:b,[jo]:i,source:u,[Xo]:c}),s()(ko,{tabArgs:r,[Qo]:t,[Yo]:p[qo][Yo],[Uo]:p,[jo]:i})):n[Fo](Nt,o()({timestamp:parseInt(t[Eo]),header:s()("span",{},void 0,S),isLast:a,isPrivate:!1,[jo]:i,[Xo]:c,icon:s()(Gt,{authors:R}),showSnapshotButton:!1},(0,vo.h9)({[Xo]:c,[Qo]:t,[Uo]:p,tab:l})),w&&s()("div",{[Vo]:g[Ho]},void 0,s()(de.Z,{isSmall:!0},void 0,s()(k.FormattedMessage,{id:"activity.accessRequested.messageLabel",[Go]:"Message from {author}",[Lo]:{author:_}})),s()(de.Z,{isMultiline:!0,[Vo]:g.messageLabel},void 0,w)),s()(ra,{[Qo]:t,[Do]:b,[jo]:i,source:u,[Xo]:c}),s()(ko,{tabArgs:r,[Qo]:t,[Yo]:p[qo][Yo],[Uo]:p,[jo]:i}))}function Jo(e){window.__c={n:"AccessRequestHeader"};const{[Qo]:t,[No]:i,[jo]:r,tabArgs:o}=e,a=(0,C.VK)((()=>i[Wo]()),[i]);switch(a){case f.bx:return s()(ta,{[Qo]:t,[No]:i,[jo]:r});case R.e0:return s()(ia,{[Qo]:t,[jo]:r,tabArgs:o});case m.iU:return s()(ea,{[Qo]:t,tabArgs:o,[jo]:r});default:(0,w.unreachable)(a)}}function ea(e){window.__c={n:"BlockAccessRequestHeader"};const{[Qo]:t,[jo]:i,tabArgs:r}=e,o=(0,n.useMemo)((()=>t.edits??[]),[t]),a=(0,C.VK)((()=>(0,_i.P6)({edits:o,[jo]:i})),[o,i]),d=(0,C.VK)((()=>(0,_i.XW)(a)),[a]);if(!t[Ko])return null;const c=M.G[zo](i,{table:m.iU,id:t[Ko]});return s()(k.FormattedMessage,{[Go]:To,[Lo]:{[Oo]:a.length,[xo]:d,pageName:s()(Io.Z,{titledRecordStore:c,[Qo]:t,tabArgs:r,[Zo]:i[Zo]})},id:"activity.accessRequested.header"})}function ta(e){window.__c={n:"MembershipRequestHeader"};const{[Qo]:t,[No]:i,[jo]:r}=e,o=(0,n.useMemo)((()=>t.edits??[]),[t]),a=(0,P.yK)((()=>({inviteePhrase:{[_o]:Z.Z[_o].semibold}})),[]),d=(0,C.VK)((()=>i.getForActorPointer(r.id)),[i,r.id]),c=d.table===_.KJ?M.U6[zo](r,d):void 0,l=(0,C.VK)((()=>null==c?void 0:c.getModel()),[c]),u=(0,C.VK)((()=>null==l?void 0:l.getEmail()),[l]),h=(0,C.VK)((()=>i.getForActorId()===i.getCreatedById()),[i]),v=(0,C.VK)((()=>(0,_i.P6)({edits:o,[jo]:r})),[o,r]),p=(0,C.VK)((()=>(0,_i.XW)(v)),[v]),m=(0,C.VK)((()=>{if(!h)return u;const e=null==l?void 0:l.getFullName(O.default.getIntl());return e?`${e} (${u})`:u}),[h,l,u]);return l&&d.table===_.KJ?s()(k.FormattedMessage,h?{[Go]:"{invitee} requested to become a workspace member",[Lo]:{invitee:s()("span",{[Vo]:a.inviteePhrase},void 0,m)},id:"activity.accessRequestedMembershipFromGuest.header"}:{[Go]:"{numberOfAuthors, plural, one {{authorOrAuthors} requested {invitee} to become a workspace member} other {{authorOrAuthors} requested {invitee} to become a workspace member}}",[Lo]:{[Oo]:v.length,[xo]:p,invitee:s()("span",{[Vo]:a.inviteePhrase},void 0,m)},id:"activity.accessRequestedMembership.header"}):null}function ia(e){window.__c={n:"TeamMembershipRequestHeader"};const{[Qo]:t,[jo]:i,tabArgs:r}=e,o=(0,n.useMemo)((()=>t.edits??[]),[t]),a=(0,C.VK)((()=>(0,_i.P6)({edits:o,[jo]:i})),[o,i]),d=(0,C.VK)((()=>(0,_i.XW)(a)),[a]);if(!o||!t.team_id)return null;const c=M.zX[zo](i,{table:R.e0,id:t.team_id});return s()(k.FormattedMessage,{[Go]:"{user} requested to become a member of {teamName}",[Lo]:{user:s()("span",{[Vo]:{[_o]:Z.Z[_o].semibold}},void 0,d),teamName:s()(Io.Z,{titledRecordStore:c,[Zo]:i[Zo],[Qo]:t,tabArgs:r})},id:"activity.teamAccessRequest.header"})}function ra(e){window.__c={n:"AccessRequestedActions"};const{[Qo]:t,[Do]:i,[jo]:r,source:o,[Xo]:a}=e,d=(0,n.useMemo)((()=>t.edits||[]),[t])[0],c=(0,C.VK)((()=>i[Wo]()),[i]),l=(0,C.VK)((()=>i.getParentId()),[i]),u=(0,I.O7)()[qo][Yo],h=(0,P.yK)((e=>({[Ro]:{paddingLeft:(0,po.c3)({source:o,[Yo]:u}),paddingTop:12,paddingBottom:8},[Bo]:(0,po.b9)(e)})),[o,u]),v=l?M.G[zo](r,{table:m.iU,id:l}):void 0,p=(0,C.VK)((()=>c===m.iU&&Boolean(null==v?void 0:v.canAdmin())),[c,v]);if(!c||!l||!d)return null;switch(c){case m.iU:return p&&v?s()("div",{[Vo]:h[Ro]},void 0,s()(ro,{[Do]:i,targetBlockStore:v,initialRole:Po,[Co]:h[Bo],[Xo]:a})):null;case f.bx:const e=M.H2[zo](r,{table:c,id:l});return s()("div",{[Vo]:h[Ro]},void 0,s()(tr,{[Do]:i,spaceStore:e,initialRole:Po,[Co]:h[Bo],[Xo]:a}));case R.e0:const t=M.zX[zo](r,{table:c,id:l});return s()("div",{[Vo]:h[Ro]},void 0,s()(ho,{[Do]:i,teamStore:t}));default:(0,w.unreachable)(c)}}const oa=n.memo($o);var aa=i(84076),sa=i(65991),na=i(13658);const da=i(85).Nyv,ca=i(85).Dy6,la=i(85).D7I,ua=i(85).PG2,ha=i(85).E0z,va=i(85).dLQ,pa=i(85).nx5,ma=i(85).yZC,ga=i(85).wYZ,ba=i(85).kS8,ya=(i(85).BeR,i(85)._4y),Aa=i(85).voC,fa=i(85).wgE,Sa=i(85).TtP,wa=i(85).gYY,ka=i(85).p61,Ma=i(85).xa7,Ia=i(85).A6W;function Ca(e){window.__c={n:"BlockPropertyEditedActivity"};const{[Ia]:t,[Ma]:i,tabArgs:r,isLast:a,useRedesignedIA:d}=e,{tab:c,[ka]:l,[wa]:u}=r,h=(0,S.prepareEditsForDisplay)(t.edits??[]),v=h[Sa]>0,p=M.G.createChildStore(i,{table:m.iU,id:h[0].navigable_block_id}),g=(0,C.VK)((()=>(0,_i.P6)({edits:h,[Ma]:i})),[h,i]),b=(0,C.VK)((()=>(0,_i.XW)(g)),[g]),y=(0,I.O7)(),A=(0,C.VK)((()=>(0,_i.jC)({recordId:p.id,recordType:"block",tab:c,[Ma]:i,[fa]:y})),[p,c,i,y]);if(!(0,C.VK)((()=>p.isDefined()),[p])||!v)return null;const f=s()(Io.Z,{titledRecordStore:p,[Aa]:i[Aa],[Ia]:t,tabArgs:r}),w="pageUpdatesSidebar"===c;return d?n[la](Ai,o()({timestamp:parseInt(t[ya]),header:s()("span",{},void 0,s()(k.FormattedMessage,{[pa]:"{numberOfAuthors, plural, one {{authorOrAuthors} updated {pageTitle}} other {{authorOrAuthors} updated {pageTitle}}}",id:"activity.blockEdited.standardizedHeader",values:{[ba]:g[Sa],[ga]:b,[ma]:f}})),isLast:a,isPrivate:A,[Ma]:i,[ca]:p.id,[ka]:l,icon:s()(Gt,{authors:g}),showSnapshotButton:w,showRecordPath:!0},(0,vo.h9)({[ka]:l,[Ia]:t,[fa]:y,tab:c})),s()(na.Z,{visible:5,items:h.map(((e,o)=>s()(Pa,{edit:e,[Ma]:i,[ua]:()=>(0,vo.dG)({[fa]:y,[Ia]:t,...r}),[wa]:u,[va]:y[ha][va]},o)))}),s()(ko,{tabArgs:r,[Ia]:t,[va]:y[ha][va],[fa]:y,[Ma]:i})):n[la](Nt,o()({timestamp:parseInt(t[ya]),header:s()("span",{},void 0,s()(k.FormattedMessage,{[pa]:da,id:"activity.blockEdited.header",values:{[ba]:g[Sa],[ga]:b,[ma]:f}})),isLast:a,isPrivate:A,[Ma]:i,[ca]:p.id,[ka]:l,icon:s()(Gt,{authors:g}),showSnapshotButton:w},(0,vo.h9)({[ka]:l,[Ia]:t,[fa]:y,tab:c})),s()(na.Z,{visible:5,items:h.map(((e,o)=>s()(Pa,{edit:e,[Ma]:i,[ua]:()=>(0,vo.dG)({[fa]:y,[Ia]:t,...r}),[wa]:u,[va]:y[ha][va]},o)))}),s()(ko,{tabArgs:r,[Ia]:t,[va]:y[ha][va],[fa]:y,[Ma]:i}))}function Pa(e){window.__c={n:"BlockPropertyEditComponent"};const{[Ma]:t,edit:i,[ua]:r,[wa]:o,[va]:a}=e,n=(0,C.VK)((()=>function(e,t){const i=t[Aa]({table:m.iU,id:e.block_id}),r=(null==i?void 0:i.getType())===u.Ti.tableRow?t[Aa]({table:m.iU,id:i.getParentId()}):i;return null==r?void 0:r.getRenderUrl({[Aa]:t[Aa],pageVisitSource:l.tY.Notification})}(i,t)||p._j.root),[i,t]);return s()(aa.Z,{href:n,[ua]:r,innerStyle:(0,po.OD)({[wa]:o,[va]:a})},void 0,s()(sa.Z,{edit:i,[Ma]:t}))}var Ba=i(23482),Ra=i(98459),_a=i(70203),Za=i(4083),xa=i(14976),Oa=i(17731),Ta=i(98165);function Ka(){window.__c={n:"BlockHighlighterBar"};const e=(0,P.yK)((()=>({blockContext:{flexShrink:0,display:"flex",width:3,borderRadius:3,marginLeft:2,marginRight:8,minHeight:24,background:F.DB}})),[]);return s()("div",{style:e.blockContext})}const Fa=i(85).sOA,Da=i(85).QS3,Va=i(85).L_E,La=i(85).Uie,Ga=i(85).t8X,Ua=i(85).MHP,Ea=i(85).Mm1,Na=i(85).Gpy,Wa=i(85).nx5,za=(i(85).BeR,i(85).wYZ),Ha=i(85).kS8,qa=i(85).GQ$,Ya=i(85).Dy6,Xa=i(85).D7I,ja=i(85).sI1,Qa=i(85).PG2,$a=i(85)._4y,Ja=i(85).NRr,es=i(85).dLQ,ts=i(85).wGD,is=i(85).vIB,rs=i(85).Omf,os=i(85).cS_,as=i(85).wgE,ss=i(85).u1T,ns=i(85).voC,ds=i(85).AfO,cs=i(85).WT2,ls=i(85).TLr,us=i(85).G3i,hs=i(85).q_$,vs=i(85).AB8,ps=i(85).TtP,ms=i(85).p61,gs=i(85).gYY,bs=i(85).xa7,ys=i(85).A6W;function As(e){let{[ys]:t,tabArgs:i,[bs]:r,isLast:a,useRedesignedIA:d}=e;window.__c={n:"CommentActivity"};const c=t.edits??[],{[gs]:u,tab:h,[ms]:v}=i;let p=c.filter((e=>{switch(e.type){case"comment-changed":return!1;case"comment-created":case"comment-deleted":return!0;default:(0,w.unreachable)(e)}}));0===p[ps]&&0!==c[ps]&&"updates_sidebar"!==u&&(p=c);const g=p[ps]>0,b=(0,I.O7)(),y=r[vs](r,{table:A.qF,id:t[hs],spaceId:t.space_id}),f=(0,C.VK)((()=>y[us]()),[y]),S=(0,C.VK)((()=>{const e=y.getParentPointer();if(e)return M.G[ls](r,e)}),[y,r]),B=(0,C.VK)((()=>Boolean(S&&S[us]())),[S]),R=(0,C.VK)((()=>{const e=null==S?void 0:S[cs]();return(null==e?void 0:e.id)||t[ds]}),[t[ds],S]),_=M.G[ls](r,{table:m.iU,id:R}),Z=(0,C.VK)((()=>_[us]()),[_]),x=(0,C.VK)((()=>Boolean(S&&(0,Ta.pathIsAccessibleAndAlive)((0,Ta.getPathStores)(S)))),[S]),O=(0,C.VK)((()=>{if(!x||!S)return;const e=S.getModel();return e?e.getRenderUrl({[ns]:r[ns],[ss]:t[hs],pageVisitSource:l.tY.Notification}):void 0}),[x,S,r,t[hs]]),T=(0,C.VK)((()=>(0,_i.P6)({edits:p,[bs]:r})),[p,r]),K=(0,C.VK)((()=>(0,_i.XW)(T)),[T]),F=x,D=(0,P.yK)((()=>({flex:{display:"flex"}})),[]),V=(0,n.useCallback)((e=>{if((0,vo.dG)({...i,[as]:b,[ys]:t,mightCloseTab:F}),!x&&S){var r;const o=e.target;Za.openReplyDiscussionMenu({[as]:b,[os]:y,rect:o[rs](),blockStore:S,[is]:ks({forReplyMenu:!0,[gs]:i[gs]}),activityId:t.id,[ts]:null===(r=i[ms])||void 0===r?void 0:r.id})}}),[t,x,S,y,b,i,F]),L=(0,n.useCallback)((()=>{(0,vo.BE)({...i,[as]:b,[ys]:t,mightCloseTab:F})}),[i,b,t,F]),G=s()(Io.Z,{titledRecordStore:_,[ns]:r[ns],[ys]:t,tabArgs:i}),U=(0,C.VK)((()=>(0,_i.jC)({recordId:R,recordType:m.iU,tab:h,[bs]:r,[as]:b})),[R,h,r,b]),E=b.device[es],N=(0,C.VK)((()=>ks({[gs]:u,forReplyMenu:!1})),[u]),W=(0,C.VK)((()=>(0,_i.cr)({[ys]:t,[bs]:r})),[t,r]),z=null==W?void 0:W.id,H=null==W?void 0:W.context,q=(0,C.VK)((()=>{const e=_[Ja]();return null==e?void 0:e.getDatabaseType()}),[_]);if(!(g&&Z&&B&&f))return null;if(d){const e=!H,d=s()("div",{style:D.flex},void 0,e&&s()(Ka,{}),G),c=function(e){let{databaseType:t,authorCount:i,authorPhrase:r}=e;switch(t){case Ba.iS:return s()(k.FormattedMessage,{[Wa]:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a task} other {{authorOrAuthors} commented on a task}}",[Na]:{[Ha]:i,[za]:r},id:"activity.commentTaskActivity.standardizedHeader"});case Ba.wW:return s()(k.FormattedMessage,{[Wa]:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a project} other {{authorOrAuthors} commented on a project}}",[Na]:{[Ha]:i,[za]:r},id:"activity.commentProjectActivity.standardizedHeader"});case Ba.zU:return s()(k.FormattedMessage,{[Wa]:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a document} other {{authorOrAuthors} commented on a document}}",[Na]:{[Ha]:i,[za]:r},id:"activity.commentDocActivity.standardizedHeader"});case Ba.GZ:return s()(k.FormattedMessage,{[Wa]:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a wiki} other {{authorOrAuthors} commented on a wiki}}",[Na]:{[Ha]:i,[za]:r},id:"activity.commentWikiActivity.standardizedHeader"});case Ba.Fi:return s()(k.FormattedMessage,{[Wa]:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a meeting note} other {{authorOrAuthors} commented on a meeting note}}",[Na]:{[Ha]:i,[za]:r},id:"activity.commentMeetingActivity.standardizedHeader"});case Ba.nG:case Ba.p$:case void 0:return s()(k.FormattedMessage,{[Wa]:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a page} other {{authorOrAuthors} commented on a page}}",[Na]:{[Ha]:i,[za]:r},id:"activity.commentActivity.standardizedHeader"});default:(0,w.unreachable)(t)}}({authorCount:T[ps],authorPhrase:K,databaseType:q});return n[Xa](Ai,o()({timestamp:parseInt(t[$a]),header:s()("span",{},void 0,c),isLast:a,isPrivate:U,[bs]:r,prominentTitleLink:d,[Ya]:R,[ms]:v,icon:s()(Gt,{authors:T}),showSnapshotButton:!1,showRecordPath:!0},(0,vo.h9)({[ms]:v,[as]:b,tab:h,[ys]:t})),s()(fs,{[ss]:z,discussionContext:H,alwaysHighlightWithBlockBar:!0,url:O,[Qa]:V,[bs]:r,[gs]:u}),s()(na.Z,{visible:5,items:p.map(((e,t,i)=>s()(aa.Z,{[Qa]:V,href:O,[ja]:(0,po.OD)({[gs]:u,[es]:E})},t,s()(sa.Z,{edit:e,[bs]:r,type:"comment-edit",[is]:N,highlightCurrentUser:!0,onReactionClick:L,hideAuthorName:1===p[ps]}))))}),s()(Ss,{[ys]:t,[bs]:r,tabArgs:i}))}return n[Xa](Nt,o()({timestamp:parseInt(t[$a]),header:s()("span",{},void 0,s()(k.FormattedMessage,{[Wa]:qa,[Na]:{[Ha]:T[ps],[za]:K,blockName:G},id:"activity.commentActivity.header"})),isLast:a,isPrivate:U,[bs]:r,[Ya]:t[ds],[ms]:v,icon:s()(Gt,{authors:T}),showSnapshotButton:!1},(0,vo.h9)({[ms]:v,[as]:b,tab:h,[ys]:t})),s()(fs,{url:O,[Qa]:V,[ss]:z,discussionContext:H,alwaysHighlightWithBlockBar:!1,[bs]:r,[gs]:u}),s()(na.Z,{visible:5,items:p.map(((e,t,i)=>s()(aa.Z,{[Qa]:V,href:O,[ja]:(0,po.OD)({[gs]:u,[es]:E})},t,s()(sa.Z,{edit:e,[bs]:r,type:"comment-edit",[is]:N,onReactionClick:L,hideAuthorName:!1}))))}),s()(Ss,{[ys]:t,[bs]:r,tabArgs:i}))}function fs(e){window.__c={n:"CommentContext"};const{url:t,[Qa]:i,[bs]:r,[gs]:o,[ss]:a,alwaysHighlightWithBlockBar:n,discussionContext:d}=e,c=0===(0,_a.getDiscussionIds)(d)[ps]||n,l=(0,I.O7)(),u=l.device[es],h=(0,P.Fg)(),v=(0,P.yK)((e=>({linkbox:{...(0,po.OD)({[gs]:o,[es]:u}),display:"flex",alignItems:"center",fontSize:14,...c&&{color:e.mediumTextColor},paddingTop:2,[Ea]:6,marginBottom:0}})),[u,o,c]),p=(0,C.VK)((()=>(0,xa.renderText)({[as]:l,textValue:d?{value:d,spaceId:r.id}:void 0,parentStore:r,disableHover:!0,[Ua]:c,[Ga]:!1,disabled:!0,highlightDiscussionId:a,theme:h,emojiType:(0,Oa.e_)(l),katex:l.KatexStore.getKatex(),formulaValueTypes:[]})),[r,l,d,a,h,c]);return d?s()(aa.Z,{href:t,[Qa]:i,[ja]:v.linkbox},void 0,c&&s()(Ka,{}),s()("div",{style:Z.Z[La]},void 0,p)):null}function Ss(e){window.__c={n:"CommentActions"};const{[ys]:t,[bs]:i,tabArgs:r}=e,{[gs]:o,[ms]:a,tab:d}=r,c=i[vs](i,{table:A.qF,id:t[hs],spaceId:t.space_id}),l=(0,C.VK)((()=>c[us]()),[c]),u=(0,I.O7)(),h=u.device[es],v=M.t1[ls](i,{table:A.qF,id:t[hs],spaceId:(0,Ra.CG)(i.pointer.spaceId)}),p=(0,C.VK)((()=>c.getParentId()),[c]),g=(0,n.useCallback)((e=>{if(!p)return;const r=M.G[ls](i,{table:m.iU,id:p}),s=e.target,n=null==a?void 0:a.id;Za.openReplyDiscussionMenu({[as]:u,[os]:v,rect:s[rs](),blockStore:r,[is]:ks({forReplyMenu:!0,[gs]:o}),activityId:t.id,[ts]:n}),"notifications_tab"===o&&$.trackNotificationReplyMenuOpened({[as]:u,[ts]:n,alreadyRead:Boolean(null==a?void 0:a.read),[ys]:t,tab:d})}),[t,v,u,a,p,i,o,d]),b=(0,P.yK)((e=>({[Va]:{paddingLeft:(0,po.c3)({[gs]:o,[es]:h}),paddingTop:12,[Ea]:4},[Da]:(0,po.b9)(e)})),[h,o]),y=Boolean(null==a?void 0:a.visited);return l?s()("div",{style:b[Va]},void 0,s()(xi.Z,{[Qa]:g,style:b[Da]},void 0,s()(k.FormattedMessage,{[Wa]:"Reply",id:"activity.replyButton.label"})),y&&n[Xa](n.Fragment,null,s()(ws,{}),s()(Mo,{tabArgs:r,[as]:u,[bs]:i,[ys]:t}))):null}function ws(){return s()("div",{style:{width:5,display:Fa}})}function ks(e){const{forReplyMenu:t,[gs]:i}=e;if("updates_sidebar"===i)return t?"reply_menu_updates_sidebar":"updates_sidebar";return`${t?"reply_menu_":"updates_menu_"}${$.getCurrentUpdatesTab()}`}const Ms=n.memo(As),Is=i(85).nx5,Cs=(i(85).BeR,i(85).wYZ),Ps=i(85).kS8,Bs=i(85).t8X,Rs=i(85).MHP,_s=i(85).nNG,Zs=i(85).sI1,xs=i(85).PG2,Os=i(85).NRr,Ts=i(85).dLQ,Ks=i(85).vIB,Fs=i(85).Omf,Ds=i(85).wgE,Vs=i(85).u1T,Ls=i(85).voC,Gs=i(85).AfO,Us=i(85).WT2,Es=i(85).TLr,Ns=i(85).G3i,Ws=i(85).q_$,zs=i(85).TtP,Hs=i(85).p61,qs=i(85).gYY,Ys=i(85).xa7,Xs=i(85).A6W;function js(e){let{[Xs]:t,tabArgs:i,[Ys]:r,isLast:a}=e;window.__c={n:"CommentActivityWithGroupingIA"};const d=t.edits??[],{[qs]:c,tab:u,[Hs]:h}=i;let v=d.filter((e=>{switch(e.type){case"comment-changed":return!1;case"comment-created":case"comment-deleted":return!0;default:(0,w.unreachable)(e)}}));0===v[zs]&&0!==d[zs]&&"updates_sidebar"!==c&&(v=d);const p=v[zs]>0,g=(0,I.O7)(),b=r.getRecordStore(r,{table:A.qF,id:t[Ws],spaceId:t.space_id}),y=(0,C.VK)((()=>b[Ns]()),[b]),f=(0,C.VK)((()=>{const e=b.getParentPointer();if(e)return M.G[Es](r,e)}),[b,r]),S=(0,C.VK)((()=>Boolean(f&&f[Ns]())),[f]),k=(0,C.VK)((()=>{const e=null==f?void 0:f[Us]();return(null==e?void 0:e.id)||t[Gs]}),[t[Gs],f]),B=M.G[Es](r,{table:m.iU,id:k}),R=(0,C.VK)((()=>B[Ns]()),[B]),_=(0,C.VK)((()=>Boolean(f&&(0,Ta.pathIsAccessibleAndAlive)((0,Ta.getPathStores)(f)))),[f]),x=(0,C.VK)((()=>{if(!_||!f)return;const e=f.getModel();return e?e.getRenderUrl({[Ls]:r[Ls],[Vs]:t[Ws],pageVisitSource:l.tY.Notification}):void 0}),[_,f,r,t[Ws]]),O=(0,C.VK)((()=>(0,_i.P6)({edits:v,[Ys]:r})),[v,r]),T=(0,C.VK)((()=>(0,_i.XW)(O)),[O]),K=_,F=(0,P.yK)((()=>({flex:{display:"flex"},header:{fontWeight:Z.Z.fontWeight.semibold}})),[]),D=(0,n.useCallback)((e=>{if((0,vo.dG)({...i,[Ds]:g,[Xs]:t,mightCloseTab:K}),!_&&f){var r;const o=e.target;Za.openReplyDiscussionMenu({[Ds]:g,discussionStore:b,rect:o[Fs](),blockStore:f,[Ks]:ks({forReplyMenu:!0,[qs]:i[qs]}),activityId:t.id,notificationId:null===(r=i[Hs])||void 0===r?void 0:r.id})}}),[t,_,f,b,g,i,K]),V=(0,n.useCallback)((()=>{(0,vo.BE)({...i,[Ds]:g,[Xs]:t,mightCloseTab:K})}),[i,g,t,K]),L=(0,C.VK)((()=>(0,_i.jC)({recordId:k,recordType:m.iU,tab:u,[Ys]:r,[Ds]:g})),[k,u,r,g]),G=g.device[Ts],U=(0,C.VK)((()=>ks({[qs]:c,forReplyMenu:!1})),[c]),E=(0,C.VK)((()=>(0,_i.cr)({[Xs]:t,[Ys]:r})),[t,r]),N=null==E?void 0:E.id,W=null==E?void 0:E.context,z=(0,C.VK)((()=>{const e=B[Os]();return null==e?void 0:e.getDatabaseType()}),[B]);if(!(p&&R&&S&&y))return null;const H=s()($s,{authorCount:O[zs],authorPhrase:T,databaseType:z,commentCount:v[zs]});return n.createElement(Ai,o()({timestamp:parseInt(t.end_time),header:s()("span",{style:F.header},void 0,H),isLast:a,isPrivate:L,[Ys]:r,prominentTitleLink:void 0,navigableBlockId:k,[Hs]:h,icon:s()(Gt,{authors:O}),showSnapshotButton:!1,showRecordPath:!1},(0,vo.h9)({[Hs]:h,[Ds]:g,tab:u,[Xs]:t})),s()(Qs,{[Vs]:N,discussionContext:W,alwaysHighlightWithBlockBar:!0,url:x,[xs]:D,[Ys]:r,[qs]:c}),s()(na.Z,{visible:5,items:v.map(((e,t,i)=>s()(aa.Z,{[xs]:D,href:x,[Zs]:(0,po.OD)({[qs]:c,[Ts]:G})},t,s()(sa.Z,{edit:e,[Ys]:r,type:"comment-edit",[Ks]:U,highlightCurrentUser:!0,onReactionClick:V,hideAuthorName:1===v[zs]}))))}))}function Qs(e){window.__c={n:"CommentContextForGrouping"};const{url:t,[xs]:i,[Ys]:r,[qs]:o,[Vs]:a,alwaysHighlightWithBlockBar:n,discussionContext:d}=e,c=0===(0,_a.getDiscussionIds)(d)[zs]||n,l=(0,I.O7)(),u=l.device[Ts],h=(0,P.Fg)(),v=(0,P.yK)((e=>({linkbox:{...(0,po.OD)({[qs]:o,[Ts]:u}),display:"flex",alignItems:"center",fontSize:14,...c&&{color:e.mediumTextColor},paddingTop:2,paddingBottom:6,marginBottom:0},[_s]:{backgroundColor:e.accentColors.yellow[50],paddingLeft:4,paddingRight:4,borderRadius:2,...Z.Z.textOverflowStyle}})),[u,o,c]),p=(0,C.VK)((()=>(0,xa.renderText)({[Ds]:l,textValue:d?{value:d,spaceId:r.id}:void 0,parentStore:r,disableHover:!0,[Rs]:c,[Bs]:!1,disabled:!0,highlightDiscussionId:a,theme:h,emojiType:(0,Oa.e_)(l),katex:l.KatexStore.getKatex(),formulaValueTypes:[]})),[r,l,d,a,h,c]);return d?s()(aa.Z,{href:t,[xs]:i,[Zs]:v.linkbox},void 0,s()("span",{style:v[_s]},void 0,p)):null}function $s(e){let{databaseType:t,authorCount:i,authorPhrase:r,commentCount:o}=e;switch(t){case Ba.iS:return s()(k.FormattedMessage,{[Is]:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a task} other {{authorOrAuthors} commented on a task}}",values:{[Ps]:i,[Cs]:r},id:"activity.commentTaskActivity.standardizedHeader"});case Ba.wW:return s()(k.FormattedMessage,{[Is]:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a project} other {{authorOrAuthors} commented on a project}}",values:{[Ps]:i,[Cs]:r},id:"activity.commentProjectActivity.standardizedHeader"});case Ba.zU:return s()(k.FormattedMessage,{[Is]:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a document} other {{authorOrAuthors} commented on a document}}",values:{[Ps]:i,[Cs]:r},id:"activity.commentDocActivity.standardizedHeader"});case Ba.GZ:return s()(k.FormattedMessage,{[Is]:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a wiki} other {{authorOrAuthors} commented on a wiki}}",values:{[Ps]:i,[Cs]:r},id:"activity.commentWikiActivity.standardizedHeader"});case Ba.Fi:return s()(k.FormattedMessage,{[Is]:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a meeting note} other {{authorOrAuthors} commented on a meeting note}}",values:{[Ps]:i,[Cs]:r},id:"activity.commentMeetingActivity.standardizedHeader"});case Ba.nG:case Ba.p$:case void 0:return s()(k.FormattedMessage,{[Is]:"{authorOrAuthors} left {commentCount, plural, one {a comment} other {comments}}",values:{[Ps]:i,[Cs]:r,commentCount:o},id:"activity.commentActivity.standardizedGroupedHeader"});default:(0,w.unreachable)(t)}}const Js=n.memo(js),en=i(85).D7I,tn=i(85).wgE,rn=i(85).nx5,on=(i(85).BeR,i(85).wYZ),an=i(85).TtP,sn=i(85).kS8,nn=i(85).NT$,dn=i(85)._4y,cn=i(85).qo,ln=i(85).p61,un=i(85).xa7,hn=i(85).A6W;const vn=function(e){window.__c={n:"EmailEditedActivity"};const{[hn]:t,[un]:i,tabArgs:r,isLast:a,useRedesignedIA:d}=e,{tab:c,[ln]:l}=r,u=(0,I.O7)(),h=(0,S.prepareEditsForDisplay)(t.edits??[]),v=(0,C.VK)((()=>(0,_i.P6)({edits:h,[un]:i})),[h,i]),p=(0,C.VK)((()=>(0,_i.XW)(v)),[v]),{oldEmail:m,[cn]:g}=(0,C.VK)((()=>{const e=h[0];return{oldEmail:e?e.old_email:"",[cn]:e?e.new_email:""}}),[h]),b="pageUpdatesSidebar"===c;return d?n[en](Ai,o()({timestamp:parseInt(t[dn]),header:s()("span",{},void 0,s()(k.FormattedMessage,{[rn]:nn,values:{[sn]:v[an],[on]:p,oldEmail:m,[cn]:g},id:"activity.emailEdited.header"})),isLast:a,isPrivate:!1,[un]:i,showRecordPath:!1,[ln]:l,icon:s()(Gt,{authors:v}),showSnapshotButton:b},(0,vo.h9)({[ln]:l,[hn]:t,[tn]:u,tab:c}))):n[en](Nt,o()({timestamp:parseInt(t[dn]),header:s()("span",{},void 0,s()(k.FormattedMessage,{[rn]:nn,values:{[sn]:v[an],[on]:p,oldEmail:m,[cn]:g},id:"activity.emailEdited.header"})),isLast:a,isPrivate:!1,[un]:i,[ln]:l,icon:s()(Gt,{authors:v}),showSnapshotButton:b},(0,vo.h9)({[ln]:l,[hn]:t,[tn]:u,tab:c})))};var pn=i(54584);const mn=i(85).Dy6,gn=i(85).D7I,bn=i(85).sI1,yn=i(85).nx5,An=(i(85).BeR,i(85).ki8),fn=i(85).wYZ,Sn=i(85)._4y,wn=i(85).wgE,kn=i(85).dLQ,Mn=i(85).voC,In=i(85).TLr,Cn=i(85).p61,Pn=i(85).xa7,Bn=i(85).A6W;function Rn(e){window.__c={n:"GroupMentionedActivity"};const{[Bn]:t,[Pn]:i,isLast:r,tabArgs:a,useRedesignedIA:d}=e,{tab:c,[Cn]:u,source:h}=a,v=(0,I.O7)(),p=t.edits??[],g=p.length>0,b=p[0],y=M.G[In](i,{table:m.iU,id:b.navigable_block_id}),A=(0,C.VK)((()=>y.isDefined()),[y]),f=M.G[In](i,{table:m.iU,id:t.mentioned_block_id}),S=(0,C.VK)((()=>f.isDefined()),[f]),w=(0,C.VK)((()=>{const e=f.getModel();return null==e?void 0:e.getRenderUrl({[Mn]:i[Mn],pageVisitSource:l.tY.Notification})}),[f,i]),P=(0,C.VK)((()=>i.getModel()),[i]),B=(0,C.VK)((()=>(0,pn.QH)(O.default.getIntl(),P,t.mentioned_group_id)),[P,t]),R=(0,C.VK)((()=>(0,_i.P6)({edits:t.edits||[],[Pn]:i})),[t,i]),_=(0,C.VK)((()=>(0,_i.XW)(R)),[R]),Z=v.device[kn],x=(0,C.VK)((()=>(0,_i.jC)({recordId:y.id,recordType:m.iU,tab:c,[Pn]:i,[wn]:v})),[y,c,i,v]);if(!(g&&A&&S&&w))return null;const T=s()(Io.Z,{titledRecordStore:y,[Bn]:t,tabArgs:a,[Mn]:i[Mn]});return d?n[gn](Ai,o()({timestamp:parseInt(t[Sn]),header:s()("span",{},void 0,s()(k.FormattedMessage,{[yn]:"{authorOrAuthors} mentioned {groupName} in a page",values:{[fn]:_,[An]:B},id:"activity.groupMentionActivity.standardizedHeader"})),isLast:r,isPrivate:x,[Pn]:i,prominentTitleLink:T,[mn]:y.id,showRecordPath:!0,[Cn]:u,icon:s()(Gt,{authors:R}),showSnapshotButton:!1},(0,vo.h9)({[Cn]:u,[Bn]:t,[wn]:v,tab:c})),s()(aa.Z,{href:w,onClick:()=>(0,vo.dG)({[wn]:v,[Bn]:t,...a}),[bn]:(0,po.OD)({source:h,[kn]:Z})},void 0,s()(sa.Z,{edit:b,[Pn]:i,highlightCurrentUser:!0})),s()(ko,{tabArgs:a,[Bn]:t,[kn]:Z,[wn]:v,[Pn]:i})):n[gn](Nt,o()({timestamp:parseInt(t[Sn]),header:s()("span",{},void 0,s()(k.FormattedMessage,{[yn]:"{authorOrAuthors} mentioned {groupName} in {pageName}",values:{[fn]:_,pageName:T,[An]:B},id:"activity.groupMentionActivity.header"})),isLast:r,isPrivate:x,[Pn]:i,[mn]:y.id,[Cn]:u,icon:s()(Gt,{authors:R}),showSnapshotButton:!1},(0,vo.h9)({[Cn]:u,[Bn]:t,[wn]:v,tab:c})),s()(aa.Z,{href:w,onClick:()=>(0,vo.dG)({[wn]:v,[Bn]:t,...a}),[bn]:(0,po.OD)({source:h,[kn]:Z})},void 0,s()(sa.Z,{edit:b,[Pn]:i})),s()(ko,{tabArgs:a,[Bn]:t,[kn]:Z,[wn]:v,[Pn]:i}))}var _n=i(31278);const Zn=i(85).nx5;function xn(e){let t,i,{permissionGroup:r,spaceId:o}=e;window.__c={n:"PermissionGroupTitle"},r?(t=r.icon,i=r.name||s()(k.FormattedMessage,{[Zn]:"Untitled group",id:"activity.permissionGroupTitles.untitledGroup"})):i=s()(k.FormattedMessage,{[Zn]:"Deleted group",id:"activity.permissionGroupTitles.deletedGroup"});const a=void 0!==t,d=(0,P.yK)((()=>({title:(0,po.TL)(a)})),[a]),c=(0,n.useMemo)((()=>(0,w.isDefined)(t)?{icon:t,pointer:{table:"space",id:o}}:void 0),[t,o]);return s()("span",{},void 0,c&&s()(_n.Z,{disabled:!0,icon:c,isEmptyPage:!1,size:18,style:po.e9}),s()("span",{style:d.title},void 0,i))}const On=n.memo(xn),Tn=i(85).D7I,Kn=i(85).nx5,Fn=(i(85).oLS,i(85)._4y),Dn=i(85).voC,Vn=i(85).wgE,Ln=i(85).p61,Gn=i(85).xa7,Un=i(85).A6W;const En=function(e){window.__c={n:"PrivateContentTransferredActivity"};const{[Un]:t,[Gn]:i,tabArgs:r,isLast:a,useRedesignedIA:d}=e,{tab:c,[Ln]:l}=r,u=(0,I.O7)(),h=(0,n.useMemo)((()=>t.edits??[]),[t]),v=(0,C.VK)((()=>(0,_i.P6)({edits:h,[Gn]:i})),[h,i]),p=(0,C.VK)((()=>(0,_i.XW)(v)),[v]),g=M.G.createChildStore(i,{table:m.iU,id:t.navigable_block_id}),b=(0,C.VK)((()=>g.isDefined()),[g]),y=(0,C.VK)((()=>(0,_i.jC)({recordId:g.id,recordType:m.iU,tab:c,[Gn]:i,[Vn]:u})),[g,c,i,u]),A=h[0],f=(0,C.VK)((()=>(0,_i.N8)(A.from_user_id,i)),[A,i]),S=(0,C.VK)((()=>(0,_i.N8)(A.to_user_id,i)),[A,i]);if(!(h.length>0&&f&&S&&b))return null;const w=(0,wi.$4)(O.default.getIntl(),(0,wi.LU)({table:_.KJ,value:f})),P=s()(Io.Z,{titledRecordStore:g,[Un]:t,tabArgs:r,[Dn]:i[Dn]});return d?n[Tn](Ai,o()({timestamp:parseInt(t[Fn]),header:s()(k.FormattedMessage,{[Kn]:"{authorPhrase} transferred private content from {fromUserName} to you",values:{authorPhrase:p,fromUserName:w},id:"activity.privateContentTransferred.standardizedHeader"}),isLast:a,prominentTitleLink:P,isPrivate:y,[Gn]:i,[Ln]:r[Ln],icon:s()(Gt,{authors:v}),showSnapshotButton:!1,showRecordPath:!1},(0,vo.h9)({[Ln]:l,[Un]:t,[Vn]:u,tab:c}))):n[Tn](Nt,o()({timestamp:parseInt(t[Fn]),header:s()(k.FormattedMessage,{[Kn]:"{authorPhrase} transferred private content from {fromUserName} to you: {pageName}",values:{authorPhrase:p,fromUserName:w,pageName:P},id:"activity.privateContentTransferred.header"}),isLast:a,isPrivate:y,[Gn]:i,[Ln]:r[Ln],icon:s()(Gt,{authors:v}),showSnapshotButton:!1},(0,vo.h9)({[Ln]:l,[Un]:t,[Vn]:u,tab:c})))},Nn=i(85).Dy6,Wn=i(85).D7I,zn=i(85).sI1,Hn=i(85).nx5,qn=i(85).yZC,Yn=i(85)._4y,Xn=i(85).dLQ,jn=i(85).wgE,Qn=i(85).voC,$n=i(85).TLr,Jn=i(85).p61,ed=i(85).xa7,td=i(85).A6W;function id(e){window.__c={n:"ReminderActivity"};const{[td]:t,[ed]:i,tabArgs:r,isLast:a,useRedesignedIA:d}=e,{[Jn]:c,tab:u,source:h}=r,v=(0,I.O7)(),p=t.edits??[],g=p.length>0,b=M.G[$n](i,{table:m.iU,id:p[0].navigable_block_id}),y=(0,C.VK)((()=>b.isDefined()),[b]),A=M.G[$n](i,{table:m.iU,id:t.reminder_block_id}),f=(0,C.VK)((()=>A.isDefined()),[A]),S=(0,C.VK)((()=>{const e=A.getModel();if(e)return e.getRenderUrl({[Qn]:i[Qn],pageVisitSource:l.tY.Notification})}),[A,i]),w=(0,C.VK)((()=>(0,_i.jC)({recordId:b.id,recordType:m.iU,tab:u,[ed]:i,[jn]:v})),[b,u,i,v]);if(!(g&&y&&f&&S))return null;const P=v.device[Xn],B=s()(Io.Z,{titledRecordStore:b,[Qn]:i[Qn],[td]:t,tabArgs:r});return d?n[Wn](Ai,o()({timestamp:parseInt(t[Yn]),header:s()("span",{},void 0,s()(k.FormattedMessage,{[Hn]:"Reminder in {pageTitle}",id:"activity.reminderInActivity.header",values:{[qn]:B}})),isLast:a,isPrivate:w,[ed]:i,[Nn]:b.id,showRecordPath:!0,[Jn]:c,icon:s()(Ut,{}),showSnapshotButton:!1},(0,vo.h9)({[Jn]:c,[td]:t,[jn]:v,tab:u})),s()(aa.Z,{href:S,onClick:()=>(0,vo.dG)({[jn]:v,[td]:t,...r}),[zn]:(0,po.OD)({source:h,[Xn]:P})},void 0,s()(sa.Z,{edit:p[0],[ed]:i}))):n[Wn](Nt,o()({timestamp:parseInt(t[Yn]),header:s()("span",{},void 0,s()(k.FormattedMessage,{[Hn]:"Reminder in {pageTitle}",id:"activity.reminderInActivity.header",values:{[qn]:B}})),isLast:a,isPrivate:w,[ed]:i,[Nn]:b.id,[Jn]:c,icon:s()(Ut,{}),showSnapshotButton:!1},(0,vo.h9)({[Jn]:c,[td]:t,[jn]:v,tab:u})),s()(aa.Z,{href:S,onClick:()=>(0,vo.dG)({[jn]:v,[td]:t,...r}),[zn]:(0,po.OD)({source:h,[Xn]:P})},void 0,s()(sa.Z,{edit:p[0],[ed]:i})))}var rd=i(57688),od=i(45094),ad=i(23537),sd=i(62820),nd=i(76798);const dd=i(85).BQ6,cd=i(85).dLQ,ld=i(85).TLr,ud=i(85).nx5,hd=i(85).eAn,vd=i(85).Yzm,pd=i(85).Ww0,md=i(85).XYO,gd=i(85).wgE,bd=i(85).TEz,yd=i(85).AEv,Ad=i(85).PXg,fd=i(85).L_E,Sd=i(85).voC;function wd(e){window.__c={n:"TitleCard"};const{titledRecordStore:t,rootStore:i,activity:r,tabArgs:o}=e,a=i[Sd],d=(0,C.VK)((()=>t.getModel()),[t]),c=(0,I.O7)(),u=(0,C.VK)((()=>null==d?void 0:d.getRenderIcon({[Sd]:a})),[d,a]),h=(0,P.yK)((e=>({[fd]:{...po.lS,display:"block",border:`1px solid ${e.outlineButtonBorder}`,borderRadius:3,marginTop:8,padding:10},icon:{...po.e9,[Ad]:8},activityTitle:{display:"inline",whiteSpace:"normal",[Ad]:void 0!==u?3:0,wordBreak:"break-word",...po.nP},flexRow:{display:"flex",alignItems:"center"},title:{maxWidth:"80%"},spacer:{flexGrow:1},[yd]:{fontSize:12,color:e[bd]},avatarContainer:{display:"flex",flexDirection:"row",justifyContent:"start",overflow:"hidden",paddingRight:2,alignItems:"center"},overlappingAvatar:{[Ad]:-5,position:"relative"},rightmostAvatar:{position:"relative"},remainderCount:{paddingLeft:2,color:e[bd]}})),[u]),v=(0,C.VK)((()=>{if(d&&d.table!==R.e0)return d.getRenderUrl({[Sd]:a,pageVisitSource:l.tY.Notification})}),[d,a]),p=(0,n.useCallback)((()=>{const e=t.table;switch(e){case m.iU:case f.bx:(0,vo.V3)({[gd]:c,activity:r,...o});break;case R.e0:(0,vo.dG)({[gd]:c,activity:r,...o}),rd.openTeamHome({[gd]:c,teamStore:t,shouldScroll:!0}),sd.Z.setState({...sd.Z.state,open:!1});break;default:(0,w.unreachable)(e)}}),[r,c,o,t]),g=(0,C.VK)((()=>{const e=t.table;switch(e){case"space":const i=t.getPublicSpaceData();return i&&"none"!==i.role?s()("div",{},void 0,s()(k.FormattedMessage,{id:"activity.titleCard.spaceSubtitle",[ud]:md,values:{numberOfWorkspaceMembers:O.default.formatNumber(i[pd]),planType:O.default[vd]((0,od.getProductName)(i[hd]))}})):null;case"block":return s()(H.Z,{store:t});case"team":const r=t.getUserIdsInTeam().length,o=t.getTeamAccessLevel();return s()("div",{},void 0,s()(k.FormattedMessage,{id:"activity.titleCard.teamSubtitle",[ud]:"{accessLevel} Â· {numberOfTeamMembers, plural, one {{numberOfTeamMembers} member} other {{numberOfTeamMembers} members}}",values:{accessLevel:o,numberOfTeamMembers:r}}));default:(0,w.unreachable)(e)}}),[t]),b=(0,C.VK)((()=>{const e=t.table;let r=[];switch(e){case"space":const o=t.getModel();if(!o)break;r=o.getUserPermissionItems().map((e=>e.user_id));break;case"block":const a=t.getCreatedByPointer();(null==a?void 0:a.table)===_.KJ&&(r=[a.id]);break;case"team":r=(0,ad.xf)({teamStore:t,spaceStore:i});break;default:(0,w.unreachable)(e)}const o=Math.max(0,r.length-3),a=Math.min(r.length,3);return s()("div",{[dd]:h.avatarContainer},void 0,r.slice(0,3).map(((e,i)=>{const r=M.U6[ld](t,{table:_.KJ,id:e}),o=i===a-1;if(r)return s()(X.Z,{userStore:r,size:24,avatarShouldShowShadow:!1,[dd]:o?h.rightmostAvatar:h.overlappingAvatar,isOffline:!1,hasTooltip:!c.device[cd]})})),o>0&&s()("div",{[dd]:h.remainderCount},void 0,s()(k.FormattedMessage,{[ud]:"{remainingAvatarCount, plural, one {+{remainingAvatarCount}} other {+{remainingAvatarCount}}}",id:"activity.titleCard.members.otherCount.message",values:{remainingAvatarCount:o}})))}),[c.device[cd],h,t,i]);return d?s()(aa.Z,{href:v,onClick:p,external:!1,innerStyle:h[fd],inline:!0},void 0,s()("div",{[dd]:h.flexRow},void 0,u&&s()(_n.Z,{disabled:!0,icon:u,isEmptyPage:!1,size:25,[dd]:h.icon}),s()("div",{[dd]:h.title},void 0,s()(nd.Z,{store:t,[dd]:h.activityTitle}),s()("div",{[dd]:h[yd]},void 0,g)),s()("div",{[dd]:h.spacer}),s()("div",{},void 0,b))):null}const kd=n.memo(wd),Md=i(85).voC,Id=i(85).D7I,Cd=i(85).wgE,Pd=i(85).nx5,Bd=(i(85).BeR,i(85).wYZ),Rd=i(85).kS8,_d=i(85)._4y,Zd=i(85).TtP,xd=i(85).p61,Od=i(85).xa7,Td=i(85).A6W;function Kd(e){window.__c={n:"TeamMembershipEditedActivity"};const{[Td]:t,[Od]:i,tabArgs:r,isLast:a,useRedesignedIA:d}=e,{[xd]:c,tab:l}=r,u=(0,I.O7)(),h=t.edits??[],v=h[Zd]>0,p=(0,C.VK)((()=>(0,_i.P6)({edits:t.edits||[],[Od]:i})),[t,i]),m=(0,C.VK)((()=>(0,_i.XW)(p)),[p]),g=h[0],b=M.zX.createChildStore(i,{table:R.e0,id:g.team_id}),y=(0,C.VK)((()=>b.isDefined()),[b]);return v&&y?d?n[Id](Ai,o()({timestamp:parseInt(t[_d]),header:s()(k.FormattedMessage,{[Pd]:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a teamspace} other {{authorOrAuthors} invited you to a teamspace}}",values:{[Rd]:p[Zd],[Bd]:m},id:"activity.userInvitedToTeamActivity.standardizedHeader"}),prominentTitleLink:s()(kd,{titledRecordStore:b,[Od]:i,[Td]:t,tabArgs:r}),isLast:a,isPrivate:!1,[Od]:i,[xd]:c,showRecordPath:!1,icon:s()(Gt,{authors:p}),showSnapshotButton:!1},(0,vo.h9)({[xd]:c,[Td]:t,[Cd]:u,tab:l}))):n[Id](Nt,o()({timestamp:parseInt(t[_d]),header:s()(k.FormattedMessage,{[Pd]:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to teamspace {teamName}} other {{authorOrAuthors} invited you to {teamName}}}",values:{[Rd]:p[Zd],[Bd]:m,teamName:s()(Io.Z,{titledRecordStore:b,[Md]:i[Md],[Td]:t,tabArgs:r})},id:"activity.userInvitedToTeamActivity.header"}),isLast:a,isPrivate:!1,[Od]:i,[xd]:c,icon:s()(Gt,{authors:p}),showSnapshotButton:!1},(0,vo.h9)({[xd]:c,[Td]:t,[Cd]:u,tab:l}))):null}var Fd=i(84683),Dd=i(94044),Vd=i(63143);const Ld=i(85).nr6,Gd=i(85).TLr,Ud=i(85).SPm,Ed=i(85).nSw,Nd=i(85).FP4,Wd=i(85).s9u,zd=i(85).WF6,Hd=i(85)._qZ,qd=i(85).ki8,Yd=i(85).Gpy,Xd=(i(85).BeR,i(85).wYZ),jd=i(85).kS8,Qd=(i(85).xPy,i(85).nx5),$d=i(85).NRr,Jd=i(85).P7l,ec=i(85).M_x,tc=i(85).EdP,ic=i(85).voC,rc=i(85).Dy6,oc=i(85).D7I,ac=i(85).AfO,sc=i(85).QKv,nc=i(85).TtP,dc=i(85).wgE,cc=i(85).yn7,lc=i(85).Ql2,uc=i(85).p61,hc=i(85).xa7,vc=i(85).A6W;function pc(e){window.__c={n:"UserInvitedActivity"};const{[vc]:t,[hc]:i,tabArgs:r,isLast:a,useRedesignedIA:d}=e,{[uc]:c,tab:l}=r,u=(0,I.O7)(),h=(t.edits??[])[0],v=Ac({[hc]:i,edit:h}),p=function(e){let{data:t,[lc]:i,tab:r,[hc]:o}=e;const a=(0,I.O7)();return(0,C.VK)((()=>{let e,s;if(!t)return!1;if("block"===(null==t?void 0:t.type))e=t[tc].id,s=tc;else if("space"===(null==t?void 0:t.type)||"group"===(null==t?void 0:t.type)){if(!i)return!1;e=i,s=Jd}else(0,w.unreachable)(t);return(0,_i.jC)({recordId:e,recordType:s,tab:r,[hc]:o,[dc]:a})}),[t,a,o,i,r])}({data:v,[lc]:h[cc],tab:l,[hc]:i}),m=(0,C.VK)((()=>(0,_i.P6)({edits:t.edits??[],[hc]:i})),[t.edits,i]),g=(0,n.useMemo)((()=>(0,vo.h9)({[uc]:c,[dc]:u,tab:l,[vc]:t})),[t,u,c,l]);if(!t.edits||0===t.edits[nc]||!v)return null;const b=parseInt(t.end_time),y=0===m.filter(wi.uC)[nc],A=y?void 0:s()(Gt,{[sc]:m});return d?n[oc](Ai,o()({timestamp:b,header:s()("span",{},void 0,s()(gc,{data:v,[sc]:m,isFromBot:y,[lc]:h[cc]})),prominentTitleLink:s()(mc,{data:v,[hc]:i,[vc]:t,tabArgs:r}),isLast:a,isPrivate:p,[hc]:i,[rc]:t[ac],showRecordPath:!1,[uc]:c,icon:A,showSnapshotButton:!1},g),n[oc](yc,o()({},e,{edit:h}))):n[oc](Nt,o()({timestamp:b,header:s()("span",{},void 0,s()(bc,{data:v,[sc]:m,isFromBot:y,[vc]:t,tabArgs:r,[ic]:i[ic],[lc]:h[cc]})),isLast:a,isPrivate:p,[hc]:i,[rc]:t[ac],[uc]:c,icon:A,showSnapshotButton:!1},g),n[oc](yc,o()({},e,{edit:h})))}function mc(e){let{data:t,[hc]:i,[vc]:r,tabArgs:o}=e;switch(t.type){case tc:return s()(kd,{tabArgs:o,titledRecordStore:t[tc],[hc]:i,[vc]:r});case ec:return null;case Jd:return s()(kd,{tabArgs:o,titledRecordStore:t[Jd],[hc]:i,[vc]:r});default:(0,w.unreachable)(t)}}function gc(e){let{data:t,[sc]:i,isFromBot:r,[lc]:o}=e;window.__c={n:"UserInviteSimplifiedHeader"};const a=(0,C.VK)((()=>(0,_i.XW)(i)),[i]),n=(0,C.VK)((()=>{var e;return"block"===t.type?null===(e=t[tc][$d]())||void 0===e?void 0:e.getDatabaseType():void 0}),[t]);switch(t.type){case tc:if(r)switch(n){case Ba.wW:return s()(k.FormattedMessage,{[Qd]:"You have been invited to a project",id:"activity.userInvitedActivityProjectByBot.standardizedHeader"});case Ba.iS:return s()(k.FormattedMessage,{[Qd]:"You have been invited to a task",id:"activity.userInvitedActivityTaskByBot.standardizedHeader"});case Ba.zU:return s()(k.FormattedMessage,{[Qd]:"You have been invited to a document",id:"activity.userInvitedActivityDocByBot.standardizedHeader"});case Ba.Fi:return s()(k.FormattedMessage,{[Qd]:"You have been invited to a meeting",id:"activity.userInvitedActivityMeetingByBot.standardizedHeader"});case Ba.p$:return s()(k.FormattedMessage,{[Qd]:"You have been invited to a sprint",id:"activity.userInvitedActivitySprintByBot.standardizedHeader"});case Ba.GZ:return s()(k.FormattedMessage,{[Qd]:"You have been invited to a wiki",id:"activity.userInvitedActivityWikiByBot.standardizedHeader"});default:return s()(k.FormattedMessage,{[Qd]:"You have been invited to a page",id:"activity.userInvitedActivityNavigableBlockByBot.standardizedHeader"})}else switch(n){case Ba.wW:return s()(k.FormattedMessage,{[Qd]:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a project} other {{authorOrAuthors} invited you to a project}}",[Yd]:{[jd]:i[nc],[Xd]:a},id:"activity.userInvitedActivityProject.standardizedHeader"});case Ba.iS:return s()(k.FormattedMessage,{[Qd]:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a task} other {{authorOrAuthors} invited you to a task}}",[Yd]:{[jd]:i[nc],[Xd]:a},id:"activity.userInvitedActivityTask.standardizedHeader"});case Ba.zU:return s()(k.FormattedMessage,{[Qd]:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a document} other {{authorOrAuthors} invited you to a document}}",[Yd]:{[jd]:i[nc],[Xd]:a},id:"activity.userInvitedActivityDoc.standardizedHeader"});case Ba.Fi:return s()(k.FormattedMessage,{[Qd]:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a meeting} other {{authorOrAuthors} invited you to a meeting}}",[Yd]:{[jd]:i[nc],[Xd]:a},id:"activity.userInvitedActivityMeeting.standardizedHeader"});case Ba.p$:return s()(k.FormattedMessage,{[Qd]:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a sprint} other {{authorOrAuthors} invited you to a sprint}}",[Yd]:{[jd]:i[nc],[Xd]:a},id:"activity.userInvitedActivitySprint.standardizedHeader"});case Ba.GZ:return s()(k.FormattedMessage,{[Qd]:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a wiki} other {{authorOrAuthors} invited you to a wiki}}",[Yd]:{[jd]:i[nc],[Xd]:a},id:"activity.userInvitedActivityWiki.standardizedHeader"});default:return s()(k.FormattedMessage,{[Qd]:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a page} other {{authorOrAuthors} invited you to a page}}",[Yd]:{[jd]:i[nc],[Xd]:a},id:"activity.userInvitedActivityNavigableBlock.standardizedHeader"})}case ec:const e=s()(On,{permissionGroup:t[ec],[lc]:o});return s()(k.FormattedMessage,r?{[Qd]:"You have been invited to group {groupName}",[Yd]:{[qd]:e},id:"activity.userInvitedActivityGroupIdByBot.standardizedHeader"}:{[Qd]:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to group {groupName}} other {{authorOrAuthors} invited you to group {groupName}}}",[Yd]:{[jd]:i[nc],[Xd]:a,[qd]:e},id:"activity.userInvitedActivityGroupId.standardizedHeader"});case Jd:return s()(k.FormattedMessage,r?{[Qd]:"You have been invited to a workspace",id:"activity.userInvitedActivityOtherInviteByBot.standardizedHeader"}:{[Qd]:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a workspace} other {{authorOrAuthors} invited you to a workspace}}",[Yd]:{[jd]:i[nc],[Xd]:a},id:"activity.userInvitedActivityOtherInvite.standardizedHeader"});default:(0,w.unreachable)(t)}}function bc(e){let{data:t,[sc]:i,isFromBot:r,[vc]:o,tabArgs:a,[ic]:n,[lc]:d}=e;window.__c={n:"UserInviteHeader"};const c=(0,C.VK)((()=>(0,_i.XW)(i)),[i]);switch(t.type){case tc:const e=t[tc],l=s()(Io.Z,{tabArgs:a,titledRecordStore:e,[vc]:o,[ic]:n});return s()(k.FormattedMessage,r?{[Qd]:"You have been invited to {blockName}",[Yd]:{blockName:l},id:"activity.userInvitedActivityNavigableBlockByBot.header"}:{[Qd]:Hd,[Yd]:{[jd]:i[nc],[Xd]:c,blockName:l},id:"activity.userInvitedActivityNavigableBlock.header"});case ec:const u=s()(On,{permissionGroup:t[ec],[lc]:d});return s()(k.FormattedMessage,r?{[Qd]:"You have been added to group {groupName}",[Yd]:{[qd]:u},id:"activity.userInvitedActivityGroupIdByBot.header"}:{[Qd]:zd,[Yd]:{[jd]:i[nc],[Xd]:c,[qd]:u},id:"activity.userInvitedActivityGroupId.header"});case Jd:const h=s()(Io.Z,{tabArgs:a,titledRecordStore:t[Jd],[vc]:o,[ic]:n});return s()(k.FormattedMessage,r?{[Qd]:"You have been invited to {spaceName}",[Yd]:{[Wd]:h},id:"activity.userInvitedActivityOtherInviteByBot.header"}:{[Qd]:Nd,[Yd]:{[jd]:i[nc],[Xd]:c,[Wd]:h},id:"activity.userInvitedActivityOtherInvite.header"});default:(0,w.unreachable)(t)}}function yc(e){let{edit:t,[vc]:i,[hc]:r,tabArgs:o}=e;window.__c={n:"InviteDetail"};const a=(0,I.O7)(),{isMobile:n}=a.device,{source:d}=o,c=(0,P.yK)((()=>({inviteMessage:{paddingLeft:(0,po.c3)({source:d,isMobile:n}),paddingTop:8,paddingBottom:8,paddingRight:12,fontSize:14}})),[n,d]),u=Ac({[hc]:r,edit:t}),h=parseInt(i.end_time),v=(0,C.VK)((()=>{if("block"!==(null==u?void 0:u.type))return;const e=u[tc];return null!=e&&e.isDefined()?e.getModel():void 0}),[u]),p=(0,C.VK)((()=>{if(v)return(0,vo.ME)(v.getRenderUrl({[ic]:r[ic],pageVisitSource:l.tY.Notification}))}),[v,r[ic]]),m=(0,C.VK)((()=>{if(!v)return{isValid:!1};const e=v&&(0,Dd.$e)(v,i);if(!e)return{isValid:!1};const t=r[Ed]({table:Fd.Tu,id:e,[lc]:i[cc]});return null!=t&&t[Ud]&&t.created_time<=h+5*Vd.MinuteMs?{isValid:!0,[Ud]:t[Ud]}:{isValid:!1}}),[i,h,v,r]);return null!=m&&m.isValid?s()(aa.Z,{href:p,onClick:()=>(0,vo.dG)({...o,[dc]:a,[vc]:i,mightCloseTab:!0}),innerStyle:c.inviteMessage},void 0,m[Ud]):null}function Ac(e){let{[hc]:t,edit:i}=e;return(0,C.VK)((()=>{if(i)return i[ac]?{type:tc,[tc]:M.G[Gd](t,{table:m.iU,id:i[ac]})}:i[Ld]?{type:ec,[ec]:(0,v.Bg)({[lc]:i[cc],permissionGroupId:i[Ld],[Ed]:t[Ed]})}:{type:Jd,[Jd]:M.H2[Gd](t,{table:f.bx,id:i[cc]})}}),[i,t])}const fc=n.memo(pc);var Sc=i(70921);const wc=i(85).pKW,kc=i(85).nx5,Mc=(i(85).BeR,i(85).wYZ),Ic=i(85).kS8,Cc=i(85).Dy6,Pc=i(85).D7I,Bc=i(85).sI1,Rc=i(85)._4y,_c=i(85).dLQ,Zc=i(85).wgE,xc=i(85).voC,Oc=i(85).TLr,Tc=i(85).TtP,Kc=i(85).p61,Fc=i(85).xa7,Dc=i(85).A6W;function Vc(e){window.__c={n:"UserMentionedActivity"};const{[Dc]:t,[Fc]:i,tabArgs:r,isLast:a,useRedesignedIA:d}=e,{source:c,tab:u,[Kc]:h}=r,v=(0,I.O7)(),p=t.edits??[],g=p[Tc]>0,b=p[0],y=M.G[Oc](i,{table:m.iU,id:b.navigable_block_id}),A=(0,C.VK)((()=>y.isDefined()),[y]),f=M.G[Oc](i,{table:m.iU,id:t.mentioned_block_id}),S=M.WJ[Oc](i,{table:Sc.TY,id:t.id,spaceId:t.space_id}),w=(0,C.VK)((()=>S.getStandardizedMentionedPropertyURI()),[S]),P=(0,C.VK)((()=>f.isDefined()),[f]),B=(0,C.VK)((()=>{const e=f.getModel();return null==e?void 0:e.getRenderUrl({[xc]:i[xc],pageVisitSource:l.tY.Notification})}),[f,i]),R=(0,C.VK)((()=>(0,_i.P6)({edits:t.edits||[],[Fc]:i})),[t,i]),_=(0,C.VK)((()=>(0,_i.XW)(R)),[R]),Z=(0,C.VK)((()=>(0,_i.jC)({recordId:y.id,recordType:"block",tab:u,[Fc]:i,[Zc]:v})),[y,u,i,v]);if(!(g&&A&&P&&B))return null;const x=v.device[_c],O=s()(Io.Z,{titledRecordStore:y,[xc]:i[xc],[Dc]:t,tabArgs:r}),T=function(e,t,i){switch(e){case Ba.Es.Assign:return s()(k.FormattedMessage,{[kc]:"{numberOfAuthors, plural, one {{authorOrAuthors} assigned you a task} other {{authorOrAuthors} assigned you a task}}",values:{[Ic]:i[Tc],[Mc]:t},id:"activity.mentionTaskActivity.standardizedHeader"});case Ba.zI.People:return s()(k.FormattedMessage,{[kc]:"{numberOfAuthors, plural, one {{authorOrAuthors} mentioned you in a project} other {{authorOrAuthors} mentioned you in a project}}",values:{[Ic]:i[Tc],[Mc]:t},id:"activity.mentionProjectActivity.standardizedHeader"});default:return s()(k.FormattedMessage,{[kc]:"{numberOfAuthors, plural, one {{authorOrAuthors} mentioned you in a page} other {{authorOrAuthors} mentioned you in a page}}",values:{[Ic]:i[Tc],[Mc]:t},id:"activity.mentionActivity.standardizedHeader"})}}(w,_,R);if(d)return n[Pc](Ai,o()({timestamp:parseInt(t[Rc]),header:s()("span",{},void 0,T),isLast:a,isPrivate:Z,[Fc]:i,[Cc]:y.id,prominentTitleLink:O,[Kc]:h,icon:s()(Gt,{authors:R}),showRecordPath:!0,showSnapshotButton:!1},(0,vo.h9)({[Kc]:h,[Dc]:t,[Zc]:v,tab:u})),s()(aa.Z,{href:B,onClick:()=>(0,vo.dG)({[Zc]:v,[Dc]:t,...r}),[Bc]:(0,po.OD)({source:c,[_c]:x})},void 0,s()(sa.Z,{edit:b,[Fc]:i,highlightCurrentUser:!0})),s()(ko,{tabArgs:r,[Dc]:t,[_c]:x,[Zc]:v,[Fc]:i}));{const e=function(e,t,i,r){switch(e){case Ba.Es.Assign:return s()(k.FormattedMessage,{[kc]:"{numberOfAuthors, plural, one {{authorOrAuthors} assigned you to {pageName}} other {{authorOrAuthors} assigned you to {pageName}}}",values:{[Ic]:i[Tc],[Mc]:t,pageName:r},id:"activity.mentionTaskActivity.header"});default:return s()(k.FormattedMessage,{[kc]:wc,values:{[Ic]:i[Tc],[Mc]:t,pageName:r},id:"activity.mentionActivity.header"})}}(w,_,R,O);return n[Pc](Nt,o()({timestamp:parseInt(t[Rc]),header:s()("span",{},void 0,e),isLast:a,isPrivate:Z,[Fc]:i,[Cc]:y.id,[Kc]:h,icon:s()(Gt,{authors:R}),showSnapshotButton:!1},(0,vo.h9)({[Kc]:h,[Dc]:t,[Zc]:v,tab:u})),s()(aa.Z,{href:B,onClick:()=>(0,vo.dG)({[Zc]:v,[Dc]:t,...r}),[Bc]:(0,po.OD)({source:c,[_c]:x})},void 0,s()(sa.Z,{edit:b,[Fc]:i})),s()(ko,{tabArgs:r,[Dc]:t,[_c]:x,[Zc]:v,[Fc]:i}))}}var Lc=i(80951);const Gc=i(85).Dy6,Uc=i(85).D7I,Ec=i(85).E0z,Nc=i(85).dLQ,Wc=i(85)._4y,zc=i(85).xG0,Hc=i(85).ChN,qc=i(85).voC,Yc=i(85).wgE,Xc=i(85).nx5,jc=i(85).AfO,Qc=i(85).TLr,$c=i(85).p61,Jc=i(85).xa7,el=i(85).A6W;function tl(e){window.__c={n:"VerificationExpiredActivity"};const{[el]:t,[Jc]:i,tabArgs:r,isLast:a,useRedesignedIA:d}=e,{tab:c,source:l,[$c]:u}=r,h=(0,I.O7)(),v=M.G[Qc](i,{table:m.iU,id:t[jc]}),p=(0,C.VK)((()=>v.isDefined()),[v]),b=M.NW[Qc](i,{table:g.v,id:t.collection_id,spaceId:t.space_id}),y=(0,C.VK)((()=>b.isDefined()),[b]),A=(0,C.VK)((()=>{const e=b.getSchema(),t=Object.keys(e).find((t=>{var i;return"verification"===(null===(i=e[t])||void 0===i?void 0:i.type)}));let r=s()(k.FormattedMessage,{id:"Activity.author.unknown",[Xc]:"Unknown"});if(t){const e=v.getPropertyValue(t),o=Lc.toVerificationValue(e);if(o){const e=o[0],t=(0,_i.uA)(e,i);t&&t.asActor&&(r=(0,_i.XW)([t]))}}return r}),[v,b,i]),f=(0,C.VK)((()=>(0,_i.jC)({recordId:v.id,recordType:"block",tab:c,[Jc]:i,[Yc]:h})),[v,c,i,h]);if(!p||!y)return null;const S=s()(Io.Z,{titledRecordStore:v,[qc]:i[qc],[el]:t,tabArgs:r}),w=s()(k.FormattedMessage,{[Xc]:"Verification expired for <boldtext>{pageTitle}</boldtext>",values:{pageTitle:S,boldtext:e=>s()("span",{style:{[Hc]:500}},void 0,e)},id:"activity.verificationExpired.header"}),P=parseInt(t[zc]),B=parseInt(t[Wc]),R=h[Ec][Nc],_=s()("div",{style:{fontSize:14,...(0,po.OD)({source:l,[Nc]:R})}},void 0,s()(k.FormattedMessage,P&&B?{[Xc]:"Last verified by {person} from {startDate} to {endDate}",values:{person:A,startDate:(0,N.gs)(parseInt(t[zc])),endDate:(0,N.gs)(parseInt(t[Wc]))},id:"activity.verificationExpired.contentWithTimestamp"}:{[Xc]:"Last verified by {person}",values:{person:A},id:"activity.verificationExpired.contentWithoutTimestamp"}));return d?n[Uc](Ai,o()({timestamp:parseInt(t[Wc]),header:w,isLast:a,isPrivate:f,[Jc]:b,[Gc]:t[jc],[$c]:u,icon:s()(Et,{}),showRecordPath:!0,showSnapshotButton:!1},(0,vo.h9)({[$c]:u,[el]:t,[Yc]:h,tab:c})),_,s()(ko,{tabArgs:r,[el]:t,[Nc]:h[Ec][Nc],[Yc]:h,[Jc]:i})):n[Uc](Nt,o()({timestamp:parseInt(t[Wc]),header:w,isLast:a,isPrivate:f,[Jc]:b,[Gc]:t[jc],[$c]:u,icon:s()(Et,{}),showSnapshotButton:!1},(0,vo.h9)({[$c]:u,[el]:t,[Yc]:h,tab:c})),_,s()(ko,{tabArgs:r,[el]:t,[Nc]:h[Ec][Nc],[Yc]:h,[Jc]:i}))}var il=i(1136),rl=i(45669);const ol=i(85).ksx,al=i(85).Zhe,sl=i(85).wYP,nl=i(85).YDe,dl=i(85).g7N,cl=i(85).PXg,ll=i(85).rI1,ul=i(85).sOA,hl=i(85).lzz,vl=i(85).EA6,pl=i(85).btd,ml=i(85).PyH,gl=i(85).NE8,bl=i(85).owJ,yl=i(85).$PQ,Al=i(85).Y1i,fl=i(85).m75,Sl=i(85).Xml,wl=i(85).DVr,kl=i(85).xwc,Ml=i(85).T9x,Il=i(85).sFj,Cl=i(85).T$3,Pl=i(85).BNq,Bl=i(85).FH8,Rl=i(85).jWf,_l=i(85).Mz$,Zl=i(85).ajJ,xl=i(85).v8g,Ol=i(85).ki8,Tl=i(85).flN,Kl=i(85).nSw,Fl=i(85).QhS,Dl=i(85).$RK,Vl=i(85).Ie_,Ll=i(85).QHD,Gl=i(85).RA9,Ul=i(85).A20,El=i(85).gGA,Nl=i(85).Qv5,Wl=i(85).fQe,zl=i(85).Ehf,Hl=i(85).m_K,ql=i(85).Dy6,Yl=i(85).wC6,Xl=i(85).qpZ,jl=i(85).T9w,Ql=i(85).D7I,$l=i(85).oRW,Jl=i(85).QKv,eu=i(85).EdP,tu=i(85).K6d,iu=i(85).hsW,ru=i(85).Gpy,ou=i(85).nx5,au=i(85).yZC,su=i(85).wYZ,nu=i(85).kS8,du=(i(85).BeR,i(85).Nyv),cu=i(85)._4y,lu=i(85).AfO,uu=i(85).G2w,hu=i(85).TtP,vu=i(85).pKs,pu=i(85).p61,mu=i(85).qfz,gu=i(85).kx0,bu=i(85).MsQ,yu=i(85).jtD,Au=i(85).SyH,fu=i(85).Lob,Su=i(85)._pP,wu=i(85).rKV,ku=i(85).eS7,Mu=i(85).Zai,Iu=i(85).wmA,Cu=i(85).Syp,Pu=i(85).Td3,Bu=i(85).vWp,Ru=i(85).gzv,_u=i(85).JET,Zu=i(85).VyV,xu=i(85).zfE,Ou=i(85).oym,Tu=i(85).WM6,Ku=i(85).fbf,Fu=i(85).E_T,Du=i(85).ezU,Vu=i(85).G3i,Lu=i(85).yn7,Gu=i(85).Ql2,Uu=i(85).TLr,Eu=i(85).emX,Nu=i(85).AB8,Wu=i(85).BQ6,zu=i(85).sI1,Hu=i(85).PG2,qu=i(85).xa7,Yu=i(85).A6W,Xu=i(85).cJA,ju=i(85).OnS,Qu=i(85).wgE,$u=i(85).E0z,Ju=i(85).dLQ,eh=i(85).LIR,th=i(85).zrU,ih=i(85).o8I,rh=i(85).MWD,oh=i(85).voC,ah=i(85).gYY,sh=i(85).P0R;class nh extends d.Z{constructor(){super(...arguments),this.renderBlockEdit=(e,t,i)=>{const{tabArgs:r}=this[sh],{[ah]:o}=r;let a=this[oh]({table:m.iU,id:e.block_id});a&&a[rh]===u.Ti.tableRow&&(a=this[oh]({table:m.iU,id:a[ih]}));const n=a?a[th]({[oh]:this[oh],[eh]:l.tY.Activity}):p._j.root,d=this[Qu][$u][Ju];return"block-deleted"===e[rh]?e[Xu][ju][rh]===u.Ti.page?s()(aa.Z,{href:n,[Hu]:()=>(0,vo.dG)({...r,[Qu]:this[Qu],[Yu]:i}),[zu]:(0,po.OD)({[ah]:o,[Ju]:d})},t,s()(sa.Z,{edit:e,[qu]:this[sh][qu]})):s()("div",{[Wu]:(0,po.OD)({[ah]:o,[Ju]:d})},t,s()(sa.Z,{edit:e,[qu]:this[sh][qu]})):s()(aa.Z,{href:n,[Hu]:()=>(0,vo.dG)({...r,[Qu]:this[Qu],[Yu]:i}),[zu]:(0,po.OD)({[ah]:o,[Ju]:d})},t,s()(sa.Z,{edit:e,[qu]:this[sh][qu]}))},this.renderCollectionPropertyEdit=(e,t)=>{if("collection-property-changed"!==e[rh])return;const{[ah]:i}=this[sh].tabArgs,r=this[Qu][$u][Ju];return s()(aa.Z,{href:t,[zu]:(0,po.OD)({[ah]:i,[Ju]:r})},void 0,s()(sa.Z,{edit:e,[qu]:this[sh][qu]}))},this[Nu]=e=>this[sh][qu][Nu](this[sh][qu],e),this[Eu]=e=>M.H2[Uu](this[sh][qu],{table:f.bx,id:e}),this.getDiscussionContext=()=>{const e=(0,_i.cr)({[Yu]:this[sh][Yu],[qu]:this[sh][qu]});if(e)return e.context}}willMountOrUpdate(){this.warmCommentData(),this[Qu].KatexStore.loadIfNeeded(this.getDiscussionContext)}warmCommentData(){if("commented"===this[sh][Yu][rh]){const t=this[Nu]({table:A.qF,id:this[sh][Yu].discussion_id,[Gu]:this[sh][Yu][Lu]});if(t[Vu]()){const i=t.getCommentStores();for(const t of i){var e;null===(e=t.getCreatedByStore())||void 0===e||e.load()}}}}renderComponent(){const{[Yu]:e,[qu]:t,tabArgs:i,[Du]:r,useRedesignedIA:o}=this[sh];switch(e[rh]){case"block-edited":return this[Fu](e);case Ku:return s()(Ca,{[Yu]:e,[qu]:t,tabArgs:i,[Du]:r,useRedesignedIA:o});case Tu:case Ou:return this[xu](e);case Zu:case _u:return this[Ru](e);case Bu:return this[Pu](e);case Cu:return this[Iu](e);case"user-mentioned":return s()(Vc,{[Yu]:e,[qu]:t,tabArgs:i,[Du]:r,useRedesignedIA:o});case"commented":return this[sh].useGroupingIA?s()(Js,{[Yu]:e,tabArgs:i,[qu]:t,[Du]:r,useRedesignedIA:o}):s()(Ms,{[Yu]:e,tabArgs:i,[qu]:t,[Du]:r,useRedesignedIA:o});case"user-invited":return s()(fc,{[Yu]:e,[qu]:t,tabArgs:i,[Du]:r,useRedesignedIA:o});case Mu:return this.renderCollectionEdited(e);case ku:return this[wu](e);case Su:return this[fu](e);case"reminder":return s()(id,{[Yu]:e,[qu]:t,tabArgs:i,[Du]:r,useRedesignedIA:o});case"page-locked":case"page-unlocked":return this.renderPageLockActivity(e);case"email-edited":return s()(vn,{[Yu]:e,[qu]:t,tabArgs:i,[Du]:r,useRedesignedIA:o});case"access-requested":return s()(oa,{[Yu]:e,[qu]:t,tabArgs:i,[Du]:r,useRedesignedIA:o});case"page-deleted":case"page-restored":case Au:return this.renderPageDeleteOrRestoreActivity(e);case yu:return s()(Kd,{[Yu]:e,[qu]:t,tabArgs:i,[Du]:r,useRedesignedIA:o});case bu:return s()(En,{[Yu]:e,[qu]:t,tabArgs:i,[Du]:r,useRedesignedIA:o});case gu:return s()(Rn,{[Yu]:e,[qu]:t,tabArgs:i,[Du]:r,useRedesignedIA:o});case mu:return s()(tl,{[Yu]:e,[qu]:t,tabArgs:i,[Du]:r,useRedesignedIA:o});default:(0,w.unreachable)(e)}}[Fu](e){const{tabArgs:t,[qu]:i}=this[sh],{[pu]:r,tab:a}=t;if(!e[vu])return;const d=(0,S.prepareEditsForDisplay)(e[vu]).filter((e=>{const{[ju]:t}="block-changed"===e[rh]?e[Xu].after:e[Xu];return t.parent_table!==y.x_}));if(0===d[hu])return;const c=this[uu](d[0][lu]);if(!c[Vu]())return;const l=(0,_i.P6)({[vu]:d,[qu]:i}),u=(0,_i.XW)(l),h=s()(Io.Z,{titledRecordStore:c,[Yu]:e,tabArgs:t,[oh]:i[oh]});return n[Ql](Nt,o()({[jl]:parseInt(e[cu]),[Xl]:s()("span",{},void 0,s()(k.FormattedMessage,{[ou]:du,id:"activity.blockEdited.header",[ru]:{[nu]:l[hu],[su]:u,[au]:h}})),[Du]:this[sh][Du],[Yl]:(0,_i.jC)({[iu]:c.id,[tu]:eu,tab:a,[qu]:i,[Qu]:this[Qu]}),[qu]:this[sh][qu],[ql]:c.id,[pu]:r,icon:s()(Gt,{[Jl]:l}),showSnapshotButton:this[$l]()},(0,vo.h9)({[pu]:r,[Yu]:e,[Qu]:this[Qu],tab:a})),s()(na.Z,{visible:5,items:d.map(((t,i)=>this.renderBlockEdit(t,i,e)))}),s()(ko,{tabArgs:t,[Yu]:e,[Ju]:this[Qu][$u][Ju],[Qu]:this[Qu],[qu]:i}))}[xu](e){const{tabArgs:t,[qu]:i}=this[sh],{[pu]:r,tab:a}=t;if(!e[vu])return;const d=e[vu][0],c=this[uu](e.collection_row_id);if(!c[Vu]())return;if(!c.getProperties())return;const l=(0,_i.P6)({[vu]:e[vu],[qu]:i}),u=(0,_i.XW)(l),h=s()(Io.Z,{titledRecordStore:c,[Yu]:e,tabArgs:t,[oh]:i[oh]}),v="collection-row-created"===d[rh]?s()(k.FormattedMessage,{[ou]:Hl,[ru]:{[nu]:l[hu],[su]:u,[au]:h},id:"activity.collectionRowCreated.header"}):s()(k.FormattedMessage,{[ou]:zl,[ru]:{[nu]:l[hu],[su]:u,[au]:h},id:"activity.collectionRowDeleted.header"});return n[Ql](Nt,o()({[jl]:parseInt(e[cu]),[Xl]:s()("span",{},void 0,v),[Du]:this[sh][Du],[Yl]:(0,_i.jC)({[iu]:c.id,[tu]:eu,tab:a,[qu]:i,[Qu]:this[Qu]}),[qu]:this[sh][qu],[ql]:c.id,[pu]:r,icon:s()(Gt,{[Jl]:l}),showSnapshotButton:this[$l]()},(0,vo.h9)({[pu]:r,[Yu]:e,[Qu]:this[Qu],tab:a})),s()(ko,{tabArgs:t,[Yu]:e,[Ju]:this[Qu][$u][Ju],[Qu]:this[Qu],[qu]:i}))}[Ru](e){const{tabArgs:t,[qu]:i}=this[sh],{[pu]:r,tab:a}=t;if(!e[vu])return;const d=e[vu][0],c=this[uu](e.top_level_block_id);if(!c[Vu]())return;const l=c.hasSpacePermission(),u=(0,_i.P6)({[vu]:e[vu],[qu]:i}),h=(0,_i.XW)(u),v=s()(Io.Z,{titledRecordStore:c,[Yu]:e,tabArgs:t,[oh]:i[oh]});let p;return p=l?"top-level-block-created"===d[rh]?s()(k.FormattedMessage,{[ou]:Wl,[ru]:{[nu]:u[hu],[su]:h,[au]:v},id:"activity.topLevelBlockWorkspaceCreated.header"}):s()(k.FormattedMessage,{[ou]:Nl,[ru]:{[nu]:u[hu],[su]:h,[au]:v},id:"activity.topLevelBlockWorkspaceDeleted.header"}):"top-level-block-created"===d[rh]?s()(k.FormattedMessage,{[ou]:El,[ru]:{[nu]:u[hu],[su]:h,[au]:v},id:"activity.topLevelBlockPrivateCreated.header"}):s()(k.FormattedMessage,{[ou]:Ul,[ru]:{[nu]:u[hu],[su]:h,[au]:v},id:"activity.topLevelBlockPrivateDeleted.header"}),n[Ql](Nt,o()({[jl]:parseInt(e[cu]),[Xl]:s()("span",{},void 0,p),[Du]:this[sh][Du],[Yl]:(0,_i.jC)({[iu]:c.id,[tu]:eu,tab:a,[qu]:i,[Qu]:this[Qu]}),[qu]:this[sh][qu],[pu]:r,icon:s()(Gt,{[Jl]:u}),showSnapshotButton:!1},(0,vo.h9)({[pu]:r,[Yu]:e,[Qu]:this[Qu],tab:a})))}[Pu](e){const{tabArgs:t,[qu]:i}=this[sh],{[pu]:r,tab:a,[ah]:d}=t;if(!e[vu])return;const l=(0,S.prepareEditsForDisplay)(e[vu]);if(0===l[hu])return;let u,h;const v=l[0];if(v[lu]){const r=this[uu](v[lu]);if(!r[Vu]())return;h=s()(Io.Z,{titledRecordStore:r,[Yu]:e,tabArgs:t,[oh]:i[oh]}),u=(0,_i.jC)({[iu]:r.id,[tu]:eu,tab:a,[qu]:i,[Qu]:this[Qu]})}else{const r=this[Eu](v[Lu]);if(!r[Vu]())return;h=s()(Io.Z,{titledRecordStore:r,[Yu]:e,tabArgs:t,[oh]:i[oh]}),u=(0,_i.jC)({[iu]:v[Lu],[tu]:"space",tab:a,[qu]:i,[Qu]:this[Qu]})}const{autojoinEdits:p,inheritanceEdits:m,otherEdits:g}=c.getGroupedPermissionEdits(e[vu]),b=[];p.forEach(((t,d)=>{const c=(0,_i.P6)({[vu]:[t],[qu]:i}),l=(0,_i.XW)(c);b.push(n[Ql](Nt,o()({key:`autojoin-${d}`,[jl]:t[jl],[Xl]:s()("span",{},void 0,s()(k.FormattedMessage,{[ou]:Gl,[ru]:{[nu]:c[hu],[su]:l,[Ll]:h},id:"activity.permissionsActivity.header"})),[Du]:this[sh][Du],[Yl]:u,[qu]:this[sh][qu],[ql]:t[lu],[pu]:r,icon:s()(Gt,{[Jl]:c}),showSnapshotButton:!1},(0,vo.h9)({[pu]:r,[Yu]:e,[Qu]:this[Qu],tab:a}))))}));const y=this[Qu][$u][Ju];m.forEach(((c,l)=>{const v=(0,_i.P6)({[vu]:[c],[qu]:i}),p=(0,_i.XW)(v);let m;"permission-restriction-created"===c[rh]?m=s()(k.FormattedMessage,{[ou]:"{numberOfAuthors, plural, one {{authorOrAuthors} restricted access for {pageOrSpaceName}} other {{authorOrAuthors} restricted access for {pageOrSpaceName}}}{inSudoMode, select, true { using administrator privileges} other {}}",[ru]:{[nu]:v[hu],[su]:p,[Ll]:h,[Vl]:c[Vl]},id:"activity.restrictPermissionsForActivity.header"}):"permission-restriction-deleted"===c[rh]&&(m=s()(k.FormattedMessage,{[ou]:"{numberOfAuthors, plural, one {{authorOrAuthors} restored inherited access for {pageOrSpaceName}} other {{authorOrAuthors} restored inherited access for {pageOrSpaceName}}}{inSudoMode, select, true { using administrator privileges} other {}}",[ru]:{[nu]:v[hu],[su]:p,[Ll]:h,[Vl]:c[Vl]},id:"activity.restorePermissionsForActivity.header"})),b.push(n[Ql](Nt,o()({key:`inheritance-${l}`,[jl]:parseInt(e[cu]),[Xl]:s()("span",{},void 0,m),[Du]:this[sh][Du],[Yl]:u,[qu]:this[sh][qu],[ql]:c[lu],[pu]:r,icon:s()(Gt,{[Jl]:v}),showSnapshotButton:!1},(0,vo.h9)({[pu]:r,[Yu]:e,[Qu]:this[Qu],tab:a})),s()("div",{[Wu]:(0,po.OD)({[ah]:d,[Ju]:y})},void 0,s()(sa.Z,{edit:c,[qu]:this[sh][qu]})),s()(ko,{tabArgs:t,[Yu]:e,[Ju]:y,[Qu]:this[Qu],[qu]:i})))}));const A=(c,l,h)=>{if(c[hu]>0){const p=(0,_i.P6)({[vu]:c,[qu]:i});b.push(n[Ql](Nt,o()({key:l,[jl]:parseInt(e[cu]),[Xl]:h,[Du]:this[sh][Du],[Yl]:u,[qu]:this[sh][qu],[ql]:v[lu],[pu]:r,icon:s()(Gt,{[Jl]:p}),showSnapshotButton:!1},(0,vo.h9)({[pu]:r,[Yu]:e,[Qu]:this[Qu],tab:a})),c.map(((e,t,i)=>s()("div",{[Wu]:(0,po.OD)({[ah]:d,[Ju]:y})},t,s()(sa.Z,{edit:e,[qu]:this[sh][qu]},t)))),s()(ko,{tabArgs:t,[Yu]:e,[Ju]:this[Qu][$u][Ju],[Qu]:this[Qu],[qu]:i})))}},f=g.filter((e=>!e[Vl]));if(f[hu]>0){const e=(0,_i.P6)({[vu]:f,[qu]:i}),t=(0,_i.XW)(e);A(f,"other",s()("span",{},void 0,s()(k.FormattedMessage,{[ou]:Dl,[ru]:{[nu]:e[hu],[su]:t,[Ll]:h},id:"activity.updatedPermissionsForActivity.header"})))}const w=g.filter((e=>e[Vl]));if(w[hu]>0){const e=(0,_i.P6)({[vu]:w,[qu]:i}),t=(0,_i.XW)(e);A(w,"other-sudo",s()("span",{},void 0,s()(k.FormattedMessage,{[ou]:"{numberOfAuthors, plural, one {{authorOrAuthors} updated permission for {pageOrSpaceName}} other {{authorOrAuthors} updated permission for {pageOrSpaceName}}} using administrator privileges",[ru]:{[nu]:e[hu],[su]:t,[Ll]:h},id:"activity.updatedPermissionsForActivityInSudoMode.header"})))}return b}[Iu](e){const{tabArgs:t,[qu]:i}=this[sh],{[pu]:r,tab:a,[ah]:d}=t;if(!e[vu])return;const c=(0,S.prepareEditsForDisplay)(e[vu])[0];if(!c)return;const l=this[Eu](c[Lu]);if(!l[Vu]())return;const u=(0,vo.ME)(l[Fl]()[th]({})),h=s()(On,{permissionGroup:(0,v.c_)({[Yu]:e,[Kl]:this[Kl]}),[Gu]:e[Lu]}),p=(0,_i.P6)({[vu]:e[vu],[qu]:i}),m=this[Qu][$u][Ju];return n[Ql](Nt,o()({[jl]:parseInt(e[cu]),[Xl]:s()("span",{},void 0,this[Tl]({[Yu]:e,[Jl]:p,[Ol]:h})),[Du]:this[sh][Du],[Yl]:(0,_i.jC)({[iu]:e[Lu],[tu]:"space",tab:a,[qu]:i,[Qu]:this[Qu]}),[qu]:i,[pu]:r,icon:s()(Gt,{[Jl]:p}),showSnapshotButton:!1},(0,vo.h9)({[pu]:r,[Yu]:e,[Qu]:this[Qu],tab:a})),s()(aa.Z,{href:u,[Hu]:()=>(0,vo.dG)({...t,[Qu]:this[Qu],[Yu]:e}),[zu]:(0,po.OD)({[ah]:d,[Ju]:m})},void 0,s()(sa.Z,{edit:c,[qu]:i})),s()(ko,{tabArgs:t,[Yu]:e,[Ju]:m,[Qu]:this[Qu],[qu]:i}))}renderCollectionEdited(e){const{tabArgs:t,[qu]:i}=this[sh],{[pu]:r,tab:a}=t;if(!e[vu])return;const d=this[Nu]({table:g.v,id:e[xl],[Gu]:e[Lu]});if(!d[Vu]())return;const u=e[vu][0];if(!u)return;const h=d[Fl]()[th]({[oh]:this[oh],[eh]:l.tY.Activity}),v=(0,_i.P6)({[vu]:e[vu],[qu]:i}),p=(0,_i.XW)(v),m=s()(Io.Z,{titledRecordStore:d,[Yu]:e,tabArgs:t,[oh]:i[oh]}),b="collection-created"===u[rh]?s()(k.FormattedMessage,{[ou]:Zl,[ru]:{[nu]:v[hu],[su]:p,[_l]:m},id:"activity.collectionCreated.header"}):s()(k.FormattedMessage,{[ou]:Rl,[ru]:{[nu]:v[hu],[su]:p,[_l]:m},id:"activity.collectionEdited.header"});return n[Ql](Nt,o()({[jl]:parseInt(e[cu]),[Xl]:s()("span",{},void 0,b),[Du]:this[sh][Du],[Yl]:(0,_i.jC)({[iu]:e[xl],[tu]:Bl,tab:a,[qu]:i,[Qu]:this[Qu]}),[qu]:i,[ql]:e[lu],[pu]:r,icon:s()(Gt,{[Jl]:v}),showSnapshotButton:this[$l]()},(0,vo.h9)({[pu]:r,[Yu]:e,[Qu]:this[Qu],tab:a})),c.collectionDescriptionHasChanged(u)&&this[Pl](u,h),s()(ko,{tabArgs:t,[Yu]:e,[Ju]:this[Qu][$u][Ju],[Qu]:this[Qu],[qu]:i}))}[Pl](e,t){const{[ah]:i}=this[sh].tabArgs,r=this[Qu][$u][Ju];return s()(aa.Z,{href:t,[zu]:(0,po.OD)({[ah]:i,[Ju]:r})},void 0,s()(sa.Z,{edit:e,[qu]:this[sh][qu]}))}[wu](e){const{tabArgs:t,[qu]:i}=this[sh],{[pu]:r,tab:a}=t;if(!e[vu])return;const d=this[Nu]({table:g.v,id:e[xl],[Gu]:e[Lu]});if(!d[Vu]())return;const c=this[Nu]({table:b.n,id:e.collection_view_id,[Gu]:e[Lu]});if(!c[Vu]())return;const l=(0,S.prepareEditsForDisplay)(e[vu])[0];if(!l)return;const u=this[Cl](c,e),h=s()(Io.Z,{titledRecordStore:d,[Yu]:e,tabArgs:t,[oh]:i[oh]}),v=(0,_i.P6)({[vu]:e[vu],[qu]:i}),p=(0,_i.XW)(v);let m;return m="collection-view-created"===l[rh]?s()(k.FormattedMessage,{[ou]:Il,[ru]:{[nu]:v[hu],[su]:p,[_l]:h,[Ml]:u},id:"activity.collectionViewCreated.header"}):"collection-view-deleted"===l[rh]?s()(k.FormattedMessage,{[ou]:kl,[ru]:{[nu]:v[hu],[su]:p,[_l]:h,[Ml]:u},id:"activity.collectionViewDeleted.header"}):s()(k.FormattedMessage,{[ou]:wl,[ru]:{[nu]:v[hu],[su]:p,[_l]:h,[Ml]:u},id:"activity.collectionViewEdited.header"}),n[Ql](Nt,o()({[jl]:parseInt(e[cu]),[Xl]:s()("span",{},void 0,m),[Du]:this[sh][Du],[Yl]:(0,_i.jC)({[iu]:e[xl],[tu]:Bl,tab:a,[qu]:i,[Qu]:this[Qu]}),[qu]:i,[ql]:e[lu],[pu]:r,icon:s()(Gt,{[Jl]:v}),showSnapshotButton:this[$l]()},(0,vo.h9)({[pu]:r,[Yu]:e,[Qu]:this[Qu],tab:a})),s()(ko,{tabArgs:t,[Yu]:e,[Ju]:this[Qu][$u][Ju],[Qu]:this[Qu],[qu]:i}))}[fu](e){const{tabArgs:t,[qu]:i}=this[sh],{[pu]:r,tab:a}=t;if(!e[vu])return;const d=(0,S.prepareEditsForDisplay)(e[vu]),c=d[0];if(!c)return;const u=this[Nu]({table:g.v,id:e[xl],[Gu]:e[Lu]});if(!u[Vu]())return;const h=u[Fl]()[th]({[oh]:this[oh],[eh]:l.tY.Activity}),v="collection-property-changed"===c[rh]?c[Sl].after:c[Sl],p=(0,_i.P6)({[vu]:e[vu],[qu]:i}),m=(0,_i.XW)(p),b=s()(Io.Z,{titledRecordStore:u,[Yu]:e,tabArgs:t,[oh]:i[oh]}),y=this[fl](v);let A;return A="collection-property-created"===c[rh]?s()(k.FormattedMessage,{[ou]:Al,[ru]:{[nu]:p[hu],[su]:m,[_l]:b,[yl]:y},id:"activity.collectionPropertyCreated.header"}):"collection-property-deleted"===c[rh]?s()(k.FormattedMessage,{[ou]:bl,[ru]:{[nu]:p[hu],[su]:m,[_l]:b,[yl]:y},id:"activity.collectionPropertyDeleted.header"}):s()(k.FormattedMessage,{[ou]:gl,[ru]:{[nu]:p[hu],[su]:m,[_l]:b,[yl]:y},id:"activity.collectionPropertyEdited.header"}),n[Ql](Nt,o()({[jl]:parseInt(e[cu]),[Xl]:s()("span",{},void 0,A),[Du]:this[sh][Du],[Yl]:(0,_i.jC)({[iu]:e[xl],[tu]:Bl,tab:a,[qu]:i,[Qu]:this[Qu]}),[qu]:i,[ql]:e[lu],[pu]:r,icon:s()(Gt,{[Jl]:p}),showSnapshotButton:this[$l]()},(0,vo.h9)({[pu]:r,[Yu]:e,[Qu]:this[Qu],tab:a})),s()(na.Z,{visible:5,items:d.map((e=>this.renderCollectionPropertyEdit(e,h)))}),s()(ko,{tabArgs:t,[Yu]:e,[Ju]:this[Qu][$u][Ju],[Qu]:this[Qu],[qu]:i}))}renderPageLockActivity(e){const{tabArgs:t,[qu]:i}=this[sh],{[pu]:r,tab:a}=t;if(!e[vu])return;const d=e[vu][0],c=this[uu](d[lu]);if(!c[Vu]())return;const l=(0,_i.P6)({[vu]:e[vu],[qu]:i}),u=(0,_i.XW)(l),h=s()(Io.Z,{titledRecordStore:c,[Yu]:e,tabArgs:t,[oh]:i[oh]}),v="page-locked"===e[rh]?s()(k.FormattedMessage,{[ou]:ml,[ru]:{[nu]:l[hu],[su]:u,blockTitle:h},id:"activity.pageLocked.header"}):s()(k.FormattedMessage,{[ou]:pl,[ru]:{[nu]:l[hu],[su]:u,blockTitle:h},id:"activity.pageUnlocked.header"});return n[Ql](Nt,o()({[jl]:parseInt(e[cu]),[Xl]:s()("span",{},void 0,v),[Yl]:(0,_i.jC)({[iu]:c.id,[tu]:eu,tab:a,[qu]:i,[Qu]:this[Qu]}),[Du]:this[sh][Du],[qu]:i,[ql]:c.id,[pu]:r,icon:s()(Gt,{[Jl]:l}),showSnapshotButton:!1},(0,vo.h9)({[pu]:r,[Yu]:e,[Qu]:this[Qu],tab:a})),s()(ko,{tabArgs:t,[Yu]:e,[Ju]:this[Qu][$u][Ju],[Qu]:this[Qu],[qu]:i}))}renderPageDeleteOrRestoreActivity(e){const{tabArgs:t,[qu]:i}=this[sh],{[pu]:r,tab:a}=t;if(!e[vu])return;const d=e[vu][0];if(!d)return;const c=this[Nu]({table:m.iU,id:d[lu],[Gu]:d[Lu]});if(!c[Vu]())return;const l=(0,_i.P6)({[vu]:e[vu],[qu]:i}),u=(0,_i.XW)(l),h=s()(Io.Z,{titledRecordStore:c,[Yu]:e,tabArgs:t,[oh]:i[oh]});let v;return"page-deleted"===e[rh]?v=s()(k.FormattedMessage,{[ou]:vl,[ru]:{[nu]:l[hu],[su]:u,blockTitle:h},id:"emailActivity.pageDeleted.header"}):"page-restored"===e[rh]?v=s()(k.FormattedMessage,{[ou]:"{numberOfAuthors, plural, one {{authorOrAuthors} restored {blockTitle}} other {{authorOrAuthors} restored {blockTitle}}}",[ru]:{[nu]:l[hu],[su]:u,blockTitle:h},id:"emailActivity.pageRestored.header"}):"page-permanently-deleted"===e[rh]?v=s()(k.FormattedMessage,{[ou]:"{numberOfAuthors, plural, one {{authorOrAuthors} permanently deleted {blockTitle}} other {{authorOrAuthors} permanently deleted {blockTitle}}}",[ru]:{[nu]:l[hu],[su]:u,blockTitle:h},id:"emailActivity.pagePermanentlyDeleted.header"}):(0,w.unreachable)(e),n[Ql](Nt,o()({[jl]:parseInt(e[cu]),[Xl]:s()("span",{},void 0,v),[Yl]:(0,_i.jC)({[iu]:c.id,[tu]:eu,tab:a,[qu]:i,[Qu]:this[Qu]}),[Du]:this[sh][Du],[qu]:i,[ql]:c.id,[pu]:r,icon:s()(Gt,{[Jl]:l}),showSnapshotButton:!1},(0,vo.h9)({[pu]:r,[Yu]:e,[Qu]:this[Qu],tab:a})),s()(ko,{tabArgs:t,[Yu]:e,[Ju]:this[Qu][$u][Ju],[Qu]:this[Qu],[qu]:i}))}[fl](e){const{theme:t}=this;return s()("span",{[Wu]:{...po.nP,whiteSpace:"nowrap"}},void 0,s()(h.ZP,{icon:e.icon,[rh]:e[rh],size:12,[Wu]:nh.svgIconStyle,theme:t}),e.name)}[Cl](e,t){const{tabArgs:i}=this[sh];if(!e[Vu]())return;const r=e[Fl]()[th]({[oh]:this[oh],[eh]:l.tY.Activity}),o=e.getFormat()[hl],a=e.getType();return s()(aa.Z,{href:r,[Hu]:()=>(0,vo.V3)({[Qu]:this[Qu],[Yu]:t,...i}),external:!1,[zu]:{...po.lS,...po.nP},inline:!0},void 0,s()(il.F,{viewIcon:o,viewType:a,color:"light",[Wu]:{display:ul,[ll]:"middle",[cl]:4,[dl]:2},size:12}),s()(rl.Z,{collectionViewName:e.getName(),[nl]:e.getType()}))}[$l](){return"pageUpdatesSidebar"===this[sh].tabArgs.tab}[Tl](e){const{[Yu]:t,[Jl]:i,[Ol]:r}=e,o=(0,_i.XW)(i),a=(0,S.prepareEditsForDisplay)(t[vu]||[])[0];return a?"permission-group-created"===a[rh]?s()(k.FormattedMessage,{[ou]:al,[ru]:{[nu]:i[hu],[su]:o,[Ol]:s()("span",{[Wu]:po.nP},void 0,r)},id:"activity.updatedPermissionGroupCreated.header"}):"permission-group-deleted"===a[rh]?s()(k.FormattedMessage,{[ou]:ol,[ru]:{[nu]:i[hu],[su]:o,[Ol]:s()("span",{[Wu]:po.nP},void 0,r)},id:"activity.updatedPermissionGroupDeleted.header"}):s()(k.FormattedMessage,{[ou]:sl,[ru]:{[nu]:i[hu],[su]:o,[Ol]:s()("span",{[Wu]:po.nP},void 0,r)},id:"activity.updatedPermissionGroupEditedDefault.header"}):s()(k.FormattedMessage,{[ou]:sl,[ru]:{[nu]:i[hu],[su]:o,[Ol]:s()("span",{[Wu]:po.nP},void 0,r)},id:"activity.updatedPermissionGroupEdit.header"})}get[Kl](){return this[sh][qu][Kl]}get[oh](){return this[sh][qu][oh]}[uu](e){return M.G[Uu](this[sh][qu],{table:m.iU,id:e})}}nh.displayName="Activity",nh.svgIconStyle={width:12,height:12,display:ul,[ll]:"middle",[dl]:2,[cl]:4};const dh=nh},67706:(e,t,i)=>{i.d(t,{Z:()=>p});var r=i(77094),o=i.n(r),a=i(97464),s=i.n(a),n=i(67294),d=i(24405),c=i(82990),l=i(44532),u=i(58032);const h=i(85).D7I,v=i(85).L_E;function p(e){let{text:t,tooltipText:i,icon:r}=e;window.__c={n:"InlineTextWithIconTooltip"};const a=(0,d.yK)((e=>({icon:{height:"1em",width:"1em",marginRight:"0.25em",fill:e.mediumIconColor,marginBottom:"0.1em"},tooltip:{background:e.contentBackground,boxShadow:e.lightBoxShadow},[v]:{display:"flex",alignItems:"center",fontWeight:c.Z.fontWeight.regular,color:e.mediumTextColor,fontSize:c.Z.fontSize.UISmall.desktop,textAlign:"center"},text:{display:"inline"}})),[]);return o()(u.Z,{style:a.tooltip,render:e=>n[h]("div",s()({style:a.text},e),t),renderTooltip:()=>o()("div",{style:a[v]},void 0,r(a.icon),o()("div",{},void 0,i)),alignment:l.ZP.Alignment.Start,placement:l.ZP.Placement.Bottom})}}}]);