"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[6329],{531:(t,e,i)=>{i.r(e),i.d(e,{Avatars:()=>q,default:()=>N});var r=i(77094),o=i.n(r),n=i(96486),s=i.n(n),a=i(67294),d=i(81954),u=i(24405),l=i(49085),c=i(21202),p=i(77420),b=i(19889),g=i(63143),f=i(77907),v=i(39098),y=i(90097),A=i(78976),m=i(70301),h=i(45653),x=i(13658);const w=i(85).tLG,z=i(85).fBv,I=i(85).TtP,C=i(85).Ezh,G=i(85).A6W,L=i(85).voC,_=i(85).p61,V=i(85).AfO,Z=i(85).xa7,k=i(85).VJq;class B extends l.default{getInitialState(){return!1}}function K(t){window.__c={n:"NotificationGroup"};const{[k]:e,[Z]:i,source:r,tab:n}=t,s=(0,d.qz)(void 0,B),a=(0,d.VK)((()=>s.state),[s]),l=(0,u.yK)((t=>({toggle:{color:t.lightIconColor},border:{borderBottom:`1px solid ${t.regularDividerColor}`}})),[]),p=e[0][_][V];if(void 0===p)return null;const b=v.G.createChildStore(i,{table:c.iU,id:p}),g=o()("div",{style:{display:"flex",paddingLeft:16,paddingRight:16}},void 0,o()(A.Z,{titledRecordStore:b,[L]:i[L],[G]:e[0][G],tabArgs:{source:r,tab:n,[_]:e[0][_]}})),y=t[k].map(((i,r)=>{let{[_]:n,[G]:s}=i;const d={source:C,tab:t.tab,[_]:n};return o()(f.LazyActivity,{[G]:s,[Z]:t[Z],isLast:r===e[I]-1||!a,tabArgs:d,useRedesignedIA:!0,useGroupingIA:!0},s.id)}));return o()("section",{role:"feed",style:l.border},void 0,g,o()(x.Z,{visible:2,items:y,open:s}))}function R(t){const{[k]:e,[Z]:i,source:r,tab:n}=t,s=(0,g.groupBy)(e,(t=>{let{[_]:e}=t;const i=e[V];return"commented"!==e.type||void 0===i?e.id:i})),d=Array.from(s).map((t=>{let[e,s]=t;if(1===s[I]){const{[_]:t,[G]:e}=s[0],a={source:r,tab:n,[_]:t};return o()(f.LazyActivity,{[G]:e,[Z]:i,isLast:!1,tabArgs:a,useRedesignedIA:!0,useGroupingIA:!1},e.id)}return o()(K,{[k]:s,[Z]:i,source:r,tab:n},`group-${s[0][G].id}`)}));return a.createElement(a.Fragment,null,d)}function q(t){window.__c={n:"Avatars"};const{[k]:e,[Z]:i}=t,r=(0,d.VK)((()=>{const t=e.map((t=>{let{[G]:e}=t;return e.edits?(0,y.P6)({edits:e.edits,[Z]:i}):[]})).flat();return s().uniqBy(t,(t=>t.id))}),[e,i]).slice(0,3);return o()("div",{style:{margin:"8px",[z]:"relative",height:"30px",width:"30px"}},void 0,r.map(((t,e)=>{let i,n;1===r[I]?(i=5,n=5):2===r[I]?(i=5+4*(2*e-1),n=5-4*(2*e-1)):(i=5+8*(e-1),n=5-8*(e-1));const s=r[I]-e;return o()("div",{style:{[z]:w,left:i,top:n,zIndex:s}},t.id,t.table===b.KJ&&o()(h.Z,{size:20,userValue:t}),t.table===p.cZ&&o()(m.Z,{size:20,botValue:t}))})))}R.displayName="NotificationGroups";const N=R}}]);