"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4541],{39193:(e,t,o)=>{o.r(t),o.d(t,{default:()=>b});var i=o(97464),r=o.n(i),n=o(67294),s=o(480),a=o(3909),l=o(5366),d=o(88295),c=o(23830),u=o(93405),m=o(95030);const p=o(85).GGR,h=o(85).D7I;function g(e,t){window.__c={n:"NewPageInMenu"};const{title:o}=e,i=(0,n.useCallback)((e=>n[h](u.Z,r()({},e,{ref:t,title:n[h](l.FormattedMessage,o),svg:a.Z.pageEmpty,shortcuts:[]}))),[t,o]),g=(0,s.O7)(),[b,v]=(0,n.useState)(""),f=(0,n.useCallback)(((t,o)=>{const{blocksToTransform:i,onAccept:s,...a}=e;return n[h](c.Z,r()({},a,{targets:i,isAddTo:!0,isCreateIn:!0,isTurnIntoPage:!0,parentBlockId:void 0,onAccept:async e=>{s&&s(),o.close(),await d.Hk(g,{createInValue:e,blocksToTransform:i})},onCancel:o.close,autocompleteQuery:b,onAutocompleteQueryChange:v,[p]:t[p],desktopWidth:400,captureSelection:!0,restoreSelection:!0}))}),[g,b,v,e]);return n[h](m.Z,r()({},e,{disableDefaultClick:!0,renderOrigin:i,renderExtension:f}))}const b=n.forwardRef(g)},9019:(e,t,o)=>{o.d(t,{Z:()=>g});var i=o(77094),r=o.n(i),n=(o(67294),o(83355)),s=o(80503),a=o(53953),l=o(44532);const d=o(85).$Vg,c=o(85).IlQ,u=o(85).wJk,m=o(85).iy2,p=o(85).P0R;class h extends n.Z{renderComponent(){const{device:e}=this.environment;return e.isMobile?r()(l.ZP,{popupType:l.ZP.PopupType.SlideUp,open:this[p].open,render:this[p][m],[c]:this[p].disableAnimation,[u]:this[p][u],origin:this[p].origin}):r()(a.Z,{open:this[p].open,preventHideChildrenWhileOpening:!0,style:{alignItems:d},innerStyle:this.getModalStyle(),[u]:this[p][u],render:this[p][m],origin:this[p].origin,disableAnimation:this[p].disableAnimation})}getModalStyle(){const{modalStyle:e}=this[p];return{top:2*s.R6(this.environment.device.isElectronMac),borderRadius:6,overflow:"hidden",boxShadow:this.theme.largeBoxShadow,background:this.theme.contentBackground,...e}}}h.displayName="ModalPrompt";const g=h},70467:(e,t,o)=>{o.d(t,{l:()=>l});var i=o(67294),r=o(480),n=o(81954),s=o(54642),a=o(79315);function l(){const e=(0,r.O7)(),t=(0,n.VK)((()=>{var e;return null===(e=a.default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),[o,l]=(0,i.useState)();return(0,i.useEffect)((()=>{!async function(){if(!t)return;const o=await s.getAIUsageEligibility(e,{spaceId:t});"failed"!==o.type&&l(o.data)}()}),[e,t]),o}},8454:(e,t,o)=>{o.r(t),o.d(t,{SidebarFooter:()=>no,SidebarSwitcherMultiAccountPopup:()=>_e.ZP,SidebarTeamBrowserContent:()=>xe});var i=o(77094),r=o.n(i),n=o(96486),s=o.n(n),a=o(67294),l=o(480),d=o(81954),c=o(24405),u=o(5366),m=o(50906),p=o(57688),h=o(3386),g=o(3909),b=o(64921),v=o(14694);function f(e){let{onClick:t,label:o}=e;window.__c={n:"SidebarFooterButton"};const i=(0,c.yK)((e=>({button:{boxShadow:`0 -1px 0 ${e.regularDividerColor}`},sidebarItem:{color:e.mediumTextColor,height:45},plusIconContainer:{display:"flex",alignItems:"center",justifyContent:"center"},plusIcon:{fill:e.mediumIconColor,width:16,height:16}})),[]);return r()(b.Z,{onClick:t,style:i.button},void 0,r()(v.Z,{style:i.sidebarItem,left:r()("div",{style:i.plusIconContainer},void 0,g.Z.plus(i.plusIcon))},void 0,o))}var y=o(23537),C=o(92350),S=o(79315),w=o(82990),k=o(98104),T=o(73063),M=o(1743),Z=o(74194),x=o(48378),_=o(29538),B=o(45094),F=o(38755),I=o(61436),R=o(24042),P=o(24666);const O=o(85).kdC,q=o(85).Yzm,E=o(85).PXg,K=o(85).Dd5,G=o(85).nx5,L=o(85).bey,V=o(85).l9D,N=o(85).piL,j=o(85).iKt;function A(e){let{[j]:t,[N]:o,onBackClicked:i,onSearchQueryChanged:n,onClearButtonClicked:s}=e;window.__c={n:"SidebarTeamBrowserHeader"};const m=(0,l.O7)(),[{isFullScreen:p}]=(0,d.AF)(I.Z),[{isShowingTabBar:h}]=(0,d.AF)(R.Z),{[V]:b}=m.device,v=(0,c.yK)((e=>({headerRow:{display:"flex",justifyContent:"flex-start",alignItems:"center",height:45},headerRowTitle:{flex:1,fontWeight:w.Z.fontWeight.semibold,fontSize:14,color:e.regularTextColor,alignItems:"center",...w.Z.textOverflowStyle,paddingRight:7},backIconContainer:{marginLeft:14,[E]:8},backIcon:{transform:"rotate(90deg)",fill:e.lightIconColor,marginBottom:-1},headerRowUnexpandButton:{justifySelf:"flex-end",[E]:12},searchContainer:{width:"100%",paddingLeft:15,paddingRight:15}})),[]),f=(0,B.shouldShowUnexpandButtonInSidebarHeader)({[V]:b,[j]:t,isFullScreenDesktop:p,isShowingTabBar:h});return a.createElement(a.Fragment,null,r()(x.t,{[j]:t}),r()("div",{style:v.headerRow},void 0,r()("div",{style:v.backIconContainer},void 0,r()(T.Z,{icon:g.Z.arrowDownSmall,[L]:v.backIcon,onClick:i})),r()("div",{style:v.headerRowTitle},void 0,r()(u.FormattedMessage,{[G]:"All teamspaces",id:"sidebarTeamBrowserHeader.title"})),f&&r()("div",{style:v.headerRowUnexpandButton},void 0,r()(_.V,{}))),r()("div",{style:v.searchContainer},void 0,r()(D,{[K]:n,[N]:o,onClearButtonClicked:s})))}function D(e){let{[K]:t,[N]:o,onClearButtonClicked:i}=e;window.__c={n:"SidebarTeamBrowserSearchInput"};const n=(0,d.VK)((()=>S.default.state.currentSpaceStore),[]),s=(0,l.O7)(),m=(0,u.useIntl)(),[p,h]=(0,a.useState)(!0),b=(0,d.VK)((()=>n&&(0,F.rn)(s,n)),[n,s]),v=(0,c.yK)((e=>({input:{boxShadow:e.inputBoxShadow,borderRadius:3,fontSize:14},searchIcon:{width:14,height:14,[E]:6,flexGrow:0,flexShrink:0,fill:e.mediumIconColor}})),[]),f=(0,a.useCallback)((e=>t(e.target.value)),[t]),y=(0,a.useCallback)((()=>h(!1)),[]),C=(0,a.useCallback)((()=>{P.default.isEditingStore.state&&k.clearStores(),h(!0)}),[]),w=b?m[q]({[G]:"Search teamspaces...",id:"sidebarTeamBrowserHeader.searchFilter.placeholder"},{workspaceName:b}):m[q]({[G]:"Search teamspaces...",id:"sidebarTeamBrowserHeader.searchFilter.placeholderWithoutSpaceName"});return r()(M.Z,{capture:p,allowEsc:!0},void 0,r()(Z.Z,{placeholder:w,focusInitial:!0,[O]:!0,style:v.input,value:o,[K]:f,left:g.Z.search(v.searchIcon),onBlur:y,onFocus:C,onClearButtonClick:i}))}var W=o(97464),Q=o.n(W),U=o(58573),z=o(66673),J=o(69246),H=o(42402),$=o(5846),Y=o(12334),X=o(50659);const ee=o(85).nx5;function te(e){let{moreCount:t,onClick:o,textStyle:i,useIndentedPadding:n}=e;window.__c={n:"NMoreSidebarItem"};const{isMobile:s}=(0,l.Fy)(),a=(0,c.yK)((e=>({button:(0,X.G$)({isMobile:s}),sidebarItem:{marginBottom:s?16:void 0,...n&&{paddingLeft:s?10:20},color:e.lightTextColor,...i},centeredText:{display:"flex",alignItems:"center",fontSize:s?16:12}})),[s,i,n]);return r()(b.Z,{style:a.button,mobileFeedback:s,onClick:o},void 0,r()(v.Z,{style:a.sidebarItem,disableMobileBorder:!0},void 0,r()("div",{style:a.centeredText},void 0,r()(u.FormattedMessage,{[ee]:"{moreCount} more",id:"nmoreSidebarItem.nMoreButtonTextLabel",values:{moreCount:t}}))))}var oe=o(56252),ie=o(70704),re=o(45589);const ne=o(85).ChN,se=o(85).wuN,ae=o(85).Y9u,le=o(85).Exd,de=o(85).xQA,ce=o(85).ll7,ue=(o(85).ngN,o(85).D7I),me=o(85).b8_,pe=o(85).hBM,he=o(85).PG2,ge=o(85).nx5,be=o(85).TtP,ve=o(85).GiO,fe=o(85).sIs;function ye(e){let{joinedTeams:t,unjoinedTeams:o,[fe]:i,searchQuery:n,onClearSearchQueryClicked:s}=e;window.__c={n:"TeamBrowserOutliner"};const m=(0,d.VK)((()=>S.default.state.currentSpaceStore),[]),h=(0,d.VK)((()=>S.default.state[ve]),[]),f=(0,l.O7)(),[C,k]=(0,a.useState)(t[be]>6),T=Ce(),M=Ce(),Z=Ce(),x=(0,d.qz)(void 0,re.Z),_=n.trim(),B=(0,z.Kt)(_,200,((e,t)=>e===t)),F=(0,d.VK)((()=>{if(""!==B)return(0,U.ZP)(B,[...t,...o],(e=>e.getName()??""))}),[t,B,o]),I=(0,d.VK)((()=>(0,y.Xq)({environment:f,spaceStore:m})),[m,f]),R=(0,a.useCallback)((()=>{k(!1)}),[]),P=(0,a.useCallback)((()=>{k(!1)}),[]),O=(0,c.yK)((e=>({scroller:{height:"100%"},noUnjoinedTeamsContainer:{marginLeft:15,...w.Z.textOverflowStyle,[le]:w.Z[le][ae].desktop},noFilterResultsContainer:{display:"flex",flexDirection:"column",padding:15,height:"100%",alignItems:"center",justifyContent:"center"},noFilterResultsTitle:{color:e[se],[le]:w.Z[le][ae].desktop},noFilterResultsDescription:{color:e[se],[le]:w.Z[le][ae].desktop,[ne]:w.Z[ne].regular},noFilterResultsIcon:{width:30,height:30,marginBottom:10},[de]:(0,X.G$)({isMobile:!1}),plusIcon:{fill:e.mediumIconColor,width:14,height:14},nMoreText:{[ne]:w.Z[ne].semibold}})),[]);if(!m||!h)return null;if(""!==B&&""!==_&&0===(null==F?void 0:F[be]))return r()("div",{style:O.noFilterResultsContainer},void 0,g.Z.searchInPage(O.noFilterResultsIcon),r()("div",{style:O.noFilterResultsTitle},void 0,r()(u.FormattedMessage,{id:"teamBrowserOutliner.noFilterResults.title",[ge]:"No results"})),r()("div",{style:O.noFilterResultsDescription},void 0,r()(u.FormattedMessage,{id:"teamBrowserOutliner.noFilterResults.description",[ge]:"Try again or <linkbutton>clear search</linkbutton>",values:{linkbutton:e=>r()(H.Z,{[he]:s},void 0,e)}})));const q=""!==B&&""!==_,E={[pe]:!1,spaceStore:m,spaceViewStore:h,showAddButton:!1},K=e=>{let{teams:t,[me]:o}=e;const n=t[be],s="teamBrowserJoinedTeams"===o&&C&&n>6,l=s?t[be]-5:0,d=e=>r()(oe.O,{initialToggleState:"hidden",teamStore:e,[fe]:i,isLastTeam:!1,[pe]:!1,[me]:o,onTeamJoinComplete:R},e.id);return s?a[ue](a.Fragment,null,t.slice(0,5).map(d),l>0&&r()(te,{moreCount:l,[he]:P,textStyle:O.nMoreText})):t.map(d)};return r()($.k,{scrollerStore:x,scrollerStyle:O.scroller},void 0,q?a[ue](Y.Z,Q()({},E,{type:J.mu,[ce]:Z,sectionLabel:r()(u.FormattedMessage,{[ge]:"Search results",id:"teamBrowserOutliner.searchResultsLabel"}),renderSidebar:()=>K({teams:F??[],[me]:J.mu})})):a[ue](a.Fragment,null,a[ue](Y.Z,Q()({},E,{type:J.PT,[ce]:T,labelTooltip:r()(u.FormattedMessage,{[ge]:"Teamspaces you have joined",id:"teamBrowserOutliner.joinedTeamsSection.tooltip"}),sectionLabel:r()(u.FormattedMessage,{[ge]:"Your teamspaces",id:"teamBrowserOutliner.joinedTeamsLabel"}),renderSidebar:()=>K({teams:t,[me]:J.PT})})),a[ue](Y.Z,Q()({},E,{type:J.cz,[ce]:M,labelTooltip:r()(u.FormattedMessage,{[ge]:"Teamspaces you can join",id:"teamBrowserOutliner.unjoinedTeamsSection.tooltip"}),sectionLabel:r()(u.FormattedMessage,{[ge]:"More teamspaces",id:"teamBrowserOutliner.unjoinedTeamsLabel"}),renderSidebar:()=>0===o[be]?I?r()(b.Z,{[he]:()=>p.openCreateTeamModal("browse_teams"),style:O[de]},void 0,r()(v.Z,{left:g.Z.plusThick(O.plusIcon)},void 0,r()(u.FormattedMessage,{[ge]:"New teamspace",id:"teamBrowserOutliner.createTeamspaceButton"}))):r()("div",{style:O.noUnjoinedTeamsContainer},void 0,r()(u.FormattedMessage,{id:"teamBrowserOutliner.noUnjoinedTeams",[ge]:"No teamspaces to join"})):K({teams:o,[me]:J.cz})}))))}function Ce(){return(0,d.qz)(void 0,ie.Z)}const Se=o(85).nx5,we=o(85).piL,ke=o(85).L_E,Te=o(85).GiO,Me=o(85).sIs,Ze=o(85).iKt;function xe(e){let{[Ze]:t,onBackClicked:o,[Me]:i}=e;window.__c={n:"SidebarTeamBrowserContent"};const n=(0,l.O7)(),g=(0,d.VK)((()=>S.default.state.currentSpaceStore),[]),b=(0,d.VK)((()=>S.default.state[Te]),[]),[v,w]=(0,a.useState)(""),k=(0,C.E7)(),T=(0,C.ZW)(),M=(0,d.VK)((()=>{return g?(e=T,t=g,s().sortBy(e,(e=>-1*(0,y.xf)({teamStore:e,spaceStore:t}).length))):[];var e,t}),[g,T]),Z=(0,d.VK)((()=>(0,y.Xq)({environment:n,spaceStore:g})),[g,n]),x=(0,a.useCallback)((()=>p.openCreateTeamModal(0===v.length?"team_browser":"team_browser_search")),[v.length]),_=(0,a.useCallback)((e=>w(e)),[]),B=(0,a.useCallback)((()=>{m.trackClearTeamBrowserSearch(n,{from:"empty_results_reset_link"}),w("")}),[n]),F=(0,a.useCallback)((()=>{m.trackClearTeamBrowserSearch(n,{from:"search_input"}),w("")}),[n]),I=(0,a.useCallback)((()=>{o({numOfJoinedTeams:k.length,numOfUnJoinedTeams:M.length})}),[o,k,M]),R=(0,c.yK)((()=>({[ke]:{display:"flex",flexDirection:"column",height:"100%",width:"100%"},headerContainer:{flexShrink:0,paddingBottom:8},outlinerContainer:{overflow:"hidden",flexGrow:1},footerContainer:{flexShrink:0}})),[]);return g&&b?r()("div",{style:R[ke]},void 0,r()(h.Z,{capture:!0,onEsc:I}),r()("div",{style:R.headerContainer},void 0,r()(A,{[Ze]:t,[we]:v,onBackClicked:I,onSearchQueryChanged:_,onClearButtonClicked:F})),r()("div",{style:R.outlinerContainer},void 0,r()(ye,{joinedTeams:k,unjoinedTeams:M,[Me]:i,[we]:v,onClearSearchQueryClicked:B})),Z&&r()("div",{style:R.footerContainer},void 0,r()(f,{onClick:x,label:r()(u.FormattedMessage,{[Se]:"New teamspace",id:"sidebarTeamBrowser.newTeam.button"})}))):null}var _e=o(76453),Be=o(59054),Fe=o(3791),Ie=o(54642),Re=o(6467),Pe=o(98692),Oe=o(89728),qe=o(64369),Ee=o(64964),Ke=o(85834),Ge=o(42922),Le=o(9019),Ve=o(63296);const Ne=o(85).cZW,je=o(85).Yzm,Ae=o(85).BQ6,De=o(85).PG2,We=o(85).nx5,Qe=o(85).lWA,Ue=o(85).FOQ,ze=o(85).L_E;const Je=function(e){window.__c={n:"GuestMembershipRequest"};const t=(0,l.O7)(),{store:o,origin:i}=e,[n,s]=(0,a.useState)(!1),[d,p]=(0,a.useState)(""),h=(0,u.useIntl)(),g=(0,c.yK)((()=>({modalStyle:{alignSelf:"center",overflow:"visible",top:0,width:350},[ze]:{padding:20},title:{fontWeight:w.Z.fontWeight.medium,marginBottom:10},input:{width:"100%",padding:"8px 12px",marginTop:10,marginBottom:10},[Ue]:{width:"100%",marginTop:10}})),[]),b=()=>{const{currentUser:e}=t;e&&e.id&&(m.trackClickMembershipRequest(t,{invite_flow_id:void 0,user_count:1,new_user_count:1,is_bot:!1,space_role:"read_and_write",invite_message_length:d.length,invite_space_role_selection:Ke.uq[Qe],from:"sidebar_guest_request"}),Ie.requestAccess(t,{type:"actor-to-space",forActorId:e.id,spaceId:o.id,message:d,attributes:{origin_id:o.id,origin_type:"sidebar_guest_request",origin_table:"space",add_permissions_on_approval:!1}}).catch((()=>{Ee.oV({label:r()(u.FormattedMessage,{id:"guestMembershipRequestModal.confirmationToast.errorMessage",[We]:"Failed to send membership request."})})})).finally((()=>{Ee.oV({label:r()(u.FormattedMessage,{id:"guestMembershipRequestModal.confirmationToast.successMessage",[We]:"Sent membership request."})})})),p(""),s(!1))};return r()(Le.Z,{modalStyle:g.modalStyle,open:n,origin:r()("div",{[De]:()=>{m.trackOpenGuestMembershipRequestModal(t),s(!0)}},void 0,i),onDismiss:()=>s(!1),renderContent:()=>r()("div",{[Ae]:g[ze]},void 0,r()("div",{[Ae]:g.title},void 0,r()(u.FormattedMessage,{id:"GuestMembershipRequestModal.title",[We]:"Request membership to workspace"})),r()(M.Z,{capture:!0,allowEsc:!0},void 0,r()(Z.Z,{[Ae]:g.input,textarea:!0,value:d,[Ne]:h[je]({id:"GuestMembershipRequestModal.message.placeholder",[We]:"Reason (optional)"}),onChange:e=>{p(e.target.value)}}),r()(Ge.Z,{isLarge:!0,[Ae]:g[Ue],[De]:b},void 0,r()(u.FormattedMessage,{id:"GuestMembershipRequestModal.sendRequest.button",[We]:"Send request"})),r()(Ve.Z,{isLarge:!0,[Ae]:g[Ue],[De]:()=>{p(""),s(!1)}},void 0,r()(u.FormattedMessage,{id:"GuestMembershipRequestModal.cancel.button",[We]:"Cancel"}))))})},He=o(85).nx5;const $e=function(e){window.__c={n:"GuestMembershipRequestPrompt"};const t=(0,l.O7)(),{style:o}=e;return(0,a.useEffect)((()=>{m.trackRenderGuestMembershipRequestEntryPoint(t)}),[]),r()(Oe.Z,{icon:g.Z.team,style:o},void 0,r()(u.FormattedMessage,{[He]:"Request to be a member",id:"sidebar.guestMember.requestMembershipPrompt"}))};var Ye=o(83355),Xe=o(90850),et=o(92083),tt=o(77137),ot=o(8848),it=o(62385);const rt=o(85)._Fe,nt=o(85).ChN,st=o(85).PXg,at=o(85)._8D,lt=o(85).Scd,dt=o(85).fBv;class ct extends Ye.Z{renderComponent(){const{title:e,children:t,handleClick:o,handleCloseClick:i,showCloseButton:n,style:s,blueEmphasis:a,disableClick:l,onMouseEnter:d,onMouseLeave:c,animationClassName:u}=this.props;return r()(b.Z,{className:u,style:{[dt]:"relative",padding:10,margin:12,fontSize:12,[lt]:a?ot.ZP.blue:this.theme[at],borderRadius:6,...s},onClick:o,hovered:!1,ignoreLocalHoverState:!0,pressedStyle:a?{[lt]:ot.ZP.blue}:{},disabled:l,onMouseEnter:d,onMouseLeave:c},void 0,e&&r()("div",{style:{[st]:16}},void 0,r()("div",{style:{[nt]:w.Z[nt].medium,flexGrow:1,color:a?ot.ZP.white:this.theme[rt]}},void 0,e)),t,n&&r()(it.Z,{style:{[dt]:"absolute",top:7,right:8},onClick:i},void 0,g.Z.closeThick({width:10,opacity:"75%",...a?{fill:ot.ZP.white}:{}})))}}ct.displayName="SidebarNotification";const ut=ct,mt=o(85).zDZ,pt=o(85).khk,ht=o(85).g65,gt=o(85).vck,bt=o(85).wgE,vt=o(85).OK,ft=o(85).Vy4,yt=o(85).r9y,Ct=o(85).b8T;class St extends Ye.Z{constructor(){super(...arguments),this[Ct]=()=>{et.Z.setState({open:!0,openedFrom:yt,[ft]:"plans",[vt]:void 0,highlightedSetting:void 0}),m.trackSidebarPromoClick(this[bt])},this[gt]=()=>{Xe.$r(this[bt][ht].id),this[pt]()}}renderComponent(){const e=Xe.Zk(this[bt][ht].id);if(e)return r()(tt.Z,{request:e,performRequest:async e=>{const t=await Ie.getPromoCode(this[bt],{code:e});if("success"===t.type&&t.data.promo)return t.data.promo},render:(e,t)=>{if(t)return r()(ut,{title:t[mt],showCloseButton:!0,[Ct]:this[Ct],[gt]:this[gt]})}})}}St.displayName="SidebarPromoCode";const wt=St;var kt=o(9953),Tt=o(21325),Mt=o(12359),Zt=o(21115);const xt=o(85).NbQ,_t=o(85).tvI,Bt=o(85).nLZ,Ft=o(85).LCr,It=o(85).T9R,Rt=o(85).vwy,Pt=o(85).Drs,Ot=o(85).JJj,qt=o(85).Ubh,Et=o(85).vck,Kt=o(85).Wqi,Gt=o(85).T0r,Lt=o(85).qJ8,Vt=o(85).wgE,Nt=o(85).OK,jt=o(85).Vy4,At=o(85).r9y,Dt=o(85).b8T,Wt=o(85).nx5;o(85).LZ$;class Qt extends Ye.Z{constructor(){super(...arguments),this.getText=()=>({title:r()(u.FormattedMessage,{[Wt]:"You're eligible for a free Education plan for individuals.",id:"sidebarStudentPlanPrompt.eligible.messagePlus"}),prompt:r()(u.FormattedMessage,{[Wt]:"Get the Education Plan",id:"sidebarStudentPlanPrompt.eligible.getFreePromptPlus"})}),this[Dt]=()=>{et.Z.setState({open:!0,openedFrom:At,[jt]:"plans",[Nt]:void 0,highlightedSetting:void 0}),m.trackStudentPlanPromptClick(this[Vt]);const e=S.default.state[Lt];e&&Tt[Gt]({[Vt]:this[Vt],[Kt]:e})},this[Et]=()=>{const{[qt]:e}=S.default.state;e&&Mt[Ot]({[Pt]:"SidebarStudentPlanPrompt.handleCloseClick",[Vt]:this[Vt],perform:t=>{kt[Rt]({store:e[It](),data:{hide_student:!0},[Ft]:t}),m.trackStudentPlanPromptCloseClick(this[Vt])}})}}renderComponent(){if((0,Zt.userIsOnPersonalTier)(this[Vt]))return r()(tt.Z,{request:{},performRequest:e=>Ie.isEmailEducation(this[Vt],e),render:(e,t,o)=>{if(o&&t&&"failed"!==t.type&&t.data.isEligible){const{title:e,prompt:t}=this.getText();return r()(ut,{title:e,showCloseButton:!0,[Dt]:this[Dt],[Et]:this[Et]},void 0,r()("div",{style:{display:"flex",[Bt]:4}},void 0,r()("div",{style:{[_t]:xt}},void 0,t)))}}})}}Qt.displayName="SidebarStudentPlanPrompt";const Ut=Qt;var zt=o(26234),Jt=o(4708),Ht=o(6617),$t=o(78291),Yt=o(99757);const Xt=o(85).nx5,eo=o(85).D7I,to=o(85)._a5,oo=o(85).qJ8,io=o(85).Ubh,ro=o(85).DgF;function no(e){let{}=e;window.__c={n:"SidebarFooter"};const t=(0,l.O7)(),{canEditSpace:o,[ro]:i,[io]:n,[oo]:s}=(0,d.VK)((()=>{var e;return{canEditSpace:(null===(e=S.default.state[oo])||void 0===e?void 0:e.canEdit())??!1,[ro]:S.default.state[ro],[io]:S.default.state[io],[oo]:S.default.state[oo]}}),[]),m=(0,d.VK)((()=>null==n?void 0:n.getSettings()),[n]),p=(0,d.Kw)(Yt.n),{subscriptionType:h,hasAddOn:b,visibleMembersCount:v}=(0,d.VK)((()=>{const e=$t.default.state.data;return{subscriptionType:null==e?void 0:e.type,hasAddOn:(0,Fe.E3)(null==e?void 0:e.addOns),visibleMembersCount:e&&Zt[to](e)}}),[]),f=(0,Ht.Q)(),y=(0,a.useCallback)((()=>{Re.createOrJoinSpace(t)}),[t]),[{value:C,status:w}]=(0,Be.r5)((async()=>{if(!s||o)return!1;if(Ie.setSeenGuestMembershipRequests(t,{spaceId:s.id}),!(0,Jt.isGuestMembershipRequestEnabled)(t))return!1;const e=await Ie.isEligibleForGuestMembershipRequest(t,{spaceId:s.id});return"failed"!==e.type&&(Ie.setSeenGuestMembershipRequests(t,{spaceId:s.id}),e.data.isEligible)}),[o,s,t]),k=(0,c.yK)((e=>{const t={display:"block",flexGrow:0,flexShrink:0,flexBasis:"auto",marginTop:"auto"};return{footer:t,canViewOnlyFooter:{...t,padding:14,boxShadow:`0 -1px 0 ${e.regularDividerColor}`},createWorkspaceButton:{marginTop:8,marginLeft:-8}}}),[]);if(!i)return a[eo](a.Fragment,null);if(!o){if(f)return null;let e=null;return"pending"!==w&&(e=C&&s?r()(Je,{store:s,origin:r()($e,{style:k.createWorkspaceButton})}):r()(Oe.Z,{icon:g.Z.team,onClick:y,style:k.createWorkspaceButton},void 0,r()(u.FormattedMessage,{[Xt]:"Create a workspace",id:"sidebar.guestMember.createWorkspacePrompt"}))),r()("div",{style:k.canViewOnlyFooter},void 0,r()(qe.Z,{isSmall:!0,isMultiline:!0},void 0,r()(u.FormattedMessage,{[Xt]:"You are currently a guest. To see all the workspace pages, ask an admin to upgrade you to a member.",id:"sidebar.guestMember.message"})),e)}if(p)return a[eo](a.Fragment,null);const T=!(null!=m&&m.hide_student||1!==v||"unsubscribed_admin"!==h&&"unsubscribed_member"!==h),M="unsubscribed_admin"===h||"unsubscribed_member"===h;return r()("div",{style:k.footer},void 0,M&&r()(Pe.Z,{source:"sidebar"}),!b&&r()(zt.Z,{source:"sidebar"}),T&&r()(Ut,{}),M&&r()(wt,{}))}}}]);