"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[3e3],{90799:(e,a,t)=>{t.r(a),t.d(a,{default:()=>We});var s=t(97464),n=t.n(s),r=t(77094),i=t.n(r),o=t(96486),d=t.n(o),l=t(67294),u=t.t(l,2),c=t(47063),p=t(39249),b=t(83355),m=t(49085),h=t(27006),v=(t(90468),t(29369)),f=(t(64684),t(74487));const y=t(85).LFy,k=t(85).JP6,g=t(85).w_r,P=t(85).f8x,$=t(85).D_K,_=f[$]({[P]:{id:f[g](),isBot:f.boolean()},[k]:{email:f[g](),[y]:f[g]()}}),w=f[$]({[P]:{parentId:f[g](),parentTable:f[g]()},[k]:{}}),C=f[$]({[P]:{id:f[g](),table:f[g](),title:f[g]()},[k]:{}}),B=f[$]({[P]:{id:f[g](),table:f.literal("space")},[k]:{name:f[g](),plan_type:f[g]()}}),S=f[$]({[P]:{time:f[g](),type:f[g](),authors:f.array(_)},[k]:{pageId:f[g](),blockId:f[g]()}}),T=f[$]({[P]:{type:f.literals(...h.typePrecedence)},[k]:{role:f.literals(...h.tieredPermissionRolePrecedence),id:f[g](),name:f[g]()}}),x=f[$]({[P]:{before:T,after:T},[k]:{}}),L=f[$]({[P]:{id:f[g](),time:f[g](),type:f[g](),authors:f.array(_),edits:f.array(S)},[k]:{page:C,addedPermissions:f.array(T),removedPermissions:f.array(T),changedPermissions:f.array(x)}}),O=f[$]({[P]:{id:f[g](),name:f[g](),isDefault:f.boolean(),accessLevel:f.literals(...v.bx)},[k]:{}});var R=t(3909),A=t(51859),D=t(97880),N=t(36054),E=t(43132),I=t(73063),W=t(53953);const Z=t(85).Wp_,F=t(85).Gnd,H=t(85).bey,G=t(85).DIE,J=t(85).H0L,U=t(85).X_m,K=t(85).LlE,M=t(85).D7I,X=t(85).PG2,j=t(85).muN,Q=t(85).OeL,z=t(85).Qt1,V=t(85).fHe,Y=t(85)._V5,q=t(85).XNW,ee=t(85).g7N,ae=t(85).nLZ,te=t(85).PXg,se=t(85).OtN,ne=t(85).Jkr,re=t(85).fBv,ie=t(85).wgE,oe=t(85).D7e,de=t(85).wfR,le=t(85).kri,ue=t(85).C5g,ce=t(85).CRw,pe=t(85).TUD,be=t(85).x6c,me=t(85).FYR,he=t(85).RWY,ve=t(85).C7g,fe=t(85).NGX,ye=t(85)._BS,ke=t(85).sS,ge=t(85).A6W,Pe=t(85).Exd,$e=t(85).TtP,_e=t(85).QKv,we=t(85).LFy,Ce=t(85).xad,Be=t(85).zEC,Se=t(85).BQ6,Te=t(85).tvI,xe=t(85).mFu,Le=t(85).zkl,Oe={scheme:"dirtysea",author:"Kahlil (Kal) Hodgson",base00:"unset",base01:"#d0dad0",base02:"#d0d0d0",base03:"#707070",base04:"#202020",base05:"#000000",base06:"#f8f8f8",base07:"#c4d9c4",base08:"#840000",base09:"#006565",base0A:"#755B00",base0B:"#730073",base0C:"#755B00",base0D:"#007300",base0E:"#000090",base0F:"#755B00"},Re={scheme:"OneDark",author:"Lalit Magant (http://github.com/tilal6991)",base00:"unset",base01:"#353b45",base02:"#3e4451",base03:"#545862",base04:"#565c64",base05:"#abb2bf",base06:"#b6bdca",base07:"#c8ccd4",base08:"#e06c75",base09:"#d19a66",base0A:"#e5c07b",base0B:"#98c379",base0C:"#56b6c2",base0D:"#61afef",base0E:"#c678dd",base0F:"#be5046"};function Ae(e){let{[Le]:a,id:t}=e,s=a;return"user"===s&&(s="notion_user"),A._O.includes(s)?i()("a",{[Se]:{cursor:xe,[Te]:"none",paddingLeft:6},href:`/__admin/${s}/${t}`},void 0,"ðŸ”—"):null}const De=e=>{let{data:a}=e;return(0,N.P9)(T,a)?{[Be]:!1,[Ce]:i()("span",{},void 0,i()("span",{[Se]:{[Pe]:16}},void 0,Ne({type:a.type,name:a.name,role:a.role})))}:null};function Ne(e){let a,{type:t,name:s,role:n,endRole:r}=e;switch(t){case ye:a="Permanently deleted";break;case fe:a="Restricted";break;case"user_permission":a="User";break;case"bot_permission":a="Bot";break;case"group_permission":a="Group";break;case"team_permission":case ve:a="Teamspace";break;case he:case me:a="Teamspace Owners";break;case be:a="Teamspace Guests";break;case"space_permission":a="Space";break;case pe:a="Public";break;case ce:a="User (Exclusive)";break;default:(0,D.unreachable)(t)}const o=Boolean(s),d=`[${a}]`;let l;n&&r?l=`${n} -> ${r}`:n&&(l=n);const u=Boolean(l);return i()("span",{},void 0,o&&u?`${d}: ${s} - ${l}`:o?`${d}: ${s}`:u?`${d}: ${l}`:d)}const Ee=[e=>{let{data:a}=e;return(0,N.P9)(w,a)?{[Be]:!1,[Ce]:i()("span",{},void 0,a[ue]," ",a[le],i()(Ae,{[Le]:a[ue],id:a[le]}))}:null},e=>{let{data:a}=e;return(0,N.P9)(B,a)?{[Be]:!1,[Ce]:i()("span",{},void 0,a.name||a.id,i()(Ae,{[Le]:"space",id:a.id}))}:null},e=>{let a,{data:t}=e;if(!(0,N.P9)(_,t))return null;if(t.isBot){a=`${"name"in t?t.name:"UNNAMED"}, ${t.id} (bot)`}else a=t.email;return{[Be]:!1,[Ce]:i()("span",{},void 0,a,i()(Ae,{[Le]:t[we]||"notion_user",id:t.id}))}},e=>{let{data:a}=e;return(0,N.P9)(C,a)?{[Be]:!1,[Ce]:i()("span",{},void 0,a.title,i()(Ae,{[Le]:a[Le]||"block",id:a.id}))}:null},e=>{let{data:a}=e;return(0,N.P9)(O,a)?{[Be]:!1,[Ce]:i()("span",{},void 0,a.name,i()(Ae,{[Le]:v.e0,id:a.id}))}:null},e=>{var a;let{data:t}=e;if(!(0,N.P9)(L,t))return null;const s=t[_e]&&0!==t[_e][$e]?1===t[_e][$e]?t[_e][0].email:`${t[_e][$e]} users`:"an unknown user",n=(null===(a=t.page)||void 0===a?void 0:a.title)??"Unknown page";return{[Be]:!1,[Ce]:i()("span",{},void 0,i()("span",{[Se]:{[Pe]:16}},void 0,t.time,": ",i()("b",{},void 0,t.type)," on page ",i()("b",{},void 0,n)," by"," ",i()("b",{},void 0,s)),i()(Ae,{[Le]:ge,id:t.id}))}},e=>{let{data:a}=e;if(!(0,N.P9)(S,a))return null;const t=a[_e]&&0!==a[_e][$e]?1===a[_e][$e]?a[_e][0].email:`${a[_e][$e]} users`:"an unknown user";return{[Be]:!1,[Ce]:i()("span",{},void 0,i()("span",{[Se]:{[Pe]:16}},void 0,a.time,": ",i()("b",{},void 0,a.type)," by ",i()("b",{},void 0,t)))}},e=>{let{data:a}=e;return(0,N.P9)(x,a)?{[Be]:!1,[Ce]:i()("span",{},void 0,i()("span",{[Se]:{[Pe]:16}},void 0,Ne({type:a[ke].type,name:a[ke].name,role:a[ke].role,endRole:a.after.role})))}:null},De,e=>{let{data:a,keyPath:t}=e;return(0,N.P9)(f.array(T),a)&&1===a[$e]?De({data:a[0],keyPath:t}):null},e=>{let{data:a}=e;return Array.isArray(a)?a.some((e=>d().isObject(e)))||a[$e]>10?null:0===a[$e]?{[Ce]:i()("span",{},void 0,"[]"),[Be]:!1}:{[Ce]:i()("span",{},void 0,a.join(", ")),[Be]:!1}:null},e=>{let{data:a,keyPath:t}=e;if("billing"===t[0]){const e=a;return e.isSubscribed?{[Ce]:i()("span",{},void 0,"isSubscribed=true ",e.planType),[Be]:!0}:{[Ce]:i()("span",{},void 0,"isSubscribed=false"),[Be]:!1}}return null}];function Ie(e){return e[$e]>50?`${e.substr(0,49)}...`:e}class We extends b.Z{constructor(){super(...arguments),this.storeTypes={modalOpen:m.default[de](!1)},this[oe]=[...this.props[oe]||[],...Ee]}onClickHandler(e){E.copyWithToast(this[ie],e),(0,p.Am)(`Copied ${Ie(e)} to clipboard`)}getTheme(){return"dark"===this[ie].ThemeStore.state.mode?Re:Oe}renderComponent(){var e=this;const{data:a,defaultCollapsed:t,showCopyButton:s,showModalButton:r,jsonTreeRef:o,maxLinkValueLength:d}=this.props,l=s||r;return i()("div",{[Se]:{[re]:"relative",[ne]:"100%",[se]:this.getTheme().base00}},void 0,i()("div",{[Se]:{[te]:l?30:void 0}},void 0,u[M](c.L,{ref:o,data:a,hideRoot:!0,invertTheme:!1,theme:{extend:this.getTheme(),tree:{[ae]:0,[ee]:0,[q]:0,[Y]:0,userSelect:"auto"}},getItemString:(e,a,t,s,n)=>{for(const r of this[oe]){const e=r({data:a,keyPath:n});if(e)return e[Ce]}return i()("span",{},void 0,t," ",s)},shouldExpandNode:(e,a,s)=>{for(const n of this[oe]){const s=n({data:a,keyPath:e});if(s)return s[Be]??!t}return!t},valueRenderer:function(a,t){for(var s=arguments[$e],n=new Array(s>2?s-2:0),r=2;r<s;r++)n[r-2]=arguments[r];function o(){const e=n[0].toString();var a;if("id"===e)return i()(Ae,{id:t,[Le]:null===(a=n[1])||void 0===a?void 0:a.toString()});if(e.endsWith("_id")||e.endsWith("Id")){const a=e[V]("_id","")[V]("Id","");return i()(Ae,{id:t,[Le]:a})}return null}const l=o();return null!=t&&t.toString()[z]("http")?i()("a",{[Se]:{cursor:xe},href:t},void 0,d&&a[$e]>d?`${a[Q](0,d/2)}[...]${a[Q](a[$e]-d/2)}`:t):i()("span",{},void 0,i()("span",{[X]:()=>e.onClickHandler(t)},void 0,null!=t?t.toString():j)," ",l)}})),s&&i()(I.Z,{caption:"small"===s?void 0:"Copy JSON",[Se]:{[re]:"absolute",top:2,right:2,[K]:2,[ne]:"small"===s?14:void 0,[U]:"small"===s?14:void 0},[H]:{[ne]:"small"===s?10:20,[U]:"small"===s?10:20},icon:R.Z.copy,[X]:e=>{E.copyWithToast(this[ie],a),(0,p.Am)(`Copied ${Ie(JSON[J](a))} to clipboard`),e[G]()}}),i()(W.Z,{open:this[F].modalOpen.state,innerStyle:{maxHeight:"90vh",maxWidth:"90vw",[U]:"90vh",[ne]:"90vw",overflow:"scroll"},onDismiss:()=>{this[F].modalOpen[Z](!1)},render:()=>u[M](We,n()({},this.props,{defaultCollapsed:!1,showModalButton:!1}))}),r&&i()(I.Z,{[Se]:{[re]:"absolute",top:2,right:16,[K]:2,[U]:14,[ne]:14},[H]:{[ne]:10,[U]:10},icon:R.Z.openAsPage,[X]:()=>{this[F].modalOpen[Z](!0)}}))}}We.displayName="AdminReactJson"}}]);