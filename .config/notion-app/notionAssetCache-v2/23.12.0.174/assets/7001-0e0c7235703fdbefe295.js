"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[7001],{5474:(e,t,n)=>{n.d(t,{Z:()=>g});var o=n(77094),i=n.n(o),r=n(67294),a=n(24405),s=n(3909),d=n(82990),l=n(68785),c=n(63296),u=n(64369);const m=n(85).D7I,h=n(85).g4H;function g(e){window.__c={n:"MFAActionButton"};const{type:t,isActive:n,title:o,[h]:g,onClick:p,isLoading:f,style:y,disabled:v}=e,[b,w]=(0,r.useState)(!1),k=(0,r.useCallback)((()=>w(!0)),[w]),C=(0,r.useCallback)((()=>w(!1)),[w]),M=(0,a.yK)((e=>({button:{width:"100%",justifyContent:"left",padding:"10px 16px",alignItems:"start",height:"auto",...y},buttonLoading:{width:"100%",height:59,...y},buttonInner:{minWidth:0},icon:{width:20,height:20,marginRight:10,fill:n||b&&!v?e.blueColor:e.regularIconColor},[h]:{fontSize:d.Z.fontSize.UISmall.desktop,lineHeight:1.35,color:e.mediumTextColor,whiteSpace:"normal"}})),[n,b,v,y]),I=(0,r.useMemo)((()=>f?M.buttonLoading:M.button),[f,M.buttonLoading,M.button]),S={totp:s.Z.authenticatorCode(M.icon),sms:s.Z.textMessage(M.icon),backup_code:s.Z.collectionNumberType(M.icon)}[t];return i()(c.Z,{style:I,onClick:p,onMouseEnter:k,onMouseLeave:C,hovered:b,disabled:v,disabledFeedback:v},void 0,f?i()(l.Z,{}):r[m](r.Fragment,null,i()("div",{style:M.icon},void 0,S),i()("div",{style:M.buttonInner},void 0,i()(u.Z,{},void 0,o),i()("span",{style:M[h]},void 0,g))))}},88175:(e,t,n)=>{n.d(t,{Z:()=>R});var o=n(97464),i=n.n(o),r=n(77094),a=n.n(r),s=n(67294),d=n(24405),l=n(8848),c=n(3909),u=n(82990),m=n(42922),h=n(89728),g=n(1629);const p=n(85).Hco,f=n(85).MLn,y=n(85).Exd,v=n(85).ChN,b=n(85).jkI,w=n(85).g7N,k=n(85).L_E,C=n(85).IZH,M=n(85).gdQ,I=n(85).pkR,S=n(85).PG2,x=n(85).BQ6,F=n(85).UPJ,A=n(85).BvV,Z=n(85).ymU;function R(e){let{onDismiss:t,onBack:n,disableBackButton:o,[Z]:r,secondaryActions:l,title:u,header:p,children:f,errorMessage:y,alertMessage:v,icon:b,[A]:w}=e;window.__c={n:"MFAPrompt"};const R=(0,d.yK)(B,[]),E=(0,s.useMemo)((()=>a()(s.Fragment,{},void 0,a()("div",{[x]:n&&t?R.topIconRow:{...R.topIconRow,[F]:"flex-end"}},void 0,n?a()(h.Z,{isSmall:!0,[x]:R.backButton,[S]:n,[I]:o},void 0,c.Z.arrowLeftThick(R.backIcon)):null,t?a()(h.Z,{isSmall:!0,[x]:R.dismissButton,[M]:R.dismissButtonHovered,[S]:t},void 0,c.Z.closeSmall(R.dismissIcon)):null),b?a()("div",{[x]:R.titleIconRow},void 0,b):null)),[R,b,t,n,o]),P=(0,s.useMemo)((()=>r?a()(m.Z,{[x]:R[C],isLarge:!0,[S]:r[S],[I]:r[I],isRed:r.isRed},void 0,r.text):null),[r,R]),L=(0,s.useMemo)((()=>null==l?void 0:l.map(((e,t)=>s.createElement(g.Z,i()({},e,{key:t}))))),[l]),N=(0,s.useCallback)((e=>{e.preventDefault(),r&&!r[I]&&r[S]()}),[r]),T=y?a()("div",{[x]:R.error},void 0,y):void 0,_=v?a()("div",{[x]:R.alert},void 0,v):void 0;return a()("form",{[x]:{...R[k],...w},onSubmit:N},void 0,E,a()("h2",{[x]:R.title},void 0,u),a()("div",{[x]:R.header},void 0,p),T,_,f,P,L,a()("button",{[x]:R.hiddenButton}))}function B(e){return(0,d.EM)({[k]:{position:"relative",width:280,padding:16},topIconRow:{display:"flex",flexDirection:"row",[F]:"space-between",[w]:4,width:"100%"},titleIconRow:{display:"flex",[F]:b,[w]:15},dismissButton:{marginTop:-5,marginRight:-5,borderRadius:"50%",width:18,height:18,background:"light"===e.mode?l.FN.light.gray[75]:l.FN.dark.gray[400],display:"flex",[F]:b,alignItems:b,padding:0},dismissButtonHovered:{background:"light"===e.mode?l.FN.light.gray[100]:l.FN.dark.gray[500]},backButton:{marginTop:-5,marginLeft:-5,height:20,width:20,display:"flex",[F]:b,alignItems:b},title:{[v]:u.Z[v].medium,[y]:u.Z[y].UIRegular.desktop,lineHeight:1.2,color:e.regularTextColor,marginTop:0,[w]:4,paddingLeft:10,paddingRight:10,[f]:b},error:{color:l.ZP.red,width:"100%",[w]:8,[f]:b,[y]:u.Z[y].UISmall.desktop},alert:{color:l.ZP.red,width:"100%",[w]:10,[f]:b,[y]:u.Z[y].UISmall.desktop},header:{[v]:u.Z[v].regular,[y]:u.Z[y].UISmall.desktop,color:e.mediumTextColor,[f]:b,[w]:16,lineHeight:1.35},[C]:{width:"100%",margin:"15px auto 0"},hiddenButton:{display:"none"},backIcon:{width:14,height:14,fill:e[p]},dismissIcon:{width:12,height:12,fill:e[p]}})}},1629:(e,t,n)=>{n.d(t,{Z:()=>w});var o=n(77094),i=n.n(o),r=n(67294),a=n(24405),s=n(97880),d=n(82990),l=n(63296),c=n(85740),u=n(8848);function m(e){let{onClick:t,disabled:n,view:o,icon:r,isRed:s,href:d,isExternal:l,saveAs:c,style:m,children:h}=e;window.__c={n:"MFAPromptLink"};const g=(0,a.yK)((e=>({link:{userSelect:"none",WebkitUserSelect:"none",transition:"background 20ms ease-in",cursor:n?void 0:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",textDecoration:"none",borderRadius:4,height:"outline"===o?32:28,paddingLeft:Boolean(r)?6:"outline"===o?12:8,paddingRight:12,fontSize:14,lineHeight:1.2,color:s?u.O9.red:e.regularTextColor,..."outline"===o?{border:`1px solid ${s?e.outlineRedButtonBorder:e.outlineButtonBorder}`}:{},...m}})),[o,s,r,m,n]);return i()("a",{style:g.link,target:l?"_blank":void 0,href:d,download:c,onClick:t,rel:"noopener noreferrer"},void 0,h)}const h=n(85).PG2,g=n(85)._Fe,p=n(85).TEz,f=n(85).Exd,y=n(85).ChN,v=n(85).jkI,b=n(85).UPJ;function w(e){window.__c={n:"MFAPromptSecondaryAction"};const{type:t,view:n,text:o,disabled:u,isRed:w,icon:k}=e,C=(0,a.yK)((e=>(0,a.EM)({secondaryActionBase:{width:"100%",margin:"8px auto 0",[b]:v},secondaryActionPlainButton:{width:"100%",margin:"8px auto 0",[b]:v,[y]:d.Z[y].regular,[f]:d.Z[f].UIRegular.desktop,color:"button"===t?e[p]:e[g]},secondaryActionOutlineButton:{width:"100%",margin:"8px auto 0",[b]:v,[y]:d.Z[y].regular,[f]:d.Z[f].UIRegular.desktop,color:"link"===t&&"outline"!==n||"plain"===n?e[p]:e[g]},secondaryActionIcon:{width:12,height:12,marginRight:4}})),[t,n]),M=w?C.secondaryActionBase:C.secondaryActionOutlineButton,I=i()(r.Fragment,{},void 0,k?k(C.secondaryActionIcon):null,o);if("button"===t){const t="outline"===n?l.Z:c.Z;return i()(t,{[h]:e[h],style:M,isRed:w,disabled:u},void 0,I)}if("link"===t)return i()(m,{[h]:e[h],view:n,isExternal:e.isExternal,icon:k,isRed:w,href:e.href,saveAs:e.saveAs,style:M,disabled:u},void 0,I);throw(0,s.unreachable)(t)}},73602:(e,t,n)=>{n.d(t,{y:()=>M});var o=n(97464),i=n.n(o),r=n(77094),a=n.n(r),s=n(67294),d=n(24405),l=n(3909),c=n(97880),u=n(82990),m=n(63143),h=n(5366),g=n(68785),p=n(58032),f=n(42402);const y=n(85).rI1,v=n(85).tBn,b=n(85).D7I,w=n(85).W3n,k=n(85).nx5,C=60*m.SecondMs;function M(e){let{resentStatus:t,resentAt:n,onResendLink:o}=e;window.__c={n:"MFASMSVerificationResendText"};const r=(0,d.yK)(I,[]),[u,m]=(0,s.useState)((()=>Date.now()));(0,s.useEffect)((()=>{if(n+C>u){const e=setTimeout((()=>{m(Date.now())}),1e3);return()=>{clearTimeout(e)}}}),[n,m,u]);const y=Math.max(Math.floor((n+C-u)/1e3),0);if("not-resent"===t||"resent"===t&&0===y)return a()(h.FormattedMessage,{id:"mfa.sms.resend.resend.link",[k]:"<resend>Resend</resend>",values:{resend:e=>a()(f.Z,{style:r.resendLink,disableUnderline:!0,onClick:o},void 0,e)}});if("resending"===t)return a()(h.FormattedMessage,{id:"mfa.sms.resend.sending.label",[k]:"<sending>Sending</sending>",values:{sending:e=>s[b](s[v],null,e,a()(g.Z,{style:r[w]}))}});if("resent"===t)return a()(p.Z,{placement:p.Z.Placement.Bottom,renderTooltip:()=>a()(h.FormattedMessage,{id:"mfa.sms.resend.resent.tooltip",[k]:"You can send a code again in {resendTimeout} seconds",values:{resendTimeout:y}}),render:e=>s[b]("span",i()({},e,{style:r.resent}),a()(h.FormattedMessage,{id:"mfa.sms.resend.resent.message",[k]:"<resent>Resent</resent>",values:{resent:e=>s[b](s[v],null,e,l.Z.checkmark(r.checkmark))}}))});throw(0,c.unreachable)(t)}function I(e){return(0,d.EM)({resendLink:{fontWeight:u.Z.fontWeight.medium,color:e.blueColor},checkmark:{width:12,height:12,display:"inline",[y]:"middle",marginLeft:2,color:"green"},resent:{userSelect:"none",WebkitUserSelect:"none"},[w]:{width:12,height:12,display:"inline",[y]:"middle",marginLeft:2}})}},11898:(e,t,n)=>{n.d(t,{rN:()=>w,ZP:()=>k});var o=n(97464),i=n.n(o),r=n(77094),a=n.n(r),s=n(96486),d=n(67294),l=n(480),c=n(24405),u=n(8848),m=n(97880),h=n(71119),g=n(80935);const p=n(85).nPH,f=n(85).jkI,y=n(85).UPJ,v=n(85).Cki,b=n(85).pkR,w=e=>e>="0"&&e<="9";function k(e){let{numInputs:t,[b]:n,value:o,format:i,onChange:r,autoFocus:l,isValidKey:m}=e;window.__c={n:"MFAVerificationSingleInput"};const h=(0,c.yK)((e=>function(e,t){return(0,c.EM)({inputRow:{width:"100%",display:"flex",flexDirection:"row",[y]:"space-between"},cell:{display:"flex",alignItems:f,[y]:f,width:"login"===t?40:33,height:44,paddingLeft:0,paddingRight:0,fontSize:18,background:"light"===e.mode?u.ZP.transparent:e.inputBackground,lineHeight:"20px",borderRadius:4,boxShadow:e.inputBoxShadow},focusedCell:{boxShadow:p},cellInput:{textAlign:f,color:e.darkTextColor},hiddenInput:{position:"absolute",top:"0",left:"0",height:"100%",width:"100%",opacity:0}})}(e,i)),[i]),[g,w]=(0,d.useState)(void 0),k=(0,d.useMemo)((()=>(0,s.times)(t,(e=>{const n=void 0!==g&&(g[v]<=e&&e<=g.selectionEnd||e===t-1&&g[v]>=t),i={...h.cell,...n?h.focusedCell:{}};return a()("div",{style:i},void 0,a()("div",{style:h.cellInput},void 0,o[e]||""))}))),[t,g,h,o]),M=(0,d.useMemo)((()=>a()(C,{value:o,cursor:g,isValidCharacter:m,[b]:n,maxLength:{limit:t,method:"replaceLast"},onSetValue:r,onSetCursor:w,autoFocus:l,style:h.hiddenInput})),[t,m,r,w,l,h,o,g,n]);return a()("div",{style:{position:"relative"}},void 0,M,a()("div",{style:h.inputRow},void 0,k))}function C(e){let{isValidCharacter:t,cursor:n,value:o,maxLength:r,onSetCursor:a,onSetValue:c,style:u,autoFocus:p,[b]:f}=e;window.__c={n:"FilteredInput"};const y=(0,d.useRef)(null),w=(0,l.Fy)();(0,d.useEffect)((()=>{const e=y.current;if(e){const{[v]:t,selectionEnd:o}=e;if(n&&n[v]!==t&&n.selectionEnd!==o){const t=document.createRange();t.selectNode(e),g.set(t,w),e.setSelectionRange(n[v],n.selectionEnd)}}}),[y,n,o,w]);const k=(0,d.useCallback)(((e,n)=>{const o=n.filter(t);if(void 0===r)return o;if(o.length<=r.limit)return o;const i=e.slice(0,r.limit),a=o.slice(0,r.limit);if("truncate"!==r.method&&(0,s.isEqual)(i,a)){if("replaceLast"===r.method){return[...o.slice(0,r.limit-1),...o.slice(-1)]}return(0,m.unreachable)(r.method)}return a}),[t,r]),C=(0,d.useCallback)((e=>{const{[v]:t,selectionEnd:n}=e.target;null!==t&&null!==n&&a({[v]:t,selectionEnd:n})}),[a]),M=(0,d.useCallback)((e=>{"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||C(e)}),[C]),I=(0,d.useCallback)((e=>{const{[v]:t,selectionEnd:n}=e.target,i=Array.from(e.target.value),s=k(o,i);if(null!==t&&null!==n){const e=Math.min(i.length,(null==r?void 0:r.limit)??1/0)-s.length;a({[v]:t-e,selectionEnd:n-e})}else a(void 0);c(s)}),[a,c,o,k,r]),S=(0,d.useCallback)((e=>{const t=e.clipboardData;if(t&&t.getData){const n=t.getData("text"),o=Array.from(n),i=k([],o);a({[v]:i.length,selectionEnd:i.length}),c(i),e.preventDefault()}}),[k,c,a]);return d.createElement("input",i()({onChange:I,onBlur:()=>{a(void 0)},onFocus:C,onPaste:S,[b]:f,autoFocus:p,type:"text",inputMode:"numeric",pattern:"[0-9]*",onKeyUp:M,ref:y,value:o.join(""),style:u},h.pf))}},49682:(e,t,n)=>{n.d(t,{Q3:()=>c,Qj:()=>d,to:()=>l});var o=n(77094),i=n.n(o),r=(n(67294),n(97880)),a=n(5366);n(85).wi$,n(85).fP;const s=n(85).nx5,d={unexpectedError:i()(a.FormattedMessage,{id:"general.mfa.error.unexpectedError",[s]:"Something went wrong, please try again."}),smsIncorrectCode:i()(a.FormattedMessage,{id:"general.mfa.error.incorrectSMSCode",[s]:"The code didn’t work, try typing it again or resend code."}),smsInvalidCountryCode:i()(a.FormattedMessage,{id:"general.mfa.error.smsInvalidCountryCode",[s]:"The country code is not valid."}),smsInvalidPhoneCode:i()(a.FormattedMessage,{id:"general.mfa.error.smsInvalidPhoneNumber",[s]:"The phone number is not valid."}),smsEmptyPhoneNumber:i()(a.FormattedMessage,{id:"general.mfa.error.smsEmptyPhoneNumber",[s]:"Phone number cannot be empty."}),smsAlreadyVerifiedPhoneNumber:i()(a.FormattedMessage,{id:"general.mfa.error.smsAlreadyVerifedPhoneNumber",[s]:"This phone number has already been verified."}),smsUnsupportedPhoneNumber:e=>i()(a.FormattedMessage,{id:"general.mfa.error.unsupportedPhoneNumber",[s]:"SMS authentication is currently not available in {countryName}. You may consider using an authenticator app as an alternative authentication method.",values:{countryName:e}}),totpIncorrectCode:i()(a.FormattedMessage,{id:"general.mfa.error.incorrectTOTPCode",[s]:"The code didn’t work, try typing it again."}),totpEmptyFriendlyName:i()(a.FormattedMessage,{id:"general.mfa.error.totpEmptyFriendlyName",[s]:"Authenticator name cannot be empty."}),totpDuplicateFriendlyName:i()(a.FormattedMessage,{id:"general.mfa.error.totpDuplicateFriendlyName",[s]:"Authenticator name is already in use."}),totpBadFriendlyName:i()(a.FormattedMessage,{id:"general.mfa.error.totpBadFriendlyName",[s]:"Authenticator name cannot be used."}),backupCodeIncorrectCode:i()(a.FormattedMessage,{id:"general.mfa.error.incorrectBackupCode",[s]:"The backup code didn’t work, try typing it again or use a different one."}),incorrectPassword:i()(a.FormattedMessage,{id:"general.mfa.error.incorrectPassword",[s]:"Incorrect password."})},l={passwordResentLinkSent:e=>i()(a.FormattedMessage,{id:"general.mfa.passwordResentLinkSent",[s]:"A password reset link has been sent to {email}.",values:{email:e}})};function c(e){switch(e){case"totp":return d.totpIncorrectCode;case"sms":return d.smsIncorrectCode;case"backup_code":return d.backupCodeIncorrectCode;default:throw(0,r.unreachable)(e)}}},16010:(e,t,n)=>{n.d(t,{o:()=>v});var o=n(96486),i=n(81954),r=n(65917),a=n(2911),s=n(33954),d=n(33929),l=n(49682);const c=n(85).IFy,u=n(85).Yzm,m=n(85).Wp_,h=n(85).o8N,g=n(85).QyM,p=n(85).F5W,f=n(85).XtO,y=n(85).xPG;class v{constructor(e,t){this[y]=void 0,this[f]=void 0,this[p]=e=>{const t={...this[f][g]()};if("object"==typeof e&&null!==e){const n=e,{body:o,[h]:i,data:g}=n;let v;if(o)v=o;else if(g){v=g.responseBody}if(v){if("object"==typeof v&&null!==v){const e=v,{clientData:n}=e;if(n){const e=n,o=(0,s.mH)(e);if(o){const e=d.default.getIntl();this[f][m]({...t,[h]:e[u](o)})}}}}else r.log({level:h,from:this[y],type:p,[h]:(0,a.Ui)(i)}),this[f][m]({...t,[h]:l.Qj[c]})}else this[f][m]({...t,[h]:l.Qj[c]})},this[f]=e,this[y]=t}[g](){return this[f][g]()}getCurrentStep(){return this[f][g]()}useCurrentStep(){const[e]=(0,i.AF)(this[f]);return e}async withStep(e,t){const n=this[f][g]();if(!(o.isArray(e)?e.includes(n.step):n.step===e))return;const i=await t(n),r=this[f][g]();return r.step===n.step?{result:i,state:r}:void 0}checkStep(e){const t=this[f][g]();if(o.isArray(e)?e.includes(t.step):t.step===e)return t}}},71119:(e,t,n)=>{n.d(t,{pf:()=>u,UG:()=>m,cR:()=>h,pu:()=>g});var o=n(97880),i=n(5366),r=n(54642),a=n(33929);const s=n(85).Yzm,d=n(85).E7F,l=n(85).nx5,c=(0,i.defineMessages)({sms:{id:"mfaMethod.sms",[l]:"SMS"},totp:{id:"mfaMethod.totp",[l]:"Authenticator"},backupCode:{id:"mfaMethod.backupCode",[l]:"Backup code"}}),u={"data-1p-ignore":"true","data-lpignore":"true"};function m(e){const t=["totp","sms",d];return e.sort(((e,n)=>{const o=t.indexOf(e.mfaMethod),i=t.indexOf(n.mfaMethod);return o===i?e.createdAt-n.createdAt:o-i}))}function h(e){switch(e){case"sms":return a.default[s](c.sms);case"totp":return a.default[s](c.totp);case d:return a.default[s](c.backupCode);default:(0,o.unreachable)(e)}}async function g(e){const t=await r.authGetLoginConfiguration(e,{});if("success"===t.type){const e=t.data,n="required"!==e.samlSignIn&&e.hasAccount&&e.passwordSignIn,o="required"===e.samlSignIn,i="required"!==e.samlSignIn&&e.hasAccount&&e.mfaOptions.length>0,r=n&&!o?i?"on":"off":"disabled",a=e.mfaOptions.find((e=>"backup_code"===e.mfaMethod));return{hasPassword:n,canConfigurePassword:!o,isSamlEnforced:o,mfaStatus:r,numMfaSettings:e.mfaOptions.length,regenerateBackupCodes:void 0===a&&"on"===r}}throw t.error}},1799:(e,t,n)=>{n.d(t,{A:()=>o,K:()=>i});const o="XXXX-XXXX";function i(e){return e.replace(/[^a-z0-9A-Z]/g,"").replace(/^(.{4})/,"$1-")}}}]);